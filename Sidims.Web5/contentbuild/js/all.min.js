!function(){"use strict";var c="ChangePassword";function e(a,e,t,s,o,r,n){var i=this,l=(0,s.logger.getLogFn)(c);i.roles=[],i.save=function(){i.newEntity={oldPassword:i.user.currentPassWord,newPassword:i.user.newPassword,confirmPassword:i.user.confirmPassword},e=i.newEntity,s=r.resourceUri.accounts+"/ChangePassword",n.saveResource(s,e).then(function(e){console.log(e),t.message="",i.isSaving=!0,i.message="Please wait...",i.messageVisble=!0,a.path("/")},function(e){console.log(e),console.log(e.data),i.isSaving=!1,i.message="",i.messageVisble=!1;var s=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)s.push(e.data.modelState[a][o]);t.message="Failed to register user due to:"+s.join(" ")});var e,s},t.message="",i.message="",i.messageVisble=!1,function(){e=o.lookup.lookupCachedData,i.roles=e.roles;var e;s.activateController([],c).then(function(){l("Activated JobDetails View")})}()}angular.module("app").controller("ChangePassword",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var g="FirstCardPrintCE";function o(t,o,n){var r,e,a,c,i=this,s=(0,o.logger.getLogFn)(g);i.jobBatchTracker=[],i.jobTrackers=[],i.issuanceLogs=[],i.allIssuanceLogs=[],i.gotoJobDetails=function(o){o&&o.id&&t.path("/ce/first-card/"+o.job.id)},r=[(c=$routeParams.batchId,n.resourcejob.getJobBatchTrackerById(c).then(function(o){var t;i.jobBatchTracker=o,t=i.jobBatchTracker.cardIssuanceLogId,n.inventjob.getCardIssuanceLogById(t).then(function(o){i.issuanceLogs=o},function(o){logError("Unable to get CardIssuanceLog "+val)})},function(o){logError("Unable to get JobBatchTracker "+c)})),n.inventjob.getIncomingJobs(a).then(function(o){return i.incomingJobs=o,i.incomingJobs}),n.inventjob.getJobs(e).then(function(o){return i.jobs=o,i.jobs})],o.activateController(r,g).then(function(){s("Activated Jobs View")})}angular.module("app").controller("FirstCardPrintCE",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var d="FirstCardPersoCE";function e(t,i,o,s,c,n,r){var l=this,u=(0,s.logger.getLogFn)(d);function e(e){var a=n.resourceUri.ce+"/firstcard/create";r.saveResource(a,e).then(function(e){t.path("/ce/incoming-perso")},function(e){console.log(e);var a=[];for(var t in e.data.modelState)for(var n=0;n<e.data.modelState[t].length;n++)a.push(e.data.modelState[t][n]);o.message="Failed to save resource due to:"+a.join(" ")})}l.withSplit=!1,l.addRow=function(){l.withSplit=!0,o.inputs.push({})},l.machineLists=[],l.revertView=function(){console.log("ok"),l.withSplit=!1},l.jobBatchTracker=void 0,l.allIssuanceLogs=[],l.issuanceLogs=[],l.collectors=[],l.job=void 0,l.jobs=[],l.jobTracker=void 0,l.stateCheck=void 0,l.goBack=function(){$window.history.back()},l.save=function(){var n=0;angular.forEach(o.inputs,function(e,a){var t=e.rangeTo-e.rangeFrom+1;n+=t,0<t?(l.splitIsValid=!0,o.message=""):(l.splitIsValid=!1,o.message="Invalid Range value detected")}),l.issuanceLogs[0].quantityIssued==n?(l.splitIsValid=!0,o.message=""):(l.splitIsValid=!1,o.message="Invalid Range value detected");!1===l.splitIsValid?o.message="Invalid Range value detected":(r=[],angular.forEach(o.inputs,function(e,a){var t={jobTrackerId:l.jobTracker.id,departmentId:e.machine.departmentId,sidMachineId:e.machine.id,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo,jobBatchTrackerId:i.batchId};r.push(t)}),e(r),o.message="");var r},l.noSplitSave=function(){var n=[];angular.forEach(o.inputs,function(e,a){var t={jobTrackerId:l.jobTracker.id,departmentId:l.split.machine.departmentId,sidMachineId:l.split.machine.id,rangeFrom:l.split.rangeFrom,rangeTo:l.split.rangeTo};n.push(t)}),e(n)},l.errorMessage="",o.message="",l.splitIsValid=!1,l.split=[],function(){e=c.lookup.lookupCachedData,l.sidMachines=e.sidMachines,angular.forEach(l.sidMachines,function(e,a){"Card Engineer"==e.department.name&&(l.stateCheck=e.name,l.machineLists.push(e))});var e;var a=[(o=i.trackerId,c.resourcejob.getJobTrackerById(o).then(function(e){var a,t,n,r,o;l.jobTracker=e,l.split.machine=l.machineLists[0],l.split.rangeFrom=1,l.split.rangeTo=l.jobTracker.job.quantity,a=l.jobTracker.id,n=a,console.log(n),c.inventory.getClientVaultReportByTrackerId(n,t).then(function(e){return l.clientVault=e,0==l.clientVault.length&&(l.createVault=!0),console.log(l.clientVault),l.clientVault}),r=l.jobTracker.id,o=r,c.inventjob.getCardIssuanceLogByTrackerId(o).then(function(e){l.issuanceLogs=e,initJobSplit()},function(e){logError("Unable to get CardIssuanceLog "+o)})},function(e){logError("Unable to get JobTracker "+o)})),c.resourcejob.getJobs(r).then(function(e){return l.jobs=e,l.jobs}),c.resourcejob.getJobTrackers(n).then(function(e){return l.jobTrackers=e,console.log(l.jobTrackers),l.jobTrackers}),c.inventaccount.getProductionStaffs(t).then(function(e){return l.users=e,console.log(l.users),l.users})];var t;var n;var r;var o;s.activateController(a,d).then(function(){u("Activated JobDetails View")})}(),o.inputs=[{}],o.del=function(e){o.inputs.splice(e,1)}}angular.module("app").controller("FirstCardPersoCE",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var g="IncomingPersoCE";function o(n,o,t){var e,i,c,r=this,s=(0,o.logger.getLogFn)(g);r.gotoJobDetails=function(o){o&&o.id&&n.path("ce/first-card/"+o.id)},r.jobs=[],r.incomingPersos=[],e=[t.cardengrjob.getIncomingPersos(c).then(function(o){return r.incomingPersos=o,console.log(r.incomingPersos),r.incomingPersos}),t.inventjob.getJobs(i).then(function(o){return r.jobs=o,r.jobs})],o.activateController(e,g).then(function(){s("Activated Jobs View")})}angular.module("app").controller("IncomingPersoCE",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var s="IncomingPrintCE";function n(o,n,t){var i,c,e,r=this,g=(0,n.logger.getLogFn)(s);r.gotoJobDetails=function(n){n&&n.id&&o.path("/in/card-issuance/"+n.job.id)},r.jobs=[],r.incomingPrints=[],i=[t.cardengrjob.getIncomingPrints(e).then(function(n){return r.incomingPrints=n,console.log(r.incomingPrints),r.incomingPrints}),t.inventjob.getJobs(c).then(function(n){return r.jobs=n,r.jobs})],n.activateController(i,s).then(function(){g("Activated Jobs View")})}angular.module("app").controller("IncomingPrintCE",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var b="IssuanceConfirmationCE";function e(r,n,c,e,t,s,u){var o,a,i,d,l,g=this,f=(0,e.logger.getLogFn)(b);g.jobBatchTracker=[],g.issuanceLogs=[],g.allIssuanceLogs=[],g.cardlogs=[],g.cardlog=void 0,g.save=function(){n.id;var e=n.batchId;g.newEntity={jobBatchTrackerId:e,cardIssuanceLogId:g.cardlog.id},o=g.newEntity,a=n.batchId,t=s.resourceUri.ce+"/CardIssuanceConfirmation/create",u.saveResource(t,o).then(function(e){r.path("/ce/first-card/"+a)},function(e){var o=[];for(var a in e.data.modelState)for(var t=0;t<e.data.modelState[a].length;t++)o.push(e.data.modelState[a][t]);c.message="Failed to save resource due to:"+o.join(" ")});var o,a,t},o=[(l=n.batchId,t.resourcejob.getJobBatchTrackerById(l).then(function(e){g.jobBatchTracker=e},function(e){logError("Unable to get JobBatchTracker "+l)})),(d=n.id,t.resourcejob.getCardIssuanceById(d).then(function(e){var o,a;g.cardIssuance=e,o=g.cardIssuance.jobTrackerId,t.inventjob.getCardIssuanceLogByTrackerId(o,a).then(function(e){return g.cardlogs=e,g.cardlog=g.cardlogs[0],g.jobTrackers})},function(e){logError("Unable to get CardIssuance "+d)})),t.inventjob.getJobs(i).then(function(e){return g.jobs=e,g.jobs}),t.inventaccount.getProductionStaffs(a).then(function(e){return g.users=e,console.log(g.users),g.users})],e.activateController(o,b).then(function(){f("Activated Jobs View")})}angular.module("app").controller("IssuanceConfirmationCE",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var c="ResumableNewPersoCE";function e(o,e,t){var s,n,r,u=this,a=(0,e.logger.getLogFn)(c);u.gotoJobDetails=function(e){e&&e.id&&o.path("/ce/resumable/new-perso/"+e.id)},u.jobs=[],u.resumeNewPersos=[],s=[t.cardengrjob.getResumableNewPersos(r).then(function(e){return u.resumeNewPersos=e,console.log(u.resumeNewPersos),u.resumeNewPersos}),t.inventjob.getJobs(n).then(function(e){return u.jobs=e,u.jobs})],e.activateController(s,c).then(function(){a("Activated Jobs View")})}angular.module("app").controller("ResumableNewPersoCE",e),e.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var y="ResumableNewPersoDetailCE";function e(e,n,r,o,a,i,l,c){var t,d,u,s=this,b=(0,o.logger.getLogFn)(y);function g(){return!s.isSaving}function f(e){var o=n.id;return a.resourcejob.getJobTrackerById(o,e).then(function(e){var o;s.jobTracker=e,v(s.jobTracker.id),p(s.jobTracker.id),o=s.jobTracker.jobId,a.resourcejob.getJobById(o).then(function(e){s.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+o)})}function p(o){return a.resourcejob.getIncomingCESplitAnalysisByJobTrackerId(o).then(function(e){s.jobSplitCEAnalysis=e,s.partial.quantityBad=s.jobSplitCEAnalysis.quantityBad,s.partial.quantityHeld=s.jobSplitCEAnalysis.quantityHeld},function(e){logError("Unable to get JobSplit "+o)})}function v(o){return a.resourcejob.getJobSplitByJobTrackerId(o).then(function(e){s.jobSplits=e},function(e){logError("Unable to get JobSplit "+o)})}s.cardIssuance=void 0,s.ceJobSplit=void 0,s.jobSplitCEAnalysis=[],s.cardissuancelogs=[],s.job=[],s.jobSplits=[],s.save=function(){if(!g())return $q.when(null);s.newEntity={jobId:s.jobTracker.jobId}},s.updateJobSplit=function(){e={id:s.ceJobSplit.id,jobTrackerId:n.id,jobSplitId:s.ceJobSplit.jobSplitId,quantityGood:s.ceJobSplit.quantityGood,quantityHeld:s.partial.quantityHeld,quantityBad:s.partial.quantityBad,createdById:s.ceJobSplit.createdById,createdOn:s.ceJobSplit.createdOn},o=i.resourceUri.ce+"/jobslit-ce-analysis/update",l.updateResource(o,e).then(function(e){f(!0),v(s.jobTracker.id),p(s.jobTracker.id)},function(e){console.log(e),r.message="Failed to save resource due to:"});var e,o},s.saveDeliverable=function(){console.log(s.del);var e={jobTrackerId:n.id,rangeFrom:s.del.rangeFrom,rangeTo:s.del.rangeTo};s.del.rangeFrom,s.del.rangeTo,s.getRangeTotal,s.cardIssuance.totalHeld,s.cardIssuance.totalQuantityIssued;!function(e){n.id;var o=i.resourceUri.ce+"/carddeliverylog/create";l.saveResource(o,e).then(function(e){console.log(e),getCardDeliveryLogs(),s.del={}},function(e){console.log(e)})}(e)},s.deleteDelivery=function(e){if(e&&e.id){var o={id:e.id,jobTrackerId:n.trackerId};t=o,r=i.resourceUri.ce+"/carddeliverylog/delete",l.saveResource(r,t).then(function(e){getCardDeliveryLogs()},function(e){console.log(e)})}var t,r},s.carddeliverylogs=[],s.getTotal=function(e){for(var o=0,t=0;t<s.carddeliverylogs.length;t++){var r=s.carddeliverylogs[t];o+=r.rangeTo-r.rangeFrom+1}return o},s.refreshDeliveryLog=function(){getCardDeliveryLogs()},s.displayJobSplitDetails=function(e){s.jobSplitDetail=!0,o=e.id,a.resourcejob.getJobSplitCEAnalysisById(o).then(function(e){var o,t;s.ceJobSplit=e,o=s.ceJobSplit.jobSplitId,a.resourcejob.getJobHandler(o,t).then(function(e){s.jobHandler=e[0];var o=c.authentication,t=o.page;return s.jobHandler.handlerId===s.userInfo[0].id?s.isHandler=!0:s.isHandler="CardEngr Supervisor"==t,s.jobHandler}),s.partial.quantityBad=s.ceJobSplit.quantityBad,s.partial.quantityHeld=s.ceJobSplit.quantityHeld},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var o},s.letMeHandleJob=function(e){s.ceHandler={id:e.id},o=s.ceHandler,t=i.resourceUri.ce+"/jobhandle/update",l.updateResource(t,o).then(function(e){console.log(e)},function(e){console.log(e),r.message="Failed to save resource due to:"});var o,t},s.jobSplitDetail=!1,s.isSaving=!1,s.partial={},s.isHandler=!1,t=[f(),a.inventaccount.getProductionStaffs(u).then(function(e){return s.staffs=e,console.log(s.staffs),s.staffs}),(d=c.authentication.userName,a.application.getUserDetail(d).then(function(e){s.userInfo=e,console.log(s.userInfo)},function(e){logError("Unable to get JobSplit "+entityId)}))],o.activateController(t,y).then(function(){b("Activated Jobs View")}),Object.defineProperty(s,"canSave",{get:g}),s.fixModel={},s.del={}}angular.module("app").controller("ResumableNewPersoDetailCE",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService","authService"]}();
!function(){"use strict";var l="ResumablePartialPersoCE";function e(o,e,t){var r,a,s,n=this,i=(0,e.logger.getLogFn)(l);n.gotoJobDetails=function(e){e&&e.id&&(console.log(e.job.id),o.path("/ce/first-card/"+e.job.id))},n.jobs=[],n.resumePartialPersos=[],r=[t.cardengrjob.getResumablePartialPersos(s).then(function(e){return n.resumePartialPersos=e,console.log(n.resumePartialPersos),n.resumePartialPersos}),t.inventjob.getJobs(a).then(function(e){return n.jobs=e,n.jobs})],e.activateController(r,l).then(function(){i("Activated Jobs View")})}angular.module("app").controller("ResumablePartialPersoCE",e),e.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var a="ResumablePendingPersoCE";function e(o,e,n){var t,s,r,i=this,u=(0,e.logger.getLogFn)(a);i.gotoJobDetails=function(e){e&&e.id&&o.path("/ce/resumable/new-perso/"+e.id)},i.jobs=[],i.resumeNewPersos=[],t=[n.cardengrjob.getResumablePendingPersos(r).then(function(e){return i.resumeNewPersos=e,console.log(i.resumeNewPersos),i.resumeNewPersos}),n.inventjob.getJobs(s).then(function(e){return i.jobs=e,i.jobs})],e.activateController(t,a).then(function(){u("Activated Jobs View")})}angular.module("app").controller("ResumablePendingPersoCE",e),e.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var y="ResumablePendingPersoDetailCE";function e(e,r,n,o,a,i,l,c){var t,d,s,u=this,b=(0,o.logger.getLogFn)(y);function g(){return!u.isSaving}function f(e){var o=r.id;return a.resourcejob.getJobTrackerById(o,e).then(function(e){var o;u.jobTracker=e,v(u.jobTracker.id),p(u.jobTracker.id),o=u.jobTracker.jobId,a.resourcejob.getJobById(o).then(function(e){u.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+o)})}function p(o){return a.resourcejob.getIncomingCESplitAnalysisByJobTrackerId(o).then(function(e){u.jobSplitCEAnalysis=e,u.partial.quantityBad=u.jobSplitCEAnalysis.quantityBad,u.partial.quantityHeld=u.jobSplitCEAnalysis.quantityHeld,console.log(u.jobSplitCEAnalysis)},function(e){logError("Unable to get JobSplit "+o)})}function v(o){return a.resourcejob.getJobSplitByJobTrackerId(o).then(function(e){u.jobSplits=e},function(e){logError("Unable to get JobSplit "+o)})}u.cardIssuance=void 0,u.ceJobSplit=void 0,u.jobSplitCEAnalysis=[],u.cardissuancelogs=[],u.job=[],u.jobSplits=[],u.save=function(){if(!g())return $q.when(null);u.newEntity={jobId:u.jobTracker.jobId}},u.updateJobSplit=function(){e={id:u.ceJobSplit.id,jobTrackerId:r.id,jobSplitId:u.ceJobSplit.jobSplitId,quantityGood:u.ceJobSplit.quantityGood,quantityHeld:u.partial.quantityHeld,quantityBad:u.partial.quantityBad,createdById:u.ceJobSplit.createdById,createdOn:u.ceJobSplit.createdOn},o=i.resourceUri.ce+"/jobslit-ce-analysis/update",l.updateResource(o,e).then(function(e){f(!0),v(u.jobTracker.id),p(u.jobTracker.id)},function(e){console.log(e),n.message="Failed to save resource due to:"});var e,o},u.saveDeliverable=function(){console.log(u.del);var e={jobTrackerId:r.id,rangeFrom:u.del.rangeFrom,rangeTo:u.del.rangeTo};u.del.rangeFrom,u.del.rangeTo,u.getRangeTotal,u.cardIssuance.totalHeld,u.cardIssuance.totalQuantityIssued;!function(e){r.id;var o=i.resourceUri.ce+"/carddeliverylog/create";l.saveResource(o,e).then(function(e){console.log(e),getCardDeliveryLogs(),u.del={}},function(e){console.log(e)})}(e)},u.deleteDelivery=function(e){if(e&&e.id){var o={id:e.id,jobTrackerId:r.trackerId};t=o,n=i.resourceUri.ce+"/carddeliverylog/delete",l.saveResource(n,t).then(function(e){getCardDeliveryLogs()},function(e){console.log(e)})}var t,n},u.carddeliverylogs=[],u.getTotal=function(e){for(var o=0,t=0;t<u.carddeliverylogs.length;t++){var n=u.carddeliverylogs[t];o+=n.rangeTo-n.rangeFrom+1}return o},u.refreshDeliveryLog=function(){getCardDeliveryLogs()},u.displayJobSplitDetails=function(e){u.jobSplitDetail=!0,o=e.id,a.resourcejob.getJobSplitCEAnalysisById(o).then(function(e){var o,t;u.ceJobSplit=e,o=u.ceJobSplit.jobSplitId,a.resourcejob.getJobHandler(o,t).then(function(e){u.jobHandler=e[0];var o=c.authentication,t=o.page;return u.jobHandler.handlerId===u.userInfo[0].id?u.isHandler=!0:u.isHandler="CardEngr Supervisor"==t,u.jobHandler}),u.partial.quantityBad=u.ceJobSplit.quantityBad,u.partial.quantityHeld=u.ceJobSplit.quantityHeld},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var o},u.letMeHandleJob=function(e){u.ceHandler={id:e.id},o=u.ceHandler,t=i.resourceUri.ce+"/jobhandle/update",l.updateResource(t,o).then(function(e){console.log(e)},function(e){console.log(e),n.message="Failed to save resource due to:"});var o,t},u.jobSplitDetail=!1,u.isSaving=!1,u.partial={},u.isHandler=!1,t=[f(),a.inventaccount.getProductionStaffs(s).then(function(e){return u.staffs=e,console.log(u.staffs),u.staffs}),(d=c.authentication.userName,a.application.getUserDetail(d).then(function(e){u.userInfo=e,console.log(u.userInfo)},function(e){logError("Unable to get JobSplit "+entityId)}))],o.activateController(t,y).then(function(){b("Activated Jobs View")}),Object.defineProperty(u,"canSave",{get:g}),u.fixModel={},u.del={}}angular.module("app").controller("ResumablePendingPersoDetailCE",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService","authService"]}();
!function(){"use strict";var g="IncomingJobCS";function o(n,o,t){var e,i,c,s,r=this,u=(0,o.logger.getLogFn)(g);r.jobs=[],r.incomingJobs=[],r.gotoJobDetails=function(o){o&&o.id&&n.path("/cs/jobdetail/"+o.id)},e=[t.customerservice.getIncomingJobs(s).then(function(o){return r.incomingJobs=o,console.log(r.incomingJobs),r.incomingJobs}),t.inventjob.getJobs(c).then(function(o){return r.jobs=o,r.jobs}),t.inventaccount.getProductionStaffs(i).then(function(o){return r.users=o,console.log(r.users),r.users})],o.activateController(e,g).then(function(){u("Activated Jobs View")})}angular.module("app").controller("IncomingJobCS",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var N="JobDetailCS";function e(i,n,e,o,r,l,c){var t,s,a,d,v,u,y=this,g=(0,o.logger.getLogFn)(N);y.deliveryNoteLogs=[],y.save=function(){var e=n.deliveyNoteId;y.newEntity={deliveryNoteId:e},o=y.newEntity,t=l.resourceUri.cs+"/deliveryNote/create",c.saveResource(t,o).then(function(e){i.path("/cs/incoming-jobs")},function(e){console.log(e)});var o,t},t=[(u=n.deliveyNoteId,r.resourcejob.getDeliveryNoteId(u,v).then(function(e){var o,t;y.deliveryNote=e,o=y.deliveryNote.sidClientId,r.dispatchjob.getDispatchDeliveryGenerated(o,t).then(function(e){return y.dispatchDelivery=e,console.log(y.dispatchDelivery),y.dispatchDelivery}),console.log(y.deliveryNote)},function(e){logError("Unable to get deliveryNote "+u)})),(d=n.deliveyNoteId,r.dispatchjob.getDeliveryNoteLogByNoteId(d,a).then(function(e){return y.deliveryNoteLogs=e,console.log(y.deliveryNoteLogs),y.deliveryNoteLogs})),r.inventjob.getJobs(s).then(function(e){return y.jobs=e,y.jobs})],o.activateController(t,N).then(function(){g("Activated JobDetails View")})}angular.module("app").controller("JobDetailCS",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var S="dashboard";function e(r,e,o,t,n,i,a,u,c,s,g){var v=this,b=(0,a.logger.getLogFn)(S),d=u.keyCodes;function l(e,r){return c.resourcejob.getRecentServerJobQueues2(e,r,v.paging.currentPage,v.paging.pageSize,v.serverJobsSearch).then(function(e){return v.recentServerJobs=v.recentFilteredServerJobs=e,v.serverJobCount&&!r||f(),h(),e})}function p(e,r){return c.resourcejob.getRecentServerJobQueues(e,r,v.paging.currentPage,v.paging.pageSize,v.serverJobsSearch).then(function(e){return v.recentServerJobs=v.recentFilteredServerJobs=e,v.serverJobCount&&!r||f(),h(),e})}function f(){return c.resourcejob.getServerJobCount().then(function(e){return v.serverJobCount=e})}function h(){v.serverJobFilteredCount=c.resourcejob.getServerJobFilteredCount(v.serverJobsSearch)}v.fileType="asc",v.auth=i.authentication,v.gotoJobDetails=function(e){e&&e.id&&("CardOps"!==v.currnetRole&&"CardOps Supervisor"!==v.currnetRole||r.path("/co/job-setup/"+e.id))},v.roles=[],v.currnetRole=void 0,v.refresh=function(){l(v.fileType)},v.markTreated=function(e){r={id:e.id,jobName:e.jobName},o=s.resourceUri.co+"/serverjob/delete",g.updateResource(o,r).then(function(e){l()},function(e){t.message="Failed to save resource due to:"});var r,o},v.recentServerJobs=[],v.recentFilteredServerJobs=[],v.serverJobsSearch="",v.search=function(e){e.keyCode===d.esc&&(v.serverJobsSearch="");p(v.fileType)},v.serverJobCount=0,v.serverJobFilteredCount=0,v.paging={currentPage:1,maxPagesToShow:10,pageSize:10},v.pageChanged=function(e){if(!e)return;v.paging.currentPage=e,p(v.fileType)},Object.defineProperty(v.paging,"pageCount",{get:function(){return Math.floor(v.serverJobFilteredCount/v.paging.pageSize)+1}}),function(){!function(){var e=i.authentication;if(""!==e.roles){var r=e.page;v.currnetRole=r}}();var e=[l(v.fileType),(r=i.authentication.page,void(v.currnetRole=r))];var r;a.activateController(e,S).then(function(){b("Activated Dashboard View")})}()}angular.module("app").controller("dashboard",e),e.$inject=["$location","$route","$rootScope","$scope","$timeout","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="FlaggedJob";function e(e,t,o,n,c,i){var r,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getFlaggedJobs(e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,r=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(r,n).then(function(e){l()},function(e){console.log(e),t.message="Failed to save due to: "+e.data.message});var n,r},r=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,console.log(g.jobs),g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(r,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("FlaggedJob",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="JobFlag";function e(r,t,c,n,l,s,i){var g=this,d=(0,n.logger.getLogFn)(u);t.trackerId;g.jobTracker=void 0,g.flagTypes=[],g.flag={},g.save=function(){console.log(g.flag.department);var e={jobTrackerId:t.trackerId,targetUnitId:g.flag.department.id,flagTypeId:g.flag.flagType.id,description:g.flag.description,recommendation:g.flag.recommendation};console.log(e),o=e,a=s.resourceUri.common+"/flagjob/create",i.saveResource(a,o).then(function(e){var o;g.flagjob={},l.resourcejob.getJobTrackers(o).then(function(e){return g.jobTrackers=e,g.jobTrackers}),r.path("/job/audit-trail/"+t.trackerId)},function(e){console.log(e),c.message="Failed to save due to: "+e.data.message});var o,a},function(){e=l.lookup.lookupCachedData,g.flagTypes=e.flagTypes,g.departments=e.departments;var e;var o=[(r=t.trackerId,l.resourcejob.getJobTrackerById(r,a).then(function(e){return g.jobTracker=e,console.log(g.jobTracker),g.jobTracker}))];var a,r;n.activateController(o,u).then(function(){d("Activated Job Status View")})}()}angular.module("app").controller("JobFlag",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var T="JobStatus";function e(o,e,r,t,n,a,c,i,u,s,b){var l=this,g=(0,c.logger.getLogFn)(T),d=i.keyCodes;function j(o){return u.resourcejob.getJobTrackers(o,l.paging.currentPage,l.paging.pageSize,l.jobTrackersSearch).then(function(e){return l.jobTrackers=l.filteredJobTrackers=e,console.log(l.jobTrackers),l.jobTrackerFilteredCount=u.resourcejob.getJobTrackerFilteredCount(l.jobTrackersSearch),l.jobTrackerCount&&!o||u.resourcejob.getJobTrackerCount().then(function(e){return l.jobTrackerCount=e}),console.log(l.jobTrackers),e})}function f(){l.filteredJobTrackers=l.jobTrackers.filter(k)}function k(e){var o=c.textContains,r=l.jobTrackersSearch;return!r||(o(e.job.jobName,r)||o(e.job.jobName,r))}function p(e){return u.resourcejob.getJobs(e).then(function(e){return l.jobs=e,l.jobs})}l.jobTrackers=[],l.jobs=[],l.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},l.gotoUpdate=function(e){o.path("/co/job-setup-update/"+e.id)},l.deleteJob=function(e){var o={id:e.id},r=s.resourceUri.supervisor+"/jobtracker/delete/"+e.id;b.saveResource(r,o).then(function(e){n.location.reload()})},l.revertJob=function(e){console.log(e);var o={id:e.id},r=s.resourceUri.supervisor+"/jobtracker/revert/"+e.id;b.saveResource(r,o).then(function(e){n.location.reload()})},l.refresh=function(){j(!0),p(!0)},l.flagJob=function(e){console.log(e),o.path("/job-flag/"+e.id)},l.filteredJobTrackers=[],l.jobTrackersSearch="",l.jobTrackersFilter=k,l.search=function(e){e.keyCode===d.esc&&(l.jobTrackersSearch=""),f()},l.jobTrackerCount=0,l.jobTrackerFilteredCount=0,l.paging={currentPage:1,maxPagesToShow:10,pageSize:15},l.pageChanged=function(e){if(!e)return;l.paging.currentPage=e,j()},l.currentRole=void 0,Object.defineProperty(l.paging,"pageCount",{get:function(){return Math.floor(l.jobTrackerFilteredCount/l.paging.pageSize)+1}}),function(){e=u.lookup.lookupCachedData,console.log(e);var e;var o=[j(!0),p(!0),(r=a.authentication.page,void(l.currentRole=r))];var r;c.activateController(o,T).then(function(){g("Activated Job Status View")})}()}angular.module("app").controller("JobStatus",e),e.$inject=["$location","$route","$routeParams","$scope","$window","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var u="JobStatusDetail";function e(r,p,e,i,k,t,o){var f=this,s=(0,i.logger.getLogFn)(u);p.trackerId;function T(e,r){return k.resourcejob.getJobSplitCEAnalysisByJobTrackerId(e,r).then(function(e){return f.jobsplitceanalysis=e,console.log(f.jobsplitceanalysis),f.jobsplitceanalysis})}function m(e,r){return k.resourcejob.getJobSplitByTrackerId(e,r).then(function(e){return f.jobSplits=e,f.jobSplits})}f.jobTracker=void 0,f.jobs=[],f.gotoJobFlag=function(){var e=p.trackerId;r.path("/job-flag/"+e)},f.issuanceLogs=[],f.cardissuancelogs=[],f.cardops=[],f.printanalysis=[],f.jobsplitceanalysis=[],f.qaprocess=[],f.mailingDepartment=[],f.mailingsplits=[],function(){e=k.lookup.lookupCachedData,f.department=e.departments;var e;var r=[(j=p.trackerId,k.resourcejob.getJobTrackerById(j,c).then(function(e){var r,t,o,a,n,c,i,s,u,l,b,g,d;return f.jobTracker=e,console.log(f.jobTracker),r=f.jobTracker.jobId,k.resourcejob.getJobVariantByJobId(r,t).then(function(e){return console.log(e),0!==e.length&&(f.jobVariants=e[0],f.productName=!0),f.jobVariants}),a=p.trackerId,k.resourcejob.getJobByTrackerId(a,o).then(function(e){return f.jobs=e,f.jobs}),"Not Required"!==f.jobTracker.stage01CardOps.name&&(n=f.jobTracker.jobId,k.resourcejob.getCardOpsByJobId(n,c).then(function(e){return f.cardops=e,f.cardops})),"Not Required"!==f.jobTracker.stage02Inventory.name&&(i=f.jobTracker.id,k.resourcejob.getCardIssuanceLogByTrackerId(i,s).then(function(e){return f.cardissuancelogs=e,f.cardissuancelogs})),"Not Required"!==f.jobTracker.stage03Printing.name&&(m(f.jobTracker.id),u=f.jobTracker.id,k.resourcejob.getPrintAnalysisByTrackerId(u,l).then(function(e){return f.printanalysis=e,f.printanalysis})),"Not Required"!==f.jobTracker.stage06FirstJobRun.name&&(m(f.jobTracker.id),T(j)),"Not Required"!==f.jobTracker.stage05QA.name&&(m(f.jobTracker.id),b=j,k.resourcejob.getPersoJobSplitByJobTrackerId(b).then(function(e){f.qaprocess=e},function(e){logError("Unable to get JobSplit "+entityId)})),"Not Required"!==f.jobTracker.stage07CardEngrResume.name&&(m(f.jobTracker.id),T(j)),"Not Required"!==f.jobTracker.stage09Mailing.name&&(g=f.jobTracker.id,k.resourcejob.getMailingJobSplitByJobTrackerId(g,d).then(function(e){return f.mailingsplits=e,f.mailingsplits})),f.jobTracker})),(n=p.trackerId,console.log(n),k.inventory.getClientVaultReportByTrackerId(n,a).then(function(e){return f.clientVault=e,0==f.clientVault.length&&(f.createVault=!0),f.clientVault})),(o=p.trackerId,k.inventjob.getCardIssuanceLogs(o).then(function(e){f.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+o)})),k.inventaccount.getProductionStaffs(t).then(function(e){return f.staffs=e,console.log(f.staffs),f.staffs}),void angular.forEach(f.department,function(e,r){"Mailing"===e.name&&(f.mailingDepartment.push(e),console.log(f.mailingDepartment))})];var t;var o;var a,n;var c,j;i.activateController(r,u).then(function(){s("Activated Job Status View")})}()}angular.module("app").controller("JobStatusDetail",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var b="NonPersoJobSetupCO";function o(n,r,t,o,s,i,a){var e,d,c=this,u=(0,o.logger.getLogFn)(b);c.serverJobs=[],c.serverJob=void 0,c.job=[],c.goBack=function(){$window.history.back()},c.gotoJobDetails=function(o){o&&o.id&&n.path("/co/job-setup/"+o.id)},c.updateClientList=function(o){c.newClientInfo=[];var n=c.job.sector.id;angular.forEach(c.clients,function(o,e){o.sectorId==n&&c.newClientInfo.push(o)})},c.nonPersoJob=void 0,c.save=function(){r.id;c.newJob={id:c.nonPersoJob.id,jobName:c.nonPersoJob.jobName,jobNameId:c.nonPersoJob.jobName,sidSectorId:c.nonPersoJob.sidProduct.sidClient.sector.id,sidClientId:c.nonPersoJob.sidProduct.sidClient.id,sidCardTypeId:c.nonPersoJob.sidProduct.sidCardType.id,remarkId:c.selectedrRemark.id,ServiceTypeId:c.nonPersoJob.serviceType.id,quantity:c.nonPersoJob.quantity,jobType:"NonPerso"},console.log(c.newJob),o=c.newJob,e=i.resourceUri.co+"/job/create",a.saveResource(e,o).then(function(o){c.serverJob={},c.job={},n.path("/job-status")},function(o){var e=[];for(var n in o.data.modelState)for(var r=0;r<o.data.modelState[n].length;r++)e.push(o.data.modelState[n][r]);t.message="Failed to save resource due to:"+e.join(" "),console.log(o)});var o,e},c.clients=[],c.newClientInfo=[],c.jobTypes=[],c.remarks=[],c.sectors=[],c.priority=[],c.sidVariants=[],c.sidCardTypes=[],c.jobNames=[],e=[function(){var e=r.id;if(e)return s.resourcejob.getByNonPersoJobId(e).then(function(o){var e;return c.nonPersoJob=o,console.log(c.nonPersoJob),e=s.lookup.lookupCachedData,c.remarks=e.remarks,c.nonPersoJob},function(o){logError("Unable to get variant "+e)})}(),s.resourcejob.getNonPersoJobs(d).then(function(o){return c.jobNames=o,c.jobNames})],o.activateController(e,b).then(function(){u("Activated Variants View")})}angular.module("app").controller("NonPersoJobSetupCO",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="ResolvedJob";function e(e,t,o,n,c,s){var r,i,a,g,l=this,u=(0,o.logger.getLogFn)(d);l.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,r=c.resourceUri.supervisor+"/unflagjob/create",s.saveResource(r,n).then(function(e){getFlaggedJobs()},function(e){console.log(e),t.message="Failed to save due to: "+e.data.message});var n,r},r=[n.supervisor.getResolvedFlaggedJobs(g).then(function(e){return l.incomingPrints=e,l.incomingPrints}),n.inventjob.getJobs(a).then(function(e){return l.jobs=e,l.jobs}),n.resourcejob.getJobTrackers(i).then(function(e){return l.jobTrackers=e,l.jobTrackers})],o.activateController(r,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("ResolvedJob",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var s="IncomingPrintPR";function n(t,n,o){var i,r,c,e=this,g=(0,n.logger.getLogFn)(s);e.gotoJobDetails=function(n){n&&n.id&&t.path("/pr/print-job/"+n.id)},e.jobs=[],e.incomingPrints=[],i=[o.printingjob.getIncomingPrints(c).then(function(n){return e.incomingPrints=n,console.log(e.incomingPrints),e.incomingPrints}),o.inventjob.getJobs(r).then(function(n){return e.jobs=n,e.jobs})],n.activateController(i,s).then(function(){g("Activated Jobs View")})}angular.module("app").controller("IncomingPrintPR",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var h="PrintDetailPR";function e(t,r,n,e,a,c,i){var o,s,u,l,d,b=this,g=(0,e.logger.getLogFn)(h);b.jobBatchTracker=void 0,b.allIssuanceLogs=[],b.issuanceLogs=[],b.collectors=[],b.job=void 0,b.jobs=[],b.jobTracker=void 0,b.stateCheck=void 0,b.goBack=function(){$window.history.back()},b.save=function(){b.newEntity={InitializedById:"",jobBatchTrackerId:r.batchId,InitializedOn:"12/12/1900"},e=b.newEntity,o=c.resourceUri.printing+"/printcomplete/create",i.saveResource(o,e).then(function(e){t.path("/pr/incoming-print")},function(e){console.log(e);var o=[];for(var t in e.data.modelState)for(var r=0;r<e.data.modelState[t].length;r++)o.push(e.data.modelState[t][r]);n.message="Failed to save resource due to:"+o.join(" ")});var e,o},o=[(d=r.batchId,a.resourcejob.getJobBatchTrackerById(d).then(function(e){var o;b.jobBatchTracker=e,console.log(b.jobBatchTracker),o=b.jobBatchTracker.jobTrackerId,a.inventjob.getCardIssuanceLogByTrackerId(o).then(function(e){b.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+val)})},function(e){logError("Unable to get JobTracker "+d)})),a.resourcejob.getJobs(l).then(function(e){return b.jobs=e,b.jobs}),a.resourcejob.getJobTrackers(u).then(function(e){return b.jobTrackers=e,console.log(b.jobTrackers),b.jobTrackers}),a.inventaccount.getProductionStaffs(s).then(function(e){return b.users=e,console.log(b.users),b.users})],e.activateController(o,h).then(function(){g("Activated JobDetails View")})}angular.module("app").controller("PrintDetailPR",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";angular.module("app.layout",[])}();
!function(){"use strict";function t(c,t,a,o,i,e){var r=this;o.logger;r.title=void 0,r.title2=void 0,a.name="Olami",t.$on("$routeChangeSuccess",function(t,o,i){a.location=c.path();var n={};try{e.forEach(function(t){if(t.url==a.location&&(r.title=t.config.title),void 0===t)throw n})}catch(t){if(t!==n)throw t}}),t.$on("$routeChangeStart",function(t,o,i){a.location=c.path();var n={};try{e.forEach(function(t){if(t.url==a.location&&(r.title=t.config.title),void 0===t)throw n})}catch(t){if(t!==n)throw t}})}angular.module("app").controller("pagetitle",t),t.$inject=["$location","$rootScope","$scope","common","datacontext","routes"]}();
!function(){"use strict";function e(e,o){var s=this,t=e.logger;s.busyMessage="Please wait ...",s.isBusy=!0,s.showSplash=!0,t.success("CodeCamper loaded!",null),e.$timeout(function(){s.showSplash=!1},1e3)}angular.module("app.layout").controller("Shell",e),e.$inject=["common","datacontext"]}();
!function(){"use strict";function t(e,r,t,n,o,i){var a=this,s=n.keyCodes;a.clearStorage=function(){return t.deleteDialog("local storage and work in progress").then(function(){o.zStorage.clear()}).catch(function(){})},a.isCurrent=function(t){if(!t.title||!r.current||!r.current.title)return"";var e=t.title;return r.current.title.substr(0,e.length)===e?"current":""},a.routes=i.getRoutes(),a.search=function(t){if(t.keyCode===s.esc)return void(a.searchText="");if("click"===t.type||t.keyCode===s.enter){e.path("/sessions/search/"+a.searchText)}},a.searchText="",a.wip=[],a.wipChangedEvent=n.events.storage.wipChanged,a.navRoutes=a.routes.filter(function(t){return t.settings&&t.settings.nav}).sort(function(t,e){return t.settings.nav-e.settings.nav}),a.wip=o.zStorageWip.getWipSummary()}angular.module("app.layout").controller("Sidebar",t),t.$inject=["$location","$route","bootstrap.dialog","config","datacontext","routehelper"]}();
!function(){"use strict";var g="login";function e(o,t,e,a,l,n,r,u,i){(0,n.logger.getLogFn)(g),n.$q;var c=this,s=r.keyCodes,h={clientId:"",isAuth:!1,userName:"",page:"",roles:"",fullName:""};c.search=function(e){if(console.log("enter"),e.keyCode===s.esc)return void(c.searchText="");if(""===e.type||e.keyCode===s.enter){console.log("enter");o.path("products/search/"+c.searchText)}},c.switchAccount=function(e){var t=u.get("authorizationData");t&&(h.isAuth=!0,h.userName=t.userName,h.clientId=i.clientId,h.page=t.page,h.roles=t.roles,h.fullName=t.fullName);u.set("authorizationData",{clientId:t.clientId,token:t.token,userName:t.userName,roles:t.roles,page:e.name,fullName:t.fullName});u.get("authorizationData");a.location.reload(),o.path("/")},c.auth=l.authentication,c.roles=[],e.logOut=function(){l.logOut(),o.path("/login")},n.activateController([function(){if(null!=c.auth.fullName&&""!==c.auth.fullName||(console.log("empty"),t.reload()),c.auth.roles){var e=c.auth.roles;angular.forEach(e,function(e){c.roles.push({name:e})})}else t.reload()}()],g).then(function(){})}angular.module("app").controller("userInfoNavBar",e),e.$inject=["$location","$route","$scope","$window","authService","common","config","localStorageService","ngAuthSettings"]}();
!function(){"use strict";var u="login";function e(e,i,s,n,o,a,t,l,r,g){(0,r.logger.getLogFn)(u),r.$q;var c=this;c.isSaving=!1,c.message="",c.messageVisble=!1,c.login=function(){s.message="",c.isSaving=!0,c.message="Please wait...",c.messageVisble=!0,l.login(s.loginData).then(function(e){i.path("/"),a.location.reload()},function(e){console.log(e),c.isSaving=!1,c.message="",c.messageVisble=!1,s.message=e.error_description,console.log(e.error_description)})},c.clearErrorMessage=function(){s.message=""},s.showParticles=!0,s.loginData={userName:"",password:""},s.message="",Object.defineProperty(c,"canSave",{get:function(){return!c.isSaving}}),s.login=function(){n.isLoginPage=!1,n.isLightLoginPage=!1,n.isLockscreenPage=!1,n.isMainPage=!0,n.isContent=!0,n.layoutOptions={horizontalMenu:{isVisible:!1,isFixed:!0,minimal:!1,clickToExpand:!1,isMenuOpenMobile:!1},sidebar:{isVisible:!0,isCollapsed:!1,toggleOthers:!0,isFixed:!0,isRight:!1,isMenuOpenMobile:!1,userProfile:!0},chat:{isOpen:!1},settingsPane:{isOpen:!1,useAnimation:!0},container:{isBoxed:!1},skins:{sidebarMenu:"",horizontalMenu:"",userInfoNavbar:""},pageTitles:!0,userInfoNavVisible:!1},e.loadOptionsFromCookies(),l.login(s.loginData).then(function(e){accountTypeSetup(),defaultAccountType(),i.path("/")},function(e){s.message=e.error_description,console.log(s.message)})},n.isLoginPage=!0,n.isLightLoginPage=!0,n.isLockscreenPage=!1,n.isMainPage=!1,n.layoutOptions={horizontalMenu:{isVisible:!1,isFixed:!0,minimal:!1,clickToExpand:!1,isMenuOpenMobile:!1},sidebar:{isVisible:!1,isCollapsed:!1,toggleOthers:!1,isFixed:!0,isRight:!1,isMenuOpenMobile:!1,userProfile:!1},chat:{isOpen:!1},settingsPane:{isOpen:!1,useAnimation:!1},container:{isBoxed:!1},skins:{sidebarMenu:"",horizontalMenu:"",userInfoNavbar:""},pageTitles:!1,userInfoNavVisible:!1}}angular.module("app").controller("login",e),e.$inject=["$layout","$location","$scope","$rootScope","$route","$window","accountService","authService","common","localStorageService"]}();
!function(){"use strict";var a="IncomingJobMA";function n(o,n,i){var t,e,c,g=this,s=(0,n.logger.getLogFn)(a);g.gotoJobDetails=function(n){n&&n.id&&o.path("/ma/start-job/"+n.id)},g.jobs=[],g.mailingIncomingPersos=[],t=[i.mailingjob.getMAIncomingPersos(c).then(function(n){return g.mailingIncomingPersos=n,console.log(g.mailingIncomingPersos),g.mailingIncomingPersos}),i.inventjob.getJobs(e).then(function(n){return g.jobs=n,g.jobs})],n.activateController(t,a).then(function(){s("Activated Jobs View")})}angular.module("app").controller("IncomingJobMA",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var u="JobDeliveryMA";function o(e,o,n,t,i,r,c){var s,l,a,g=this,b=(0,t.logger.getLogFn)(u);g.pendingjobs=[],g.gotoJobDetails=function(o){o&&o.id&&e.path("/ma/job-delivery/"+o.id)},s=[i.mailingjob.getMAPendingDeliverys(a).then(function(o){return g.pendingjobs=o,console.log(g.pendingjobs),g.pendingjobs}),i.resourcejob.getJobs(l).then(function(o){return g.jobs=o,console.log(g.jobs),g.jobs})],t.activateController(s,u).then(function(){b("Activated Jobs View")})}angular.module("app").controller("JobDeliveryMA",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var j="JobDeliveryDetailMA";function e(e,t,a,i,c,l,d){var s=this,u=(0,i.logger.getLogFn)(j);function g(){y(s.jobTracker.id)}function v(e,r){return c.resourcejob.getMACardDeliveryLogByTrackerId(e,r).then(function(e){return s.carddeliverylogs=e,s.getRangeTotal=b(),s.getQuantityBad=function(e){for(var r=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var n=s.jobSplitCEAnalysis[o];r+=n.quantityBad}return r}(),s.getQuantityHeld=function(e){for(var r=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var n=s.jobSplitCEAnalysis[o];r+=n.quantityHeld}return r}(),s.carddeliverylogs})}function b(){for(var e=0,r=0;r<s.carddeliverylogs.length;r++){var o=s.carddeliverylogs[r];e+=o.rangeTo-o.rangeFrom+1}return e}function f(r){return c.resourcejob.getIncomingCESplitAnalysisByJobTrackerId(r).then(function(e){s.jobSplitCEAnalysis=e},function(e){logError("Unable to get JobSplit "+r)})}function y(e){var r=t.trackerId;return c.resourcejob.getQCCardDeliveryLogByTrackerId(r,e).then(function(e){return s.qcCarddeliverylogs=e,s.qcCarddeliverylogs})}s.del={},s.departments=[],s.newMailingSplits=[],s.carddeliverylogs=[],s.saveDeliverable=function(){var e={jobTrackerId:t.trackerId,rangeFrom:s.del.rangeFrom,rangeTo:s.del.rangeTo,boxQty:s.del.boxQty},r=s.del.rangeTo-s.del.rangeFrom+1;b()+r>s.cardIssuanceLog.quantityIssued?console.log("Quantity Surpass"):(o=e,n=l.resourceUri.ma+"/carddeliverylog/create",d.saveResource(n,o).then(function(e){v(s.jobTracker.id),s.del={}},function(e){console.log(e);var r=[];for(var o in e.data.modelState)for(var n=0;n<e.data.modelState[o].length;n++)r.push(e.data.modelState[o][n]);a.message="Failed to save resource due to:"+r.join(" ")}));var o,n},s.confirmCEDelivery=function(e){if(e&&e.id){var r={id:e.id};g(),o=r,n=l.resourceUri.ma+"/carddeliverylogconfirm/create",d.saveResource(n,o).then(function(e){v(s.jobTracker.id)},function(e){})}var o,n},s.refreshQCDeliveryLog=g,s.deleteDelivery=function(e){if(e&&e.id){var r={id:e.id,jobTrackerId:t.trackerId};o=r,n=l.resourceUri.ma+"/carddeliverylog/delete",d.saveResource(n,o).then(function(e){v(s.jobTracker.id)},function(e){console.log(e)})}var o,n},s.errorMessage="",s.clearErrorMessage=function(){s.errorMessage=""},function(){e=c.lookup.lookupCachedData,s.department=e.departments;var e;var r=[(n=t.trackerId,c.resourcejob.getJobTrackerById(n).then(function(e){var n,r,o,t;s.jobTracker=e,console.log(s.jobTracker),f(s.jobTracker.id),v(s.jobTracker.id),n=s.jobTracker.id,c.resourcejob.getJobSplitByJobTrackerId(n).then(function(e){var r,o;s.jobSplits=e,r=s.jobSplits,o=n,angular.forEach(r,function(e,r){e.departmentId===s.departments[0].id&&e.jobTrackerId===o&&s.newMailingSplits.push(e)})},function(e){logError("Unable to get JobSplit "+n)}),y(),r=s.jobTracker.id,c.inventjob.getCardIssuanceLogByTrackerId(r,o).then(function(e){return s.cardIssuanceLog=e[0],console.log(s.cardIssuanceLog),s.cardIssuanceLog}),t=s.jobTracker.jobId,c.resourcejob.getJobById(t).then(function(e){var r;s.jobs=e,r=s.jobs,s.del.rangeFrom=1,s.del.rangeTo=r.quantity,s.del.boxQty=1},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+n)})),void angular.forEach(s.department,function(e,r){"Mailing"===e.name&&s.departments.push(e)}),c.inventaccount.getProductionStaffs(o).then(function(e){return s.users=e,s.users})];var o;var n;i.activateController(r,j).then(function(){u("Activated Jobs View")})}()}angular.module("app").controller("JobDeliveryDetailMA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var g="JobRunMA";function e(a,t,s,n,r,i,c){var l=this,u=(0,n.logger.getLogFn)(g);function d(e){var o=t.trackerId;return r.inventjob.getCardIssuanceLogByTrackerId(o,e).then(function(e){return l.cardissuancelogs=e,console.log(l.cardissuancelogs),l.cardissuancelogs})}l.addRow=function(){s.inputs.push({})},l.machineLists=[],l.mailingModes=[],l.cardissuancelogs=[],l.marun=void 0,l.save=function(){var n=0;angular.forEach(s.inputs,function(e,o){var a=e.rangeTo-e.rangeFrom+1;n+=a,0<a?(l.splitIsValid=!0,s.message=""):(l.splitIsValid=!1,s.message="Invalid Range value detected")}),l.jobTracker.job.quantity==n?(l.splitIsValid=!0,s.message=""):(l.splitIsValid=!1,s.message="Invalid Range value detected");!1===l.splitIsValid?s.message="Invalid Range value detected":(r=[],angular.forEach(s.inputs,function(e,o){var a={jobTrackerId:t.trackerId,departmentId:e.machine.departmentId,sidMachineId:e.machine.id,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo};r.push(a)}),function(e){console.log(e);var o=i.resourceUri.ma+"/MailingSplitCard/create";c.saveResource(o,e).then(function(e){console.log(e),a.path("/ma/incoming-jobs")},function(e){console.log(e),s.message="Failed to save resource due to"})}(r),s.message="");var r},l.errorMessage="",s.message="",l.splitIsValid=!1,function(){e=r.lookup.lookupCachedData,l.sidMachines=e.sidMachines,angular.forEach(l.sidMachines,function(e,o){"Mailing"==e.department.name&&(l.stateCheck=e.name,l.machineLists.push(e))});var e;var o=[(a=t.trackerId,console.log(a),r.resourcejob.getJobTrackerById(a).then(function(e){var o,a;l.jobTracker=e,console.log(l.jobTracker),o=l.jobTracker.id,r.resourcejob.getJobSplitByJobTrackerId(o).then(function(e){l.jobSplits=e,console.log(l.jobSplits)},function(e){logError("Unable to get JobSplit "+o)}),d(),a=l.jobTracker.jobId,r.resourcejob.getJobById(a).then(function(e){l.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+a)})),d()];var a;n.activateController(o,g).then(function(){u("Activated Jobs View")})}(),s.inputs=[{}],s.del=function(e){s.inputs.splice(e,1)}}angular.module("app").controller("JobRunMA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var s="IncomingPrintPR";function n(t,n,o){var i,r,c,e=this,g=(0,n.logger.getLogFn)(s);e.gotoJobDetails=function(n){n&&n.id&&t.path("/pr/print-job/"+n.id)},e.jobs=[],e.incomingPrints=[],i=[o.printingjob.getIncomingPrints(c).then(function(n){return e.incomingPrints=n,console.log(e.incomingPrints),e.incomingPrints}),o.inventjob.getJobs(r).then(function(n){return e.jobs=n,e.jobs})],n.activateController(i,s).then(function(){g("Activated Jobs View")})}angular.module("app").controller("IncomingPrintPR",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var h="PrintDetailPR";function e(t,r,n,e,a,c,i){var o,s,u,l,b,d=this,g=(0,e.logger.getLogFn)(h);d.jobBatchTracker=void 0,d.allIssuanceLogs=[],d.issuanceLogs=[],d.collectors=[],d.job=void 0,d.jobs=[],d.jobTracker=void 0,d.stateCheck=void 0,d.goBack=function(){$window.history.back()},d.save=function(){d.newEntity={InitializedById:"",jobBatchTrackerId:r.batchId,InitializedOn:"12/12/1900"},e=d.newEntity,o=c.resourceUri.printing+"/printcomplete/create",i.saveResource(o,e).then(function(e){t.path("/pr/incoming-print")},function(e){console.log(e);var o=[];for(var t in e.data.modelState)for(var r=0;r<e.data.modelState[t].length;r++)o.push(e.data.modelState[t][r]);n.message="Failed to save resource due to:"+o.join(" ")});var e,o},o=[(b=r.batchId,a.resourcejob.getJobBatchTrackerById(b).then(function(e){var o;d.jobBatchTracker=e,console.log(d.jobBatchTracker),o=d.jobBatchTracker.jobTrackerId,a.inventjob.getCardIssuanceLogs(o).then(function(e){d.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+val)})},function(e){logError("Unable to get JobTracker "+b)})),a.resourcejob.getJobs(l).then(function(e){return d.jobs=e,d.jobs}),a.resourcejob.getJobTrackers(u).then(function(e){return d.jobTrackers=e,console.log(d.jobTrackers),d.jobTrackers}),a.inventaccount.getProductionStaffs(s).then(function(e){return d.users=e,console.log(d.users),d.users})],e.activateController(o,h).then(function(){g("Activated JobDetails View")})}angular.module("app").controller("PrintDetailPR",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="CardDeliveryReportPR";function r(e,r,o){var t,n,c,i,a,l=this,s=(0,r.logger.getLogFn)(u);l.gotoJobDetails=function(r){r&&r.id&&e.path("/pr/print-job/"+r.id)},l.jobs=[],l.carddeliveryreports=[],t=[o.printingjob.getPrintCardDelivery(a).then(function(r){return l.carddeliveryreports=r,console.log(l.carddeliveryreports),l.carddeliveryreports}),o.resourcejob.getJobTrackers(i).then(function(r){return l.jobTrackers=r,console.log(l.jobTrackers),l.jobTrackers}),o.inventjob.getJobs(c).then(function(r){return l.jobs=r,l.jobs}),o.inventaccount.getProductionStaffs(n).then(function(r){return l.collectors=r,l.collectors})],r.activateController(t,u).then(function(){s("Activated Jobs View")})}angular.module("app").controller("CardDeliveryReportPR",r),r.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var s="IncomingPrintPR";function n(t,n,o){var i,r,c,e=this,g=(0,n.logger.getLogFn)(s);e.gotoJobDetails=function(n){n&&n.id&&t.path("/pr/print-job/"+n.id)},e.jobs=[],e.incomingPrints=[],i=[o.printingjob.getIncomingPrints(c).then(function(n){return e.incomingPrints=n,console.log(e.incomingPrints),e.incomingPrints}),o.inventjob.getJobs(r).then(function(n){return e.jobs=n,e.jobs})],n.activateController(i,s).then(function(){g("Activated Jobs View")})}angular.module("app").controller("IncomingPrintPR",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var b="PrintMISReportPR";function o(t,o,r){var n,e,i,s,c=this,a=(0,o.logger.getLogFn)(b);c.gotoJobDetails=function(o){o&&o.id&&t.path("/pr/print-job/"+o.id)},c.jobs=[],c.misreports=[],n=[r.printingjob.getJobSplitPrintCEAnalysisReport(s).then(function(o){return c.misreports=o,console.log(c.misreports),c.misreports}),r.resourcejob.getJobTrackers(i).then(function(o){return c.jobTrackers=o,console.log(c.jobTrackers),c.jobTrackers}),r.inventjob.getJobs(e).then(function(o){return c.jobs=o,c.jobs})],o.activateController(n,b).then(function(){a("Activated Jobs View")})}angular.module("app").controller("PrintMISReportPR",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="PrintAnalysisPR";function n(t,n,i){var o,a,s,r=this,e=(0,n.logger.getLogFn)(l);r.gotoJobDetails=function(n){n&&n.id&&t.path("/pr/print-analysis/"+n.id)},r.jobs=[],r.printanalysis=[],o=[i.printingjob.getPrintAnalysis(s).then(function(n){return r.printanalysis=n,console.log(r.printanalysis),r.printanalysis}),i.inventjob.getJobs(a).then(function(n){return r.jobs=n,r.jobs})],n.activateController(o,l).then(function(){e("Activated Jobs View")})}angular.module("app").controller("PrintAnalysisPR",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var v="PrintAnalysisDetailPR";function e(e,n,r,o,t,i,l){var a,c=this,s=(0,o.logger.getLogFn)(v);function d(){return!c.isSaving}function u(e){var o=n.trackerId;return t.resourcejob.getJobTrackerById(o,e).then(function(e){var o;c.jobTracker=e,b(c.jobTracker.id),g(c.jobTracker.id),o=c.jobTracker.jobId,t.resourcejob.getJobById(o).then(function(e){c.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+o)})}function g(o){return t.resourcejob.getIncomingPrintCESplitAnalysisByJobTrackerId(o).then(function(e){c.jobSplitCEAnalysis=e,console.log(c.jobSplitCEAnalysis)},function(e){logError("Unable to get JobSplit "+o)})}function b(o){return t.resourcejob.getJobSplitByJobTrackerId(o).then(function(e){c.jobSplits=e},function(e){logError("Unable to get JobSplit "+o)})}c.cardIssuance=void 0,c.ceJobSplit=void 0,c.jobSplitCEAnalysis=[],c.cardissuancelogs=[],c.job=[],c.jobSplits=[],c.save=function(){if(!d())return $q.when(null);c.newEntity={jobId:c.jobTracker.jobId}},c.updateJobSplit=function(){var e={id:c.ceJobSplit.id,jobTrackerId:n.trackerId,jobSplitId:c.ceJobSplit.jobSplitId,quantityGood:c.ceJobSplit.quantityGood,quantityHeld:c.ceJobSplit.quantityHeld,quantityBad:c.ceJobSplit.quantityBad,createdById:c.ceJobSplit.createdById,createdOn:c.ceJobSplit.createdOn};console.log(e),o=e,t=i.resourceUri.printing+"/jobslit-print-qcanalysis/update",l.updateResource(t,o).then(function(e){u(!0),b(c.jobTracker.id),g(c.jobTracker.id)},function(e){r.message="Failed to save resource due to:"});var o,t},c.saveDeliverable=function(){console.log(c.del);var e={jobTrackerId:n.id,rangeFrom:c.del.rangeFrom,rangeTo:c.del.rangeTo},o=c.del.rangeFrom-c.del.rangeTo+1+c.getRangeTotal+c.cardIssuance.totalHeld;console.log("getRangeTotal"+c.getRangeTotal),console.log("totalHeld"+c.cardIssuance.totalHeld),console.log("newQty"+o),o>c.cardIssuance.totalQuantityIssued?console.log("Quantity Surpass"):console.log("Ok");!function(e){n.id;var o=i.resourceUri.ce+"/carddeliverylog/create";l.saveResource(o,e).then(function(e){console.log(e),getCardDeliveryLogs(),c.del={}},function(e){console.log(e)})}(e)},c.deleteDelivery=function(e){if(e&&e.id){var o={id:e.id,jobTrackerId:n.trackerId};t=o,r=i.resourceUri.ce+"/carddeliverylog/delete",l.saveResource(r,t).then(function(e){getCardDeliveryLogs()},function(e){console.log(e)})}var t,r},c.carddeliverylogs=[],c.getTotal=function(e){for(var o=0,t=0;t<c.carddeliverylogs.length;t++){var r=c.carddeliverylogs[t];o+=r.rangeTo-r.rangeFrom+1}return o},c.refreshDeliveryLog=function(){getCardDeliveryLogs()},c.displayJobSplitDetails=function(e){c.jobSplitDetail=!0,o=e.id,t.resourcejob.getJobSplitPrintCEAnalysisById(o).then(function(e){c.ceJobSplit=e,console.log(c.ceJobSplit)},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var o},c.jobSplitDetail=!1,c.isSaving=!1,a=[u()],o.activateController(a,v).then(function(){s("Activated Jobs View")}),Object.defineProperty(c,"canSave",{get:d}),c.fixModel={},c.del={}}angular.module("app").controller("PrintAnalysisDetailPR",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var a="PrintDeliverablePR";function n(t,n,i){var o,e,r,c=this,l=(0,n.logger.getLogFn)(a);c.gotoJobDetails=function(n){n&&n.id&&t.path("/pr/print-job/"+n.id)},c.jobs=[],c.incomingPrints=[],o=[i.printingjob.getPrintDeliverables(r).then(function(n){return c.incomingPrints=n,console.log(c.incomingPrints),c.incomingPrints}),i.inventjob.getJobs(e).then(function(n){return c.jobs=n,c.jobs})],n.activateController(o,a).then(function(){l("Activated Jobs View")})}angular.module("app").controller("PrintDeliverablePR",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var u="PrintDetailPR";function e(o,r,i,t,n,s,c){var l=this,d=(0,t.logger.getLogFn)(u);l.addRow=function(){i.inputs.push({})},l.machineLists=[],l.jobBatchTracker=void 0,l.allIssuanceLogs=[],l.issuanceLogs=[],l.collectors=[],l.job=void 0,l.jobs=[],l.jobTracker=void 0,l.stateCheck=void 0,l.goBack=function(){$window.history.back()},l.save=function(){var t=0;angular.forEach(i.inputs,function(e,a){var o=e.rangeTo-e.rangeFrom+1;t+=o,0<o?(l.splitIsValid=!0,i.message=""):(l.splitIsValid=!1,i.message="Invalid Range value detected")}),l.jobBatchTracker.job.quantity==t?(l.splitIsValid=!0,i.message=""):(l.splitIsValid=!1,i.message="Invalid Range value detected");!1===l.splitIsValid?i.message="Invalid Range value detected":(n=[],angular.forEach(i.inputs,function(e,a){console.log(e);var o={jobTrackerId:l.jobBatchTracker.jobTrackerId,departmentId:e.machine.departmentId,sidMachineId:e.machine.id,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo,jobBatchTrackerId:r.batchId};n.push(o)}),e=n,a=s.resourceUri.printing+"/printSplitCard/create",c.saveResource(a,e).then(function(e){console.log(e),o.path("/pr/incoming-print")},function(e){console.log(e);var a=[];for(var o in e.data.modelState)for(var t=0;t<e.data.modelState[o].length;t++)a.push(e.data.modelState[o][t]);i.message="Failed to save resource due to:"+a.join(" ")}),i.message="");var n,e,a},l.errorMessage="",i.message="",l.splitIsValid=!1,function(){e=n.lookup.lookupCachedData,l.sidMachines=e.sidMachines,angular.forEach(l.sidMachines,function(e,a){"Printing"==e.department.name&&(l.stateCheck=e.name,l.machineLists.push(e))}),console.log(l.machineLists);var e;var a=[(o=r.batchId,n.resourcejob.getJobBatchTrackerById(o).then(function(e){var a;l.jobBatchTracker=e,console.log(l.jobBatchTracker),a=l.jobBatchTracker.jobTrackerId,n.inventjob.getCardIssuanceLogs(a).then(function(e){l.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+val)})},function(e){logError("Unable to get JobTracker "+o)}))];var o;t.activateController(a,u).then(function(){d("Activated JobDetails View")})}(),i.inputs=[{}],i.del=function(e){i.inputs.splice(e,1)}}angular.module("app").controller("PrintDetailPR",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var h="PrintDetailPR";function e(a,s,r,c,i,l,u){var d=this,g=(0,c.logger.getLogFn)(h);d.addRow=function(){r.inputs.push({})},d.machineLists=[],d.jobBatchTracker=void 0,d.allIssuanceLogs=[],d.issuanceLogs=[],d.collectors=[],d.job=void 0,d.jobs=[],d.jobTracker=void 0,d.stateCheck=void 0,d.goBack=function(){$window.history.back()},d.save=function(){var n=0;angular.forEach(r.inputs,function(e,o){var a=e.rangeTo-e.rangeFrom+1;n+=a,0<a?(d.splitIsValid=!0,r.message=""):(d.splitIsValid=!1,r.message="Invalid Range value detected")}),console.log(d.issuanceLogs),console.log(d.issuanceLogs[0].quantityIssued),d.issuanceLogs[0].quantityIssued==n?(d.splitIsValid=!0,r.message=""):(d.splitIsValid=!1,r.message="Invalid Range value detected");!1===d.splitIsValid?r.message="Invalid Range value detected":(t=[],angular.forEach(r.inputs,function(e,o){console.log(e);var a={jobTrackerId:d.jobTracker.id,departmentId:e.machine.departmentId,sidMachineId:e.machine.id,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo,jobBatchTrackerId:s.batchId};t.push(a)}),e=t,o=l.resourceUri.printing+"/printSplitCard/create",u.saveResource(o,e).then(function(e){console.log(e),a.path("/pr/incoming-print")},function(e){console.log(e);var o=[];for(var a in e.data.modelState)for(var n=0;n<e.data.modelState[a].length;n++)o.push(e.data.modelState[a][n]);r.message="Failed to save resource due to:"+o.join(" ")}),r.message="");var t,e,o},d.errorMessage="",r.message="",d.splitIsValid=!1,function(){e=i.lookup.lookupCachedData,d.sidMachines=e.sidMachines,angular.forEach(d.sidMachines,function(e,o){"Printing"==e.department.name&&(d.stateCheck=e.name,d.machineLists.push(e))}),console.log(d.machineLists);var e;var o=[(r=s.trackerId,i.resourcejob.getJobTrackerById(r).then(function(e){var o,a,n,t,r;d.jobTracker=e,console.log(d.jobTracker),o=d.jobTracker.id,n=o,console.log(n),i.inventory.getClientVaultReportByTrackerId(n,a).then(function(e){return d.clientVault=e,0==d.clientVault.length&&(d.createVault=!0),console.log(d.clientVault),d.clientVault}),t=d.jobTracker.id,r=t,i.inventjob.getCardIssuanceLogByTrackerId(r).then(function(e){d.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+r)})},function(e){logError("Unable to get JobTracker "+r)})),i.resourcejob.getJobs(t).then(function(e){return d.jobs=e,d.jobs}),i.resourcejob.getJobTrackers(n).then(function(e){return d.jobTrackers=e,console.log(d.jobTrackers),d.jobTrackers}),i.inventaccount.getProductionStaffs(a).then(function(e){return d.users=e,console.log(d.users),d.users})];var a;var n;var t;var r;c.activateController(o,h).then(function(){g("Activated JobDetails View")})}(),r.inputs=[{}],r.del=function(e){r.inputs.splice(e,1)}}angular.module("app").controller("PrintDetailPR",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="DriverAssignmentAU";function e(i,n,e,t,r,o,a){var c,s,u=this,v=(0,t.logger.getLogFn)(d);u.entity=[],u.save=function(){var e=n.reportId;u.newEntity={deliveryNoteId:e,driverId:u.entity.driver.id},t=u.newEntity,r=o.resourceUri.materialaudit+"/dispatch/create",a.saveResource(r,t).then(function(e){i.path("/au/incoming-jobs")},function(e){console.log(e)});var t,r},c=[r.materialaudit.getDrivers(s).then(function(e){return u.drivers=e,console.log(u.drivers),u.drivers})],t.activateController(c,d).then(function(){v("Activated JobDetails View")})}angular.module("app").controller("DriverAssignmentAU",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="IncomingJobMAU";function n(o,n,t){var i,e,c,s,r=this,a=(0,n.logger.getLogFn)(u);r.jobs=[],r.incomingJobs=[],r.gotoJobDetails=function(n){n&&n.id&&o.path("/au/driver-assignment/"+n.id)},i=[t.materialaudit.getIncomingJobs(s).then(function(n){return r.incomingJobs=n,console.log(r.incomingJobs),r.incomingJobs}),t.inventjob.getJobs(c).then(function(n){return r.jobs=n,r.jobs}),t.inventaccount.getProductionStaffs(e).then(function(n){return r.users=n,console.log(r.users),r.users})],n.activateController(i,u).then(function(){a("Activated Jobs View")})}angular.module("app").controller("IncomingJobMAU",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="JobSplitListQA";function o(t,o,i,n){var e,c,r=this,a=(0,i.logger.getLogFn)(l);r.gotoJobDetails=function(o){o&&o.id&&t.path("/qa/job-check/"+o.id)},r.jobSplits=[],r.qaIncomingPersos=[],e=[(c=o.trackerId,n.resourcejob.getJobSplitByJobTrackerId(c).then(function(o){r.jobSplits=o,console.log(r.jobSplits)},function(o){logError("Unable to get JobSplit "+entityId)}))],i.activateController(e,l).then(function(){a("Activated Jobs View")})}angular.module("app").controller("JobSplitListQA",o),o.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var l="JobSplitListQA";function o(t,o,i,n){var e,c,r=this,a=(0,i.logger.getLogFn)(l);r.gotoJobDetails=function(o){o&&o.id&&t.path("/qa/job-check/"+o.id)},r.jobSplits=[],r.qaIncomingPersos=[],e=[(c=o.trackerId,n.resourcejob.getJobSplitByJobTrackerId(c).then(function(o){r.jobSplits=o,console.log(r.jobSplits)},function(o){logError("Unable to get JobSplit "+entityId)}))],i.activateController(e,l).then(function(){a("Activated Jobs View")})}angular.module("app").controller("JobSplitListQA",o),o.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var l="CardDeliveryQC";function e(n,e,t,i){var o,r,c,a=this,d=(0,t.logger.getLogFn)(l);a.gotoJobDetails=function(e){e&&e.id&&n.path("/qc/card-pending-delivery/"+e.id)},a.qcpendingdelivery=[],o=[i.qacjob.getQCPendingDelivery(c).then(function(e){return a.qcpendingdelivery=e,console.log(a.qcpendingdelivery),a.qcpendingdelivery}),i.inventjob.getJobs(r).then(function(e){return a.jobs=e,a.jobs})],t.activateController(o,l).then(function(){d("Activated Jobs View")})}angular.module("app").controller("CardDeliveryQC",e),e.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var v="CardDeliveryDetailQC";function e(t,n,a,e,l,i,c){var o,r,s=this,d=(0,e.logger.getLogFn)(v);function u(){var o=n.trackerId;return l.resourcejob.getJobTrackerById(o).then(function(e){var o,r,t,n,a,i,c;s.jobTracker=e,o=s.jobTracker.id,l.resourcejob.getJobSplitByJobTrackerId(o).then(function(e){s.jobSplits=e},function(e){logError("Unable to get JobSplit "+o)}),r=s.jobTracker.id,l.resourcejob.getIncomingCESplitAnalysisByJobTrackerId(r).then(function(e){s.jobSplitCEAnalysis=e,s.getRangeTotal=function(e){for(var o=0;o<s.jobSplitCEAnalysis.length;o++)s.jobSplitCEAnalysis[o];return 0}(),s.getQuantityGood=y(),s.getQuantityBad=function(e){for(var o=0,r=0;r<s.jobSplitCEAnalysis.length;r++){var t=s.jobSplitCEAnalysis[r];o+=t.quantityBad}return o}(),s.getQuantityHeld=function(e){for(var o=0,r=0;r<s.jobSplitCEAnalysis.length;r++){var t=s.jobSplitCEAnalysis[r];o+=t.quantityHeld}return o}()},function(e){logError("Unable to get JobSplit "+r)}),t=s.jobTracker.jobId,l.inventjob.getCardIssuanceByJobId(t,n).then(function(e){return s.cardIssuance=e[0],s.cardIssuance}),a=s.jobTracker.id,l.inventjob.getCardIssuanceLogByTrackerId(a,i).then(function(e){return s.cardIssuanceLog=e[0],y(),s.del.rangeFrom=1,s.del.rangeTo=s.cardIssuanceLog.quantityIssued,s.cardIssuanceLog}),c=s.jobTracker.jobId,l.resourcejob.getJobById(c).then(function(e){s.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+o)})}function g(e){var o=n.trackerId;return l.resourcejob.getQCCardDeliveryLogByTrackerId(o,e).then(function(e){return s.carddeliverylogs=e,s.carddeliverylogs})}function b(e){var o=i.resourceUri.qac+"/carddeliverylog/create";c.saveResource(o,e).then(function(e){g(),s.del={boxQty:1}},function(e){console.log(e)})}function y(e){for(var o=0,r=0;r<s.jobSplitCEAnalysis.length;r++){var t=s.jobSplitCEAnalysis[r];o+=t.quantityGood-(t.quantityBad+t.quantityHeld)}return o}s.del={boxQty:1},s.ceJobSplit=void 0,s.jobSplitCEAnalysis=[],s.jobSplitQCAnalysis=[],s.cardissuancelogs=[],s.job=[],s.jobSplits=[],s.save=function(){var e=n.trackerId;s.newEntity={jobTrackerId:e,startFrom:0,endPoint:0},o=s.newEntity,r=i.resourceUri.qac+"/jobrun/create",c.saveResource(r,o).then(function(e){t.path("/qc/incoming-persos")},function(e){a.message="Failed to save resource due to:"});var o,r},s.updateJobSplit=function(){e={id:s.ceJobSplit.id,jobSplitId:s.ceJobSplit.jobSplitId,quantityGood:s.ceJobSplit.quantityGood-(s.ceJobSplit.quantityHeld-s.ceJobSplit.quantityBad),quantityHeld:s.ceJobSplit.newQuantityHeld,quantityBad:s.ceJobSplit.newQuantityBad,createdById:s.ceJobSplit.createdById,createdOn:s.ceJobSplit.createdOn},o=i.resourceUri.qac+"/jobslit-qc-analysis/update",c.updateResource(o,e).then(function(e){u()},function(e){a.message="Failed to save resource due to:"});var e,o},s.saveDeliverable=function(){var e={jobTrackerId:n.trackerId,rangeFrom:s.del.rangeFrom,rangeTo:s.del.rangeTo,description:s.del.description,boxQty:s.del.boxQty},o=s.del.rangeTo-s.del.rangeFrom+1,r=function(){var e=0;console.log(s.carddeliverylogs);for(var o=0;o<s.carddeliverylogs.length;o++){var r=s.carddeliverylogs[o];e+=r.rangeTo-r.rangeFrom+1}return e}()+o;console.log(o),console.log(s.cardIssuanceLog.quantityIssued),r>s.cardIssuanceLog.quantityIssued?s.errorMessage="Invalid Range Detected":0<o&&r<=s.cardIssuanceLog.quantityIssued?b(e):(o<=0?console.log("Invalid Range Detected B"):console.log("Invalid Range Detected C"),s.errorMessage="Invalid Range Detected")},s.defaultSave=function(){b({jobTrackerId:n.trackerId,rangeFrom:1,rangeTo:s.cardIssuance.totalQuantityIssued}),t.path("/qc/incoming-persos")},s.confirmCEDelivery=function(e){if(e&&e.id){var o={id:e.id};r=o,t=i.resourceUri.qac+"/carddeliverylogconfirm/create",c.saveResource(t,r).then(function(e){var o,r;r=n.trackerId,l.resourcejob.getCECardDeliveryLogByTrackerId(r,o).then(function(e){return s.ceCarddeliverylogs=e,s.ceCarddeliverylogs})},function(e){console.log(e)})}var r,t},s.displayJobSplitDetails=function(e){s.jobSplitDetail=!0,o=e.id,l.resourcejob.getJobSplitCEAnalysisById(o).then(function(e){s.ceJobSplit=e},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var o},s.jobSplitDetail=!1,s.carddeliverylogs=[],s.ceCarddeliverylogs=[],s.deleteDelivery=function(e){if(e&&e.id){var o={id:e.id,jobTrackerId:n.trackerId};r=o,t=i.resourceUri.qac+"/carddeliverylog/delete",c.saveResource(t,r).then(function(e){g()},function(e){console.log(e)})}var r,t},s.errorMessage="",s.clearErrorMessage=function(){s.errorMessage=""},o=[u(),g(),l.inventaccount.getProductionStaffs(r).then(function(e){return s.users=e,s.users})],e.activateController(o,v).then(function(){d("Activated Jobs View")}),a.IsVisible=!1,a.IsRangeVisible=!1,a.ShowHide=function(){a.IsVisible=a.ShowPassport},a.ShowHideRange=function(){a.IsRangeVisible=a.ShowPassportRange}}angular.module("app").controller("CardDeliveryDetailQC",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var a="IncomingPersoQA";function o(n,o,t){var e,i,s,c=this,r=(0,o.logger.getLogFn)(a);c.gotoJobDetails=function(o){o&&o.id&&n.path("/qa/perso-jobsplit-lists/"+o.id)},c.jobs=[],c.qaIncomingPersos=[],e=[t.qacjob.getQAIncomingPersos(s).then(function(o){return c.qaIncomingPersos=o,console.log(c.qaIncomingPersos),c.qaIncomingPersos}),t.inventjob.getJobs(i).then(function(o){return c.jobs=o,c.jobs})],o.activateController(e,a).then(function(){r("Activated Jobs View")})}angular.module("app").controller("IncomingPersoQA",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var g="IncomingPersoQC";function o(n,o,t){var c,e,i,s=this,r=(0,o.logger.getLogFn)(g);s.gotoJobDetails=function(o){o&&o.id&&n.path("/qc/run-job/"+o.id)},s.jobs=[],s.qcIncomingPersos=[],c=[t.qacjob.getQCIncomingPersos(i).then(function(o){return s.qcIncomingPersos=o,console.log(s.qcIncomingPersos),s.qcIncomingPersos}),t.inventjob.getJobs(e).then(function(o){return s.jobs=o,s.jobs})],o.activateController(c,g).then(function(){r("Activated Jobs View")})}angular.module("app").controller("IncomingPersoQC",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var a="IncomingPrintQA";function n(o,n,t){var i,e,c,s=this,r=(0,n.logger.getLogFn)(a);s.gotoJobDetails=function(n){n&&n.id&&o.path("/qa/print-jobsplit-lists/"+n.id)},s.jobs=[],s.qaIncomingPersos=[],i=[t.qacjob.getQAIncomingPrints(c).then(function(n){return s.qaIncomingPersos=n,console.log(s.qaIncomingPersos),s.qaIncomingPersos}),t.inventjob.getJobs(e).then(function(n){return s.jobs=n,s.jobs})],n.activateController(i,a).then(function(){r("Activated Jobs View")})}angular.module("app").controller("IncomingPrintQA",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var s="IncomingPrintQC";function n(t,n,o){var i,c,r,e=this,g=(0,n.logger.getLogFn)(s);e.gotoJobDetails=function(n){n&&n.id&&t.path("/qc/run-job-print/"+n.id)},e.jobs=[],e.qcIncomingPrints=[],i=[o.qacjob.getQCIncomingPrints(r).then(function(n){return e.qcIncomingPrints=n,console.log(e.qcIncomingPrints),e.qcIncomingPrints}),o.inventjob.getJobs(c).then(function(n){return e.jobs=n,e.jobs})],n.activateController(i,s).then(function(){g("Activated Jobs View")})}angular.module("app").controller("IncomingPrintQC",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var p="JobCheckQA";function e(o,c,t,i,e,n,r,a){var l,s,d=this,b=(0,e.logger.getLogFn)(p);d.gotoJobDetails=function(e){e&&e.id&&o.path("/qa/job-check/"+e.job.id)},d.jobs=[],d.qaIncomingPersos=[],d.save=function(){c.splitId;d.checkboxModel.id=d.splitQA[0].id,d.checkboxModel.jobSplitId=d.splitQA[0].jobSplitId,d.checkboxModel.jobTrackerId=d.splitQA[0].jobTrackerId,e=d.checkboxModel,o=r.resourceUri.qac+"/jobcheckprocess/create",a.saveResource(o,e).then(function(e){i.history.back()},function(e){console.log(e),t.message="Failed to save resource due to:"});var e,o},d.checkboxModel={chip:!1,magstripe:!1,indenting:!1,embossing:!1,picture:!1,fulfillment:!1,client:!1,cardtype:!1,pictureView:!1,variant:!1,cardIdNumber:!1,bin:!1,magstripeTrack:!1,cvv:!1,panSpacing:!1},l=[(s=c.splitId,n.resourcejob.getQABySplitId(s).then(function(e){d.splitQA=e,console.log(d.splitQA)},function(e){logError("Unable to get QA "+s)}))],e.activateController(l,p).then(function(){b("Activated Jobs View")})}angular.module("app").controller("JobCheckQA",e),e.$inject=["$location","$routeParams","$scope","$window","common","datacontext","model","resourceService"]}();
!function(){"use strict";var y="JobRunPrintQC";function e(r,n,i,e,a,c,l){var t,o,s=this,u=(0,e.logger.getLogFn)(y);function d(){var t=n.trackerId;return a.resourcejob.getJobTrackerById(t).then(function(e){var t,o,r,n,i;s.jobTracker=e,t=s.jobTracker.id,a.resourcejob.getJobSplitByJobTrackerId(t).then(function(e){s.jobSplits=e},function(e){logError("Unable to get JobSplit "+t)}),o=s.jobTracker.id,a.resourcejob.geJobSplitAnalysisByTrackerId(o).then(function(e){s.jobSplitCEAnalysis=e,s.getRangeTotal=function(e){for(var t=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var r=s.jobSplitCEAnalysis[o];t+=r.jobSplit.rangeTo-r.jobSplit.rangeFrom+1}return t}(),s.getQuantityGood=function(e){for(var t=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var r=s.jobSplitCEAnalysis[o];t+=r.quantityGood}return t}(),s.getQuantityBad=function(e){for(var t=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var r=s.jobSplitCEAnalysis[o];t+=r.quantityBad}return t}(),s.getQuantityHeld=function(e){for(var t=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var r=s.jobSplitCEAnalysis[o];t+=r.quantityHeld}return t}()},function(e){logError("Unable to get JobSplit "+o)}),r=s.jobTracker.id,a.inventjob.getCardIssuanceLogs(r,n).then(function(e){return s.cardissuancelogs=e,s.cardissuancelogs}),i=s.jobTracker.jobId,a.resourcejob.getJobById(i).then(function(e){s.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+t)})}function b(e){var t=n.trackerId;return a.resourcejob.getQCCardDeliveryLogByTrackerId(t,e).then(function(e){return s.carddeliverylogs=e,s.carddeliverylogs})}function g(e){var t=c.resourceUri.qac+"/carddeliverylog/create";l.saveResource(t,e).then(function(e){b(),s.del={}},function(e){})}s.ceJobSplit=void 0,s.jobSplitCEAnalysis=[],s.jobSplitQCAnalysis=[],s.cardissuancelogs=[],s.job=[],s.jobSplits=[],s.save=function(){var e=n.trackerId;s.newEntity={jobTrackerId:e,startFrom:0,endPoint:0},t=s.newEntity,o=c.resourceUri.qac+"/jobrun/create",l.saveResource(o,t).then(function(e){r.path("/qc/incoming-persos")},function(e){i.message="Failed to save resource due to:"});var t,o},s.updateJobSplit=function(){e={id:s.ceJobSplit.id,jobSplitId:s.ceJobSplit.jobSplitId,quantityGood:s.ceJobSplit.quantityGood-(s.ceJobSplit.quantityHeld-s.ceJobSplit.quantityBad),quantityHeld:s.ceJobSplit.newQuantityHeld,quantityBad:s.ceJobSplit.newQuantityBad,createdById:s.ceJobSplit.createdById,createdOn:s.ceJobSplit.createdOn},t=c.resourceUri.qac+"/jobslit-printqc-analysis/update",l.updateResource(t,e).then(function(e){d()},function(e){i.message="Failed to save resource due to:"});var e,t},s.saveDeliverable=function(){var e={jobTrackerId:n.trackerId,rangeFrom:s.del.rangeFrom,rangeTo:s.del.rangeTo,description:s.del.description};s.del.rangeFrom-s.del.rangeTo+1+s.getRangeTotal+s.cardIssuance.totalHeld>s.cardIssuance.totalQuantityIssued?console.log("Quantity Surpass"):console.log("Ok");g(e)},s.defaultSave=function(){g({jobTrackerId:n.trackerId,rangeFrom:1,rangeTo:s.cardIssuance.totalQuantityIssued}),r.path("/qc/incoming-persos")},s.confirmCEDelivery=function(e){if(e&&e.id){var t={id:e.id};o=t,r=c.resourceUri.qac+"/carddeliverylogconfirm/create",l.saveResource(r,o).then(function(e){var t,o;o=n.trackerId,a.resourcejob.getCECardDeliveryLogByTrackerId(o,t).then(function(e){return s.ceCarddeliverylogs=e,s.ceCarddeliverylogs})},function(e){console.log(e)})}var o,r},s.displayJobSplitDetails=function(e){s.jobSplitDetail=!0,t=e.id,a.resourcejob.getJobSplitPrintCEAnalysisById(t).then(function(e){s.ceJobSplit=e},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var t},s.jobSplitDetail=!1,s.carddeliverylogs=[],s.ceCarddeliverylogs=[],s.deleteDelivery=function(e){if(e&&e.id){var t={id:e.id,jobTrackerId:n.trackerId};o=t,r=c.resourceUri.qac+"/carddeliverylog/delete",l.saveResource(r,o).then(function(e){b()},function(e){console.log(e)})}var o,r},t=[d(),b(),a.inventaccount.getProductionStaffs(o).then(function(e){return s.users=e,s.users})],e.activateController(t,y).then(function(){u("Activated Jobs View")}),i.IsVisible=!1,i.IsRangeVisible=!1,i.ShowHide=function(){i.IsVisible=i.ShowPassport},i.ShowHideRange=function(){i.IsRangeVisible=i.ShowPassportRange}}angular.module("app").controller("JobRunPrintQC",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var f="JobRunQC";function e(t,r,l,e,a,i,c,s){var o,n,d,u=this,g=(0,e.logger.getLogFn)(f);function b(){var o=r.trackerId;return a.resourcejob.getJobTrackerById(o).then(function(e){var o,n,t,r,l;u.jobTracker=e,o=u.jobTracker.id,a.resourcejob.getJobSplitByJobTrackerId(o).then(function(e){u.jobSplits=e,console.log(u.jobSplits)},function(e){logError("Unable to get JobSplit "+o)}),n=u.jobTracker.id,a.resourcejob.getIncomingCESplitAnalysisByJobTrackerId(n).then(function(e){u.jobSplitCEAnalysis=e,console.log(u.jobSplitCEAnalysis),u.getRangeTotal=function(e){console.log(u.jobSplitCEAnalysis);for(var o=0,n=0;n<u.jobSplitCEAnalysis.length;n++){var t=u.jobSplitCEAnalysis[n];console.log(t),o+=t.jobSplit.rangeTo-t.jobSplit.rangeFrom+1,console.log(o)}return o}(),u.getQuantityGood=function(e){for(var o=0,n=0;n<u.jobSplitCEAnalysis.length;n++){var t=u.jobSplitCEAnalysis[n];o+=t.quantityGood,console.log(o)}return o}(),u.getQuantityBad=function(e){for(var o=0,n=0;n<u.jobSplitCEAnalysis.length;n++){var t=u.jobSplitCEAnalysis[n];o+=t.quantityBad,console.log(o)}return o}(),u.getQuantityHeld=function(e){for(var o=0,n=0;n<u.jobSplitCEAnalysis.length;n++){var t=u.jobSplitCEAnalysis[n];o+=t.quantityHeld,console.log(o)}return o}()},function(e){logError("Unable to get JobSplit "+n)}),t=u.jobTracker.id,r=t,a.inventjob.getCardIssuanceLogByTrackerId(r).then(function(e){u.cardissuancelogs=e},function(e){logError("Unable to get CardIssuanceLog "+r)}),l=u.jobTracker.jobId,a.resourcejob.getJobById(l).then(function(e){u.jobs=e},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+o)})}function p(e){var o=r.trackerId;return a.resourcejob.getQCCardDeliveryLogByTrackerId(o,e).then(function(e){return u.carddeliverylogs=e,console.log(u.carddeliverylogs),u.carddeliverylogs})}function v(e){var o=i.resourceUri.qac+"/carddeliverylog/create";c.saveResource(o,e).then(function(e){console.log(e),p(),u.del={}},function(e){console.log(e)})}u.ceJobSplit=void 0,u.jobSplitCEAnalysis=[],u.jobSplitQCAnalysis=[],u.cardissuancelogs=[],u.job=[],u.jobSplits=[],u.save=function(){var e=r.trackerId;u.newEntity={jobTrackerId:e,startFrom:0,endPoint:0},o=u.newEntity,n=i.resourceUri.qac+"/jobrun/create",c.saveResource(n,o).then(function(e){t.path("/qc/incoming-persos")},function(e){console.log(e),l.message="Failed to save resource due to:"});var o,n},u.updateJobSplit=function(){var e={id:u.ceJobSplit.id,jobSplitId:u.ceJobSplit.jobSplitId,quantityGood:u.ceJobSplit.quantityGood-(u.ceJobSplit.quantityHeld-u.ceJobSplit.quantityBad),quantityHeld:u.ceJobSplit.newQuantityHeld,quantityBad:u.ceJobSplit.newQuantityBad,createdById:u.ceJobSplit.createdById,createdOn:u.ceJobSplit.createdOn};console.log(e),o=e,n=i.resourceUri.qac+"/jobslit-qc-analysis/update",c.updateResource(n,o).then(function(e){b()},function(e){console.log(e),l.message="Failed to save resource due to:"});var o,n},u.saveDeliverable=function(){console.log(u.del);var e={jobTrackerId:r.trackerId,rangeFrom:u.del.rangeFrom,rangeTo:u.del.rangeTo,description:u.del.description};console.log(e);var o=u.del.rangeFrom-u.del.rangeTo+1+u.getRangeTotal+u.cardIssuance.totalHeld;console.log("getRangeTotal"+u.getRangeTotal),console.log("totalHeld"+u.cardIssuance.totalHeld),console.log("newQty"+o),o>u.cardIssuance.totalQuantityIssued?console.log("Quantity Surpass"):console.log("Ok");v(e)},u.defaultSave=function(){v({jobTrackerId:r.trackerId,rangeFrom:1,rangeTo:u.cardIssuance.totalQuantityIssued}),t.path("/qc/incoming-persos")},u.confirmCEDelivery=function(e){if(e&&e.id){var o={id:e.id};n=o,t=i.resourceUri.qac+"/carddeliverylogconfirm/create",c.saveResource(t,n).then(function(e){var o,n;console.log(e),n=r.trackerId,a.resourcejob.getCECardDeliveryLogByTrackerId(n,o).then(function(e){return u.ceCarddeliverylogs=e,console.log(u.ceCarddeliverylogs),u.ceCarddeliverylogs})},function(e){console.log(e)})}var n,t},u.displayJobSplitDetails=function(e){u.jobSplitDetail=!0,o=e.id,a.resourcejob.getJobSplitCEAnalysisById(o).then(function(e){var o,n;u.ceJobSplit=e,o=u.ceJobSplit.jobSplitId,a.resourcejob.getJobHandler(o,n).then(function(e){u.jobHandler=e[0];var o=s.authentication,n=o.page;return u.jobHandler.handlerId===u.userInfo[0].id?u.isHandler=!0:u.isHandler="QC Supervisor"==n,u.jobHandler}),console.log(u.ceJobSplit)},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var o},u.jobSplitDetail=!1,u.carddeliverylogs=[],u.ceCarddeliverylogs=[],u.deleteDelivery=function(e){if(e&&e.id){var o={id:e.id,jobTrackerId:r.trackerId};n=o,t=i.resourceUri.qac+"/carddeliverylog/delete",c.saveResource(t,n).then(function(e){console.log(e),p()},function(e){console.log(e)})}var n,t},u.letMeHandleJob=function(e){u.ceHandler={id:e.id},console.log(u.ceHandler),o=u.ceHandler,n=i.resourceUri.qac+"/jobhandle/update",c.updateResource(n,o).then(function(e){console.log(e)},function(e){console.log(e),l.message="Failed to save resource due to:"});var o,n},u.isHandler=!1,o=[b(),p(),a.inventaccount.getProductionStaffs(d).then(function(e){return u.users=e,console.log(u.users),u.users}),(n=s.authentication.userName,a.application.getUserDetail(n).then(function(e){u.userInfo=e,console.log(u.userInfo)},function(e){logError("Unable to get JobSplit "+entityId)}))],e.activateController(o,f).then(function(){g("Activated Jobs View")}),l.IsVisible=!1,l.IsRangeVisible=!1,l.ShowHide=function(){l.IsVisible=l.ShowPassport},l.ShowHideRange=function(){l.IsRangeVisible=l.ShowPassportRange}}angular.module("app").controller("JobRunQC",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService","authService"]}();
!function(){"use strict";var g="PendingPersoQC";function n(o,n,t){var e,c,i,s=this,r=(0,n.logger.getLogFn)(g);s.gotoJobDetails=function(n){n&&n.id&&o.path("/qc/run-job/"+n.id)},s.jobs=[],s.qcIncomingPersos=[],e=[t.qacjob.getQCPendingPersos(i).then(function(n){return s.qcIncomingPersos=n,console.log(s.qcIncomingPersos),s.qcIncomingPersos}),t.inventjob.getJobs(c).then(function(n){return s.jobs=n,s.jobs})],n.activateController(e,g).then(function(){r("Activated Jobs View")})}angular.module("app").controller("PendingPersoQC",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="PersoJobSplitListQA";function o(t,o,e,n){var r,i,c,s,a=this,b=(0,e.logger.getLogFn)(l);a.gotoJobDetails=function(o){o&&o.id&&t.path("/qa/job-check/"+o.id)},a.jobSplits=[],a.qaIncomingPersos=[],r=[(s=o.trackerId,n.resourcejob.getPersoJobSplitByJobTrackerId(s).then(function(o){a.jobSplits=o,console.log(a.jobSplits)},function(o){logError("Unable to get JobSplit "+entityId)})),n.resourcejob.getJobTrackers(c).then(function(o){return a.jobTrackers=o,a.jobTrackers}),n.inventjob.getJobs(i).then(function(o){return a.jobs=o,a.jobs})],e.activateController(r,l).then(function(){b("Activated Jobs View")})}angular.module("app").controller("PersoJobSplitListQA",o),o.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var l="WasteRequestQA";function e(e,o,t,s,a,n,c){var u=this,i=(0,s.logger.getLogFn)(l);function d(e){return a.resourcejob.getQAWasteRequests(e).then(function(e){return u.wasterequests=e,u.wasterequests})}u.confirmWaste=function(e){o={jobTrackerId:e.jobTrackerId,jobSplitId:e.jobSplitId,JobSplitCEAnalysisId:e.id,WasteErrorSourceId:e.waste.source.id,WasteByUnitId:e.waste.department.id,QuantityBad:e.quantityBad,QuantityHeld:e.quantityHeld},r=n.resourceUri.qac+"/wasteapproval/create",c.saveResource(r,o).then(function(e){d()},function(e){console.log(e),t.message="Failed to save resource due to:"+e});var o,r},u.wasteErrorSources=[],u.departments=[],u.updateErrorCode=function(e){console.log(u.wasteErrorSourceCodes),u.newWasteInfo=[];var r=e.id;angular.forEach(u.wasteErrorSourceCodes,function(e,o){e.wasteErrorSourceId==r&&u.newWasteInfo.push(e)}),console.log(u.newWasteInfo)},function(){e=a.lookup.lookupCachedData,u.wasteErrorSources=e.wasteErrorSources,u.wasteErrorSourceCodes=e.wasteErrorSourceCodes,u.departments=e.departments,console.log(e),console.log(u.wasteErrorSources);var e;var o=[d(),a.resourcejob.getIncompleteJobs(t).then(function(e){return u.jobs=e,u.jobs}),a.resourcejob.getJobTrackers(r).then(function(e){return u.jobTrackers=e,u.jobTrackers})];var r;var t;s.activateController(o,l).then(function(){i("Activated Jobs View")})}(),t.change=function(){console.log("OK")}}angular.module("app").controller("WasteRequestQA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="PrintJobSplitListQA";function t(o,t,n,e){var r,i,c,a,s=this,b=(0,n.logger.getLogFn)(l);s.gotoJobDetails=function(t){t&&t.id&&o.path("/qa/job-check/"+t.id)},s.jobSplits=[],s.qaIncomingPersos=[],r=[(a=t.trackerId,e.resourcejob.getPrintJobSplitByJobTrackerId(a).then(function(t){s.jobSplits=t,console.log(s.jobSplits)},function(t){logError("Unable to get JobSplit "+entityId)})),e.resourcejob.getJobTrackers(c).then(function(t){return s.jobTrackers=t,s.jobTrackers}),e.inventjob.getJobs(i).then(function(t){return s.jobs=t,s.jobs})],n.activateController(r,l).then(function(){b("Activated Jobs View")})}angular.module("app").controller("PrintJobSplitListQA",t),t.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var d="PrintWasteRequestQA";function e(e,t,r,s,a,n,c){var u=this,i=(0,s.logger.getLogFn)(d);function l(e){return a.resourcejob.getPrintQAWasteRequests(e).then(function(e){return u.wasterequests=e,console.log(u.wasterequests),u.wasterequests})}u.confirmWaste=function(e){console.log(e),t={jobTrackerId:e.jobTrackerId,jobSplitId:e.jobSplitId,JobSplitCEAnalysisId:e.id,WasteErrorSourceId:e.waste.source.id,WasteByUnitId:e.waste.department.id,QuantityBad:e.quantityBad,QuantityHeld:e.quantityHeld},o=n.resourceUri.qac+"/wasteapproval/create",c.saveResource(o,t).then(function(e){console.log(e),l()},function(e){console.log(e),r.message="Failed to save resource due to:"+e});var t,o},u.wasteErrorSources=[],u.departments=[],function(){e=a.lookup.lookupCachedData,u.wasteErrorSources=e.wasteErrorSources,u.departments=e.departments,console.log(e),console.log(u.wasteErrorSources);var e;var t=[l(),a.resourcejob.getIncompleteJobs(r).then(function(e){return u.jobs=e,u.jobs}),a.resourcejob.getJobTrackers(o).then(function(e){return u.jobTrackers=e,u.jobTrackers})];var o;var r;s.activateController(t,d).then(function(){i("Activated Jobs View")})}()}angular.module("app").controller("PrintWasteRequestQA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="PrintWasteRequestQA";function e(e,o,t,s,a,n,c){var u=this,i=(0,s.logger.getLogFn)(d);function l(e){return a.resourcejob.getPrintQAWasteRequests(e).then(function(e){return u.wasterequests=e,console.log(u.wasterequests),u.wasterequests})}u.confirmWaste=function(e){o={jobTrackerId:e.jobTrackerId,jobSplitId:e.jobSplitId,JobSplitCEAnalysisId:e.id,WasteErrorSourceId:e.waste.source.id,WasteByUnitId:e.waste.department.id,QuantityBad:e.quantityBad,QuantityHeld:e.quantityHeld},r=n.resourceUri.qac+"/printwasteapproval/create",c.saveResource(r,o).then(function(e){console.log(e),l()},function(e){console.log(e),t.message="Failed to save resource due to:"+e});var o,r},u.wasteErrorSources=[],u.departments=[],u.updateErrorCode=function(e){console.log(u.wasteErrorSourceCodes),u.newWasteInfo=[];var r=e.id;angular.forEach(u.wasteErrorSourceCodes,function(e,o){e.wasteErrorSourceId==r&&u.newWasteInfo.push(e)}),console.log(u.newWasteInfo)},function(){e=a.lookup.lookupCachedData,u.wasteErrorSources=e.wasteErrorSources,u.wasteErrorSourceCodes=e.wasteErrorSourceCodes,u.departments=e.departments,console.log(e),console.log(u.wasteErrorSources);var e;var o=[l(),a.resourcejob.getIncompleteJobs(t).then(function(e){return u.jobs=e,u.jobs}),a.resourcejob.getJobTrackers(r).then(function(e){return u.jobTrackers=e,u.jobTrackers})];var r;var t;s.activateController(o,d).then(function(){i("Activated Jobs View")})}()}angular.module("app").controller("PrintWasteRequestQA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="JobSplitListQA";function o(t,o,i,n){var e,c,r=this,a=(0,i.logger.getLogFn)(l);r.gotoJobDetails=function(o){o&&o.id&&t.path("/qa/job-check/"+o.id)},r.jobSplits=[],r.qaIncomingPersos=[],e=[(c=o.trackerId,n.resourcejob.getJobSplitByJobTrackerId(c).then(function(o){r.jobSplits=o,console.log(r.jobSplits)},function(o){logError("Unable to get JobSplit "+entityId)}))],i.activateController(e,l).then(function(){a("Activated Jobs View")})}angular.module("app").controller("JobSplitListQA",o),o.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var l="JobSplitListQA";function o(t,o,i,n){var e,c,r=this,a=(0,i.logger.getLogFn)(l);r.gotoJobDetails=function(o){o&&o.id&&t.path("/qa/job-check/"+o.id)},r.jobSplits=[],r.qaIncomingPersos=[],e=[(c=o.trackerId,n.resourcejob.getJobSplitByJobTrackerId(c).then(function(o){r.jobSplits=o,console.log(r.jobSplits)},function(o){logError("Unable to get JobSplit "+entityId)}))],i.activateController(e,l).then(function(){a("Activated Jobs View")})}angular.module("app").controller("JobSplitListQA",o),o.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var a="PrintDeliverableQC";function n(t,n,i){var o,e,r,c=this,l=(0,n.logger.getLogFn)(a);c.gotoJobDetails=function(n){n&&n.id&&t.path("/qc/print-pending-delivery/"+n.id)},c.jobs=[],c.incomingPrints=[],o=[i.printingjob.getPrintDeliverables(r).then(function(n){return c.incomingPrints=n,console.log(c.incomingPrints),c.incomingPrints}),i.inventjob.getJobs(e).then(function(n){return c.jobs=n,c.jobs})],n.activateController(o,a).then(function(){l("Activated Jobs View")})}angular.module("app").controller("PrintDeliverableQC",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="JobSplitListQA";function o(t,o,i,n){var e,c,r=this,a=(0,i.logger.getLogFn)(l);r.gotoJobDetails=function(o){o&&o.id&&t.path("/qa/job-check/"+o.id)},r.jobSplits=[],r.qaIncomingPersos=[],e=[(c=o.trackerId,n.resourcejob.getJobSplitByJobTrackerId(c).then(function(o){r.jobSplits=o,console.log(r.jobSplits)},function(o){logError("Unable to get JobSplit "+entityId)}))],i.activateController(e,l).then(function(){a("Activated Jobs View")})}angular.module("app").controller("JobSplitListQA",o),o.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var f="PrintDeliveryDetailQC";function e(t,n,a,e,i,c,l){var r,o,s=this,d=(0,e.logger.getLogFn)(f);function u(){var r=n.trackerId;return i.resourcejob.getJobTrackerById(r).then(function(e){var r,o,t,n;s.jobTracker=e,r=s.jobTracker.id,i.resourcejob.getJobSplitByJobTrackerId(r).then(function(e){s.jobSplits=e},function(e){logError("Unable to get JobSplit "+r)}),g(s.jobTracker.id),o=s.jobTracker.id,i.inventjob.getCardIssuanceLogByTrackerId(o,t).then(function(e){return s.cardIssuanceLog=e[0],s.cardIssuanceLog}),n=s.jobTracker.jobId,i.resourcejob.getJobById(n).then(function(e){s.jobs=e,s.jobs,v(),s.del.rangeFrom=1,s.del.rangeTo=s.cardIssuanceLog.quantityIssued},function(e){logError("Unable to get Job "+val)})},function(e){logError("Unable to get JobTracker "+r)})}function g(r){return i.resourcejob.getIncomingPrintCESplitAnalysisByJobTrackerId(r).then(function(e){s.jobSplitCEAnalysis=e,s.getRangeTotal=function(e){for(var r=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var t=s.jobSplitCEAnalysis[o];r+=t.jobSplit.rangeTo-t.jobSplit.rangeFrom+1}return r}(),s.getQuantityGood=v(),s.getQuantityBad=function(e){for(var r=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var t=s.jobSplitCEAnalysis[o];r+=t.quantityBad}return r}(),s.getQuantityHeld=function(e){for(var r=0,o=0;o<s.jobSplitCEAnalysis.length;o++){var t=s.jobSplitCEAnalysis[o];r+=t.quantityHeld}return r}()},function(e){logError("Unable to get JobSplit "+r)})}function b(e){var r=n.trackerId;return i.resourcejob.getPrQCCardDeliveryLogByTrackerId(r,e).then(function(e){return s.carddeliverylogs=e,s.carddeliverylogs})}function y(e){var r=c.resourceUri.qac+"/printdeliverylog/create";l.saveResource(r,e).then(function(e){b(),s.del={boxQty:1}},function(e){console.log(e)})}function v(e){for(var r=0,o=0;o<s.jobSplitCEAnalysis.length;o++){r+=s.jobSplitCEAnalysis[o].quantityGood}return r}s.del={boxQty:1},s.ceJobSplit=void 0,s.jobSplitCEAnalysis=[],s.jobSplitQCAnalysis=[],s.cardissuancelogs=[],s.job=[],s.jobSplits=[],s.save=function(){var e=n.trackerId;s.newEntity={jobTrackerId:e,startFrom:0,endPoint:0},r=s.newEntity,o=c.resourceUri.qac+"/jobrun/create",l.saveResource(o,r).then(function(e){t.path("/qc/incoming-persos")},function(e){a.message="Failed to save resource due to:"});var r,o},s.updateJobSplit=function(){e={id:s.ceJobSplit.id,jobSplitId:s.ceJobSplit.jobSplitId,quantityGood:s.ceJobSplit.quantityGood-(s.ceJobSplit.quantityHeld-s.ceJobSplit.quantityBad),quantityHeld:s.ceJobSplit.newQuantityHeld,quantityBad:s.ceJobSplit.newQuantityBad,createdById:s.ceJobSplit.createdById,createdOn:s.ceJobSplit.createdOn},r=c.resourceUri.qac+"/jobslit-qc-analysis/update",l.updateResource(r,e).then(function(e){g(s.jobTracker.id),u()},function(e){a.message="Failed to save resource due to:"});var e,r},s.saveDeliverable=function(){var e={jobTrackerId:n.trackerId,rangeFrom:s.del.rangeFrom,rangeTo:s.del.rangeTo,description:s.del.description,boxQty:s.del.boxQty},r=s.del.rangeTo-s.del.rangeFrom+1,o=function(){for(var e=0,r=0;r<s.carddeliverylogs.length;r++){var o=s.carddeliverylogs[r];e+=o.rangeTo-o.rangeFrom+1}return e}()+r;o>s.cardIssuanceLog.quantityIssued?s.errorMessage="Invalid Range Detected":0<r&&o<=s.cardIssuanceLog.quantityIssued?y(e):s.errorMessage="Invalid Range Detected"},s.defaultSave=function(){y({jobTrackerId:n.trackerId,rangeFrom:1,rangeTo:s.cardIssuance.totalQuantityIssued}),t.path("/qc/incoming-persos")},s.confirmCEDelivery=function(e){if(e&&e.id){var r={id:e.id};o=r,t=c.resourceUri.qac+"/carddeliverylogconfirm/create",l.saveResource(t,o).then(function(e){var r,o;o=n.trackerId,i.resourcejob.getCECardDeliveryLogByTrackerId(o,r).then(function(e){return s.ceCarddeliverylogs=e,s.ceCarddeliverylogs})},function(e){console.log(e)})}var o,t},s.displayJobSplitDetails=function(e){s.jobSplitDetail=!0,r=e.id,i.resourcejob.getJobSplitPrintCEAnalysisById(r).then(function(e){s.ceJobSplit=e},function(e){logError("Unable to get jobSplitCEAnalysis "+val)});var r},s.jobSplitDetail=!1,s.carddeliverylogs=[],s.ceCarddeliverylogs=[],s.clearErrorMessage=function(){s.errorMessage=""},s.deleteDelivery=function(e){if(e&&e.id){var r={id:e.id,jobTrackerId:n.trackerId};o=r,t=c.resourceUri.qac+"/carddeliverylog/delete",l.saveResource(t,o).then(function(e){b()},function(e){console.log(e)})}var o,t},s.errorMessage="",r=[u(),b(),i.inventaccount.getProductionStaffs(o).then(function(e){return s.users=e,s.users})],e.activateController(r,f).then(function(){d("Activated Jobs View")}),a.IsVisible=!1,a.IsRangeVisible=!1,a.ShowHide=function(){a.IsVisible=a.ShowPassport},a.ShowHideRange=function(){a.IsRangeVisible=a.ShowPassportRange}}angular.module("app").controller("PrintDeliveryDetailQC",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="WasteRequestQA";function e(e,t,o,s,n,r){var a,c,u=this,i=(0,o.logger.getLogFn)(l);u.confirmWaste=function(e){console.log(e),t={id:e.id,jobSplitId:e.jobSplitId},o=n.resourceUri.qac+"/waste-request/update",r.updateResource(o,t).then(function(e){console.log(e)},function(e){$scope.message="Failed to save resource due to:"+e});var t,o},a=[s.resourcejob.getQAWasteRequests(c).then(function(e){return u.wasterequests=e,console.log(u.wasterequests),u.wasterequests})],o.activateController(a,l).then(function(){i("Activated Jobs View")})}angular.module("app").controller("WasteRequestQA",e),e.$inject=["$location","$routeParams","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="WasteApprovedQA";function o(o,e,t,r,s,a,c){var n=this,l=(0,r.logger.getLogFn)(u);n.confirmWaste=function(o){console.log(o),e={jobSplitId:o.jobSplitId,JobSplitCEAnalysisId:o.id,WasteErrorSourceId:o.wastesource.id},r=a.resourceUri.qac+"/wasteapproval/create",c.saveResource(r,e).then(function(o){console.log(o),getQAWasteRequests()},function(o){console.log(o),t.message="Failed to save resource due to:"+o});var e,r},n.wasteErrorSources=[],function(){o=s.lookup.lookupCachedData,n.wasteErrorSources=o.wasteErrorSources,console.log(o),console.log(n.wasteErrorSources);var o;r.activateController([],u).then(function(){l("Activated Jobs View")})}()}angular.module("app").controller("WasteApprovedQA",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var i="WastePendingQA";function e(e,o,r,s,a,n,c){var u=this,l=(0,s.logger.getLogFn)(i);u.confirmWaste=function(e){console.log(e),o={jobSplitId:e.jobSplitId,JobSplitCEAnalysisId:e.id,WasteErrorSourceId:e.wastesource.id},t=n.resourceUri.qac+"/wasteapproval/create",c.saveResource(t,o).then(function(e){console.log(e),getQAWasteRequests()},function(e){console.log(e),r.message="Failed to save resource due to:"+e});var o,t},u.wasteErrorSources=[],function(){e=a.lookup.lookupCachedData,u.wasteErrorSources=e.wasteErrorSources,console.log(e),console.log(u.wasteErrorSources);var e;var o=[a.resourcejob.getPendingWasteRequests(t).then(function(e){return u.wasterequests=e,console.log(u.wasterequests),u.wasterequests})];var t;s.activateController(o,i).then(function(){l("Activated Jobs View")})}()}angular.module("app").controller("WastePendingQA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="CardProductListRM";function t(r,o,n,t,c){var a=this,e=(0,n.logger.getLogFn)(p),u=t.keyCodes;a.gotoclientProductDetails=function(t){console.log(o);var e=o.id;o.productId;t&&t.id&&r.path("/rm/client/"+e+"/product/"+t.id+"/create")},a.filteredProducts=[],a.products=[],a.productsSearch="",a.productsFilter=g,a.search=function(t){t.keyCode===u.esc?(a.productsSearch="",d(!0)):d()},a.productCount=0,a.productFilteredCount=0,a.paging={currentPage:1,maxPagesToShow:5,pageSize:10},a.pageChanged=function(t){if(!t)return;a.paging.currentPage=t,s()},Object.defineProperty(a.paging,"pageCount",{get:function(){return Math.floor(a.productFilteredCount/a.paging.pageSize)+1}});var i,d=function(){};function s(t){var e=o.id;return c.inventory.getClientProducts2(e,t).then(function(t){return a.products=t,console.log(a.products),t})}function d(){a.filteredProducts=a.products.filter(g)}function g(t){var e=n.textContains,r=a.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}i=[s()],n.activateController(i,p).then(function(){d=n.createSearchThrottle(a,"products"),a.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("CardProductListRM",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var s="ClientListRM";function t(n,t,i){var e,o,l=this,c=(0,t.logger.getLogFn)(s);l.clients=[],l.gotoClientDetails=function(t){t&&t.id&&n.path("/rm/client/"+t.id+"/productlists")},e=[i.inventory.getClients(o).then(function(t){return l.clients=t,console.log(l.clients),l.clients})],t.activateController(e,s).then(function(){c("Activated Jobs View")})}angular.module("app").controller("ClientListRM",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var u="NonPersoJobRM";function o(o,n,e){var t,r,s,c=this,i=(0,n.logger.getLogFn)(u);c.getNonPersojobs=[],c.addNewJob=function(){o.path("/rm/clients")},t=[e.rm.getNonPersojobs(s).then(function(o){return c.nonpersojobs=o,console.log(c.nonpersojobs),c.nonpersojobs}),e.rm.getRMUsers(r).then(function(o){return c.users=o,console.log(c.users),c.users})],n.activateController(t,u).then(function(){i("Activated Jobs View")})}angular.module("app").controller("NonPersoJobRM",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="NonPersoDetailRM";function e(t,n,r,a,i,c,s){var u=this,d=(0,a.logger.getLogFn)(l);u.save=function(){u.newEntity={sidProductId:n.productId,quantity:u.entity.quantity,jobName:u.entity.jobName,description:u.entity.description,serviceTypeId:u.entity.serviceType.id},console.log(u.newEntity),e=u.newEntity,o=c.resourceUri.rm+"/nonpersojob/create",s.saveResource(o,e).then(function(e){t.path("/rm/nonperso-jobs")},function(e){console.log(e);var o=[];for(var t in e.data.modelState)for(var n=0;n<e.data.modelState[t].length;n++)o.push(e.data.modelState[t][n]);r.message="Failed to save resource due to:"+o.join(" ")});var e,o},u.product=void 0,r.message="",function(){e=i.lookup.lookupCachedData,u.serviceTypes=e.serviceTypes,u.remarks=e.remarks;var e;var o=[function(){var o=n.id;if(o)return i.rm.getNonPersojobs(o).then(function(e){return u.nonpersojob=e,u.nonpersojob},function(e){logError("Unable to get nonpersojob "+o)})}(),(t=n.productId,i.inventory.getProductById(t).then(function(e){u.product=e},function(e){logError("Unable to get Product "+t)}))];var t;a.activateController(o,l).then(function(){d("Activated JobDetails View")})}()}angular.module("app").controller("NonPersoDetailRM",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var h="PrintDetailPR";function e(t,r,n,e,a,c,i){var o,s,u,l,b,d=this,g=(0,e.logger.getLogFn)(h);d.jobBatchTracker=void 0,d.allIssuanceLogs=[],d.issuanceLogs=[],d.collectors=[],d.job=void 0,d.jobs=[],d.jobTracker=void 0,d.stateCheck=void 0,d.goBack=function(){$window.history.back()},d.save=function(){d.newEntity={InitializedById:"",jobBatchTrackerId:r.batchId,InitializedOn:"12/12/1900"},e=d.newEntity,o=c.resourceUri.printing+"/printcomplete/create",i.saveResource(o,e).then(function(e){t.path("/pr/incoming-print")},function(e){console.log(e);var o=[];for(var t in e.data.modelState)for(var r=0;r<e.data.modelState[t].length;r++)o.push(e.data.modelState[t][r]);n.message="Failed to save resource due to:"+o.join(" ")});var e,o},o=[(b=r.batchId,a.resourcejob.getJobBatchTrackerById(b).then(function(e){var o;d.jobBatchTracker=e,console.log(d.jobBatchTracker),o=d.jobBatchTracker.jobTrackerId,a.inventjob.getCardIssuanceLogs(o).then(function(e){d.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+val)})},function(e){logError("Unable to get JobTracker "+b)})),a.resourcejob.getJobs(l).then(function(e){return d.jobs=e,d.jobs}),a.resourcejob.getJobTrackers(u).then(function(e){return d.jobTrackers=e,console.log(d.jobTrackers),d.jobTrackers}),a.inventaccount.getProductionStaffs(s).then(function(e){return d.users=e,console.log(d.users),d.users})],e.activateController(o,h).then(function(){g("Activated JobDetails View")})}angular.module("app").controller("PrintDetailPR",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="FlaggedJobSV";function e(e,t,o,n,c,i){var r,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.supervisor.getFlaggedJobs(e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,r=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(r,n).then(function(e){l()},function(e){console.log(e),t.message="Failed to save due to: "+e.data.message});var n,r},r=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(r,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("FlaggedJobSV",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="ResolvedJobSV";function e(e,t,o,n,c,i){var r,s,a,g,l=this,u=(0,o.logger.getLogFn)(d);l.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,r=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(r,n).then(function(e){getFlaggedJobs()},function(e){console.log(e),t.message="Failed to save due to: "+e.data.message});var n,r},r=[n.supervisor.getUnFlaggedJobs(g).then(function(e){return l.incomingPrints=e,l.incomingPrints}),n.inventjob.getJobs(a).then(function(e){return l.jobs=e,l.jobs}),n.resourcejob.getJobTrackers(s).then(function(e){return l.jobTrackers=e,l.jobTrackers})],o.activateController(r,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("ResolvedJobSV",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJobCE";function e(e,t,o,n,c,i){var r,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Card Engineer",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,r=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(r,n).then(function(e){l()},function(e){console.log(e),t.message="Failed to save due to: "+e.data.message});var n,r},r=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(r,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobCE",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="CardDeliveryReportCE";function e(r,e,o){var t,n,c,i,a,l=this,s=(0,e.logger.getLogFn)(d);l.gotoJobDetails=function(e){e&&e.id&&r.path("/pr/print-job/"+e.id)},l.jobs=[],l.carddeliveryreports=[],t=[o.cardengrjob.getCECardDelivery(a).then(function(e){return l.carddeliveryreports=e,console.log(l.carddeliveryreports),l.carddeliveryreports}),o.resourcejob.getJobTrackers(i).then(function(e){return l.jobTrackers=e,console.log(l.jobTrackers),l.jobTrackers}),o.inventjob.getJobs(c).then(function(e){return l.jobs=e,l.jobs}),o.inventaccount.getProductionStaffs(n).then(function(e){return l.collectors=e,l.collectors})],e.activateController(t,d).then(function(){s("Activated Jobs View")})}angular.module("app").controller("CardDeliveryReportCE",e),e.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var f="CardMISReportCE";function e(e,r,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(f),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return console.log(e),u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(k)}function k(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function l(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=function(){s(!0),l(!0)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=k,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:10},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData;var e=[s(),l()];t.activateController(e,f).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("CardMISReportCE",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var l="CardMISReportCE";function o(o,r,e,s,t,c,n,a){var i=this,u=(0,s.logger.getLogFn)(l);t.keyCodes;i.misreports=[],i.jobs=[],function(){c.lookup.lookupCachedData;var o=[c.cardengrjob.getJobSplitCEAnalysis(n).then(function(o){return i.misreports=o,console.log(i.misreports),i.misreports}),c.resourcejob.getCEJobSplits().then(function(o){i.jobSplits=o},function(o){logError("Unable to get JobSplit "+t)}),c.resourcejob.getJobTrackers(e).then(function(o){return i.jobTrackers=o,console.log(i.jobTrackers),i.jobTrackers}),c.resourcejob.getJobs(r).then(function(o){return i.jobs=o,i.jobs})];var r;var e;var t;var n;s.activateController(o,l).then(function(){u("Activated Job Status View")})}()}angular.module("app").controller("CardMISReportCE",o),o.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var f="IssuanceReportCE";function o(o,e,n,t,a,s,c,r,u){var i=this,l=(0,a.logger.getLogFn)(f);s.keyCodes;i.cardIssuancelogs=[],function(){c.lookup.lookupCachedData;var o=[c.inventjob.getCardIssuanceLogs(s).then(function(o){return i.cardIssuancelogs=o,console.log(i.cardIssuancelogs),i.cardIssuancelogs}),c.inventjob.getCardIssuances(t).then(function(o){return i.cardIssuances=o,i.cardIssuances}),c.resourcejob.getJobs(n).then(function(o){return i.jobs=o,i.jobs}),c.inventaccount.getProductionStaffs(e).then(function(o){return i.staffs=o,console.log(i.staffs),i.staffs})];var e;var n;var t;var s;a.activateController(o,f).then(function(){l("Activated Job Status View")})}()}angular.module("app").controller("IssuanceReportCE",o),o.$inject=["$location","$routeParams","$scope","$timeout","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var f="JobArchiveCE";function e(e,r,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(f),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return console.log(e),u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(k)}function k(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function l(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=function(){s(!0),l(!0)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=k,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:10},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData;var e=[s(),l()];t.activateController(e,f).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("JobArchiveCE",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="JobDeliveryReportCE";function e(e,r,t,o,s,n,l,a,c){var i=this,u=(0,s.logger.getLogFn)(d);n.keyCodes;i.carddeliverylogs=[],i.getTargetDepartment=function(e){for(var r=0,t=0;t<i.departments.length;t++){var o=i.departments[t];o.id==e&&(r=o.name)}return r},function(){e=l.lookup.lookupCachedData,i.departments=e.departments,console.log(i.departments);var e;var r=[l.resourcejob.getCECardDeliveryLogs(c).then(function(e){return i.carddeliverylogs=e,console.log(i.carddeliverylogs),i.carddeliverylogs}),l.resourcejob.getCECardDeliverys(a).then(function(e){return i.carddeliverys=e,console.log(i.carddeliverys),i.carddeliverys}),l.resourcejob.getJobTrackers(n).then(function(e){return i.jobtrackers=e,i.jobtrackers}),l.resourcejob.getJobs(o).then(function(e){return i.jobs=e,i.jobs}),l.inventaccount.getProductionStaffs(t).then(function(e){return i.staffs=e,console.log(i.staffs),i.staffs})];var t;var o;var n;var a;var c;s.activateController(r,d).then(function(){u("Activated Job Status View")})}()}angular.module("app").controller("JobDeliveryReportCE",e),e.$inject=["$location","$routeParams","$scope","$timeout","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var f="JobPersoReportCE";function t(t,o,e,n,a,r,c,s,i){var u=this,l=(0,a.logger.getLogFn)(f);r.keyCodes;u.splitceanalysis=[],function(){c.lookup.lookupCachedData;var t=[c.resourcejob.getJobSplitCEAnalysisByDepartment("Card Engineer",s).then(function(t){return u.splitceanalysis=t,console.log(u.splitceanalysis),u.splitceanalysis}),c.resourcejob.getJobTrackers(r).then(function(t){return u.jobtrackers=t,u.jobtrackers}),c.resourcejob.getJobs(n).then(function(t){return u.jobs=t,u.jobs}),c.resourcejob.getJobSplits(e).then(function(t){return u.jobsplits=t,u.jobsplits}),c.inventaccount.getProductionStaffs(o).then(function(t){return u.staffs=t,console.log(u.staffs),u.staffs})];var o;var e;var n;var r;var s;a.activateController(t,f).then(function(){l("Activated Job Status View")})}()}angular.module("app").controller("JobPersoReportCE",t),t.$inject=["$location","$routeParams","$scope","$timeout","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var c="accordion";function o(o,e,t,a,n,l){(0,l.logger.getLogFn)(c),l.$q;l.activateController([],c).then(function(){}),t.openModal=function(o,t,n){e.currentModal=a.open({templateUrl:o,size:t,backdrop:void 0===n||n})},t.openAjaxModal=function(o,t){e.currentModal=a.open({templateUrl:o,resolve:{ajaxContent:function(o){return o.get(t).then(function(o){e.modalContent=n.trustAsHtml(o.data)},function(o){e.modalContent=n.trustAsHtml('<div class="label label-danger">Cannot load ajax content! Please check the given url.</div>')})}}}),e.modalContent=n.trustAsHtml("Modal content is loading...")}}angular.module("app").controller("accordion",o),o.$inject=["$location","$rootScope","$scope","$modal","$sce","common"]}();
!function(){"use strict";var d="UnitFlaggedJob";function e(e,r,o,n,c,i){var t,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Card Ops",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(t,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJob",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var v="DeletedJobCO";function e(r,e,o,t,n,i,a,c,u,s){var l=this,g=(0,i.logger.getLogFn)(v),f=a.keyCodes;function p(e,r){return c.resourcejob.getDeletedServerJobQueues(e,r,l.paging.currentPage,l.paging.pageSize,l.serverJobsSearch).then(function(e){return console.log(e),l.serverJobs=l.filteredServerJobs=e,l.serverJobCount&&!r||c.resourcejob.getServerJobCount().then(function(e){return l.serverJobCount=e}),l.serverJobFilteredCount=c.resourcejob.getServerJobFilteredCount(l.serverJobsSearch),e})}l.fileType="asc",l.jobFiles=function(){l.fileType="asc",p(l.fileType)},l.sortingFiles=function(){l.fileType="xls",p(l.fileType)},l.otherFiles=function(){l.fileType="*",p(l.fileType)},l.auth=n.authentication,l.gotoJobDetails=function(e){e&&e.id&&"CardOps"===l.currnetRole&&r.path("/co/job-setup/"+e.id)},l.roles=[],l.currnetRole=void 0,l.refresh=function(){getServerJobs(l.fileType,!0)},l.markUnTreated=function(e){r={id:e.id,jobName:e.jobName},o=u.resourceUri.co+"/serverjob/undelete",s.updateResource(o,r).then(function(e){p()},function(e){console.log(e),t.message="Failed to save resource due to:"});var r,o},l.serverJobs=[],l.filteredServerJobs=[],l.serverJobsSearch="",l.search=function(e){e.keyCode===f.esc&&(l.serverJobsSearch="");p(l.fileType)},l.serverJobCount=0,l.serverJobFilteredCount=0,l.paging={currentPage:1,maxPagesToShow:10,pageSize:10},l.pageChanged=function(e){if(!e)return;l.paging.currentPage=e,p(l.fileType)},Object.defineProperty(l.paging,"pageCount",{get:function(){return Math.floor(l.serverJobFilteredCount/l.paging.pageSize)+1}}),function(){!function(){var e=n.authentication;if(""!==e.roles){var r=e.page;l.currnetRole=r}}();var e=[p(l.fileType),(r=n.authentication.page,void(l.currnetRole=r))];var r;i.activateController(e,v).then(function(){g("Activated Dashboard View")})}()}angular.module("app").controller("DeletedJobCO",e),e.$inject=["$location","$route","$rootScope","$scope","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var r="JobCO";function o(t,o,n){var e,c,i=this,a=(0,o.logger.getLogFn)(r);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job-setup-update/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(c).then(function(o){return i.jobs=o,i.jobs})],o.activateController(e,r).then(function(){a("Activated Jobs View")})}angular.module("app").controller("JobCO",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var f="JobArchiveIN";function e(e,r,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(f),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return console.log(e),u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(k)}function k(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function l(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=function(){s(!0),l(!0)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=k,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:10},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData;var e=[s(),l()];t.activateController(e,f).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("JobArchiveIN",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var b="JobDetailCO";function o(o,e,t,r,a){var c,n,i=this,l=(0,r.logger.getLogFn)(b);i.jobs=[],i.jobTracker=void 0,i.stateCheck=void 0,c=[(n=e.id,a.resourcejob.getJobTrackerByJobId(n).then(function(o){i.jobTracker=o,console.log(i.jobTracker)},function(o){logError("Unable to get JobTracker "+n)}))],r.activateController(c,b).then(function(){l("Activated JobDetails View")})}angular.module("app").controller("JobDetailCO",o),o.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var s="JobListIN";function t(e,t,n,r,o){var c=this,u=(0,n.logger.getLogFn)(s),i=r.keyCodes;c.gotoclientProductDetails=function(t){t&&t.id&&e.path("/in/mis/card/client/:clientId/product/:productId/reports")},c.filteredProducts=[],c.products=[],c.productsSearch="",c.productsFilter=g,c.search=function(t){t.keyCode===i.esc?(c.productsSearch="",d(!0)):d()},c.productCount=0,c.productFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:5,pageSize:10},c.pageChanged=function(t){if(!t)return;c.paging.currentPage=t,p()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.productFilteredCount/c.paging.pageSize)+1}});var a,d=function(){};function p(e){return o.inventory.getClientProducts(1,e,c.paging.currentPage,c.paging.pageSize,c.productsSearch).then(function(t){return c.products=c.filteredProducts=t,c.productFilteredCount=o.inventory.getProductFilteredCount(c.productsSearch),c.productCount&&!e||o.inventory.getProductCount().then(function(t){return c.productCount=t}),t})}function d(){c.filteredProducts=c.products.filter(g)}function g(t){var e=n.textContains,r=c.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],n.activateController(a,s).then(function(){d=n.createSearchThrottle(c,"products"),c.productsSearch&&d(!0),u("Activated Jobs View")})}angular.module("app").controller("JobListIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var l="JobServiceUpdateCO";function e(t,r,e,o,n,a,c,i){var s=this,u=(0,n.logger.getLogFn)(l);o.keyCodes;s.goBack=function(){$window.history.back()},s.save=function(){r.id;if(""===document.getElementById("jobName").value||void 0===document.getElementById("jobName").value)return alert("Please select a valid Job Name"),!1;null!==s.jobsetup.jobName||void 0!==s.jobsetup.jobName?(s.newJob={jobId:s.jobsetup.id,jobTrackerId:r.id,serviceTypeId:s.jobsetup.serviceType.id},console.log(s.newJob),e=s.newJob,o=c.resourceUri.co+"/servicetype/update",i.saveResource(o,e).then(function(e){console.log(e),t.path("/job-status")})):(console.log("error"),s.errorMessage="No Service Selected");var e,o},s.jobsetup={},s.errorMessage="",function(){e=a.lookup.lookupCachedData,s.serviceTypes=e.serviceTypes;var e;var o=[function(){var o=r.id;if(o)return a.resourcejob.getJobByTrackerId(o).then(function(e){return s.jobsetup=e[0],console.log(s.jobsetup),s.jobsetup},function(e){logError("Unable to get variant "+o)})}()];n.activateController(o,l).then(function(){u("Activated Variants View")})}()}angular.module("app").controller("JobServiceUpdateCO",e),e.$inject=["$location","$routeParams","$scope","config","common","datacontext","model","resourceService"]}();
!function(){"use strict";var g="JobSetupCO";function e(t,r,i,e,o,n,s,a){var c=this,d=(0,o.logger.getLogFn)(g),u=e.keyCodes;function l(e,o){c.selectedClientServices=[],angular.forEach(c.clientServices,function(e,t){e.sidCardTypeId==o&&c.selectedClientServices.push(e)});for(var t=!1,r=0;r<c.selectedClientServices.length&&!t;r++)for(var i=c.selectedClientServices[r].serviceCodeName.toLowerCase().split("_"),n=0;n<i.length&&!t;n++){if(0<=c.fileName.indexOf(i[n].toLowerCase())){(t=!0)&&(console.log(c.selectedClientServices[r].serviceType),c.jobsetup.serviceType=c.selectedClientServices[r].serviceType);break}}}function p(e){var t,o;e.startsWith("n")&&(t=e.substring(1,e.length),isNaN(t)||(0|(o=parseFloat(t)))!==o||(c.jobsetup.quantity=e.substring(1,e.length)))}function b(){t.path("/co/pending-jobs")}function v(t){return n.resourcejob.getServerJobQueues(t,c.paging.currentPage,c.paging.pageSize,c.serverJobsSearch).then(function(e){return c.jobNames=c.serverJobs=c.filteredServerJobs=e,c.serverJobCount&&!t||n.resourcejob.getServerJobCount().then(function(e){return c.serverJobCount=e}),c.serverJobFilteredCount=n.resourcejob.getServerJobFilteredCount(c.serverJobsSearch),e})}c.serverJob=void 0,c.job=[],c.goBack=function(){$window.history.back()},c.gotoJobDetails=function(e){console.log(e),e&&e.id&&t.path("/co/job-setup/"+e.id)},c.updateClientList=function(e){c.newClientInfo=[];var o=c.jobsetup.sector.id;angular.forEach(c.clients,function(e,t){e.sectorId==o&&c.newClientInfo.push(e)})},c.save=function(){var e;r.id;if(console.log(c.jobsetup),""==document.getElementById("jobName").value||null==document.getElementById("jobName").value)return alert("Please select a valid Job Name"),!1;e=void 0===c.jobsetup.remark?"":c.jobsetup.remark.name;null!==c.jobsetup.jobName||void 0!==c.jobsetup.jobName?(c.newJob={jobName:c.jobsetup.jobName,jobNameId:c.jobsetup.jobNameId,sidSectorId:c.jobsetup.sector.id,sidClientId:c.jobsetup.sidClient.id,sidCardTypeId:c.jobsetup.sidCardType.id,remark:e,ServiceTypeId:c.jobsetup.serviceType.id,quantity:c.jobsetup.quantity},t=c.newJob,o=s.resourceUri.co+"/job/create",a.saveResource(o,t).then(function(e){c.serverJob={},c.jobsetup={},b()},function(e){var t=[];for(var o in e.data.modelState)for(var r=0;r<e.data.modelState[o].length;r++)t.push(e.data.modelState[o][r]);i.message="Failed to save resource due to:"+t.join(" "),b()})):(console.log("error"),c.errorMessage="No Job Selected");var t,o},c.clients=[],c.newClientInfo=[],c.jobTypes=[],c.remarks=[],c.sectors=[],c.priority=[],c.sidVariants=[],c.sidCardTypes=[],c.jobsetup={},c.jobNames=[],c.jobName=void 0,c.jobQuantity,c.serverJobs=[],c.filteredServerJobs=[],c.serverJobsSearch="",c.search=function(e){e.keyCode===u.esc&&(c.serverJobsSearch="");v()},c.serverJobCount=0,c.serverJobFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:10,pageSize:20},c.pageChanged=function(e){if(!e)return;c.paging.currentPage=e,v()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.serverJobFilteredCount/c.paging.pageSize)+1}}),c.errorMessage="",function(){e=n.lookup.lookupCachedData,console.log(e),c.clients=e.clients,c.serviceTypes=e.serviceTypes,c.remarks=e.remarks,c.sectors=e.sectors,c.sidCardTypes=e.sidCardTypes,c.dictionaryClientNames=e.dictionaryClientNames,c.dictionaryCardTypes=e.dictionaryCardTypes,c.dictionaryServiceTypes=e.dictionaryServiceTypes;var e;var t=[function(){var t=r.id;if(t)return n.resourcejob.getByServerJobQueueId(t).then(function(e){c.jobsetup.jobName=e.jobName;var t=c.jobsetup.jobName.toLowerCase();return t=t.replace(/\s/gi,"_"),function(e){for(var t=!1,o=0;o<c.dictionaryClientNames.length&&!t;o++)for(var r=c.dictionaryClientNames[o].clientCodeName,i=r.split("_"),n=0;n<i.length&&!t;n++){var s=e.indexOf(i[n].toLowerCase());if(0<=s){(t=!0)&&(c.jobsetup.sector=c.dictionaryClientNames[o].sidClient.sector,c.updateClientList(c.jobsetup.sector.id),c.jobsetup.sidClient=c.dictionaryClientNames[o].sidClient);break}}}(c.fileName=t),function(e){for(var t=!1,o=0;o<c.dictionaryCardTypes.length&&!t;o++)for(var r=c.dictionaryCardTypes[o].cardCodeName.toLowerCase(),i=r.split("_"),n=0;n<i.length&&!t;n++){var s=e.indexOf(i[n]);if(0<s){(t=!0)&&(c.jobsetup.sidCardType=c.dictionaryCardTypes[o].sidCardType);break}}}(t),function(e){var t=e.replace(/_/g," ").replace(/\./g," "),o=[];o=t.split(" ");for(var r=0;r<o.length;r++)p(o[r])}(t),c.jobsetup.sidClient&&function(o){c.clientServices=[],angular.forEach(c.dictionaryServiceTypes,function(e,t){e.sidClientId==o.id&&c.clientServices.push(e)});if(0<c.clientServices.length){console.log("Have setting");for(var e=0;e<c.clientServices.length;e++)c.jobsetup.sidCardType&&l(c.jobsetup.sidClient.id,c.jobsetup.sidCardType.id)}else console.log("No setting")}(c.jobsetup.sidClient),c.jobsetup},function(e){logError("Unable to get variant "+t)})}()];o.activateController(t,g).then(function(){d("Activated Variants View")})}()}angular.module("app").controller("JobSetupCO",e),e.$inject=["$location","$routeParams","$scope","config","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="JobSetupUpdateCO";function e(t,n,e,o,r,s,i,a){var u=this,c=(0,r.logger.getLogFn)(p),d=o.keyCodes;function b(o){return s.resourcejob.getServerJobQueues(o,u.paging.currentPage,u.paging.pageSize,u.serverJobsSearch).then(function(e){return u.jobNames=u.serverJobs=u.filteredServerJobs=e,u.serverJobCount&&!o||s.resourcejob.getServerJobCount().then(function(e){return u.serverJobCount=e}),u.serverJobFilteredCount=s.resourcejob.getServerJobFilteredCount(u.serverJobsSearch),e})}u.jobId=n.id,u.serverJob=void 0,u.job=[],u.goBack=function(){$window.history.back()},u.gotoJobDetails=function(e){console.log(e),e&&e.id&&t.path("/co/job-setup/"+e.id)},u.updateClientList=function(e){u.newClientInfo=[];var r=u.jobsetup.sector.id;angular.forEach(u.clients,function(e,o){e.sectorId===r&&u.newClientInfo.push(e)})},u.save=function(){var e;n.id;if(console.log(u.jobsetup),""===document.getElementById("jobName").value||void 0===document.getElementById("jobName").value)return alert("Please select a valid Job Name"),!1;console.log(u.jobsetup.remarks),e=void 0===u.jobsetup.remarks?"":u.jobsetup.remarks.name;null!==u.jobsetup.jobName||void 0!==u.jobsetup.jobName?(u.newJob={id:u.jobsetup.id,jobName:u.jobsetup.jobName,jobNameId:u.jobsetup.jobNameId,sidSectorId:u.jobsetup.sector.id,sidClientId:u.jobsetup.sidClient.id,sidCardTypeId:u.jobsetup.sidCardType.id,remark:e,ServiceTypeId:u.jobsetup.serviceType.id,quantity:u.jobsetup.quantity},console.log(u.newJob),o=u.newJob,r=i.resourceUri.co+"/job/update",a.updateResource(r,o).then(function(e){u.serverJob={},u.jobsetup={},t.path("/job-status")})):(console.log("error"),u.errorMessage="No Job Selected");var o,r},u.clients=[],u.newClientInfo=[],u.jobTypes=[],u.remarks=[],u.sectors=[],u.priority=[],u.sidVariants=[],u.sidCardTypes=[],u.jobsetup={},u.jobNames=[],u.jobName=void 0,u.jobQuantity,u.serverJobs=[],u.filteredServerJobs=[],u.serverJobsSearch="",u.search=function(e){e.keyCode===d.esc&&(u.serverJobsSearch="");b()},u.serverJobCount=0,u.serverJobFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:20},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,b()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.serverJobFilteredCount/u.paging.pageSize)+1}}),u.errorMessage="",function(){e=s.lookup.lookupCachedData,u.clients=e.clients,u.serviceTypes=e.serviceTypes,u.remarks=e.remarks,u.sectors=e.sectors,u.sidCardTypes=e.sidCardTypes,u.dictionaryClientNames=e.dictionaryClientNames,u.dictionaryCardTypes=e.dictionaryCardTypes,u.dictionaryServiceTypes=e.dictionaryServiceTypes;var e;var o=[function(){var o=n.id;if(o)return s.resourcejob.getJobByTrackerId(o).then(function(e){return u.jobsetup=e[0],console.log(u.jobsetup),u.jobsetup},function(e){logError("Unable to get variant "+o)})}()];r.activateController(o,p).then(function(){c("Activated Variants View")})}()}angular.module("app").controller("JobSetupUpdateCO",e),e.$inject=["$location","$routeParams","$scope","config","common","datacontext","model","resourceService"]}();
!function(){"use strict";var j="JobStatusCO";function o(o,e,t,r,c,n,s){var a,u,b,i=this,l=(0,r.logger.getLogFn)(j);i.jobTrackers=[],i.jobs=[],a=[c.resourcejob.getJobTrackers(b).then(function(o){return i.jobTrackers=o,console.log(i.jobTrackers),i.jobTrackers}),c.resourcejob.getJobs(u).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],r.activateController(a,j).then(function(){l("Activated Job Status View")})}angular.module("app").controller("JobStatusCO",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="NonPersoJobCO";function o(n,o,e){var t,s,r,c=this,i=(0,o.logger.getLogFn)(u);c.gotoJobDetails=function(o){o&&o.id&&n.path("/co/nonperso-job/"+o.id)},c.jobs=[],t=[e.resourcejob.getNonPersoJobs(r).then(function(o){return c.jobs=o,console.log(c.jobs),c.jobs}),e.rm.getRMUsers(s).then(function(o){return c.users=o,console.log(c.users),c.users})],o.activateController(t,u).then(function(){i("Activated Jobs View")})}angular.module("app").controller("NonPersoJobCO",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var p="NonPersoJobSetupCO";function e(r,t,e,o,n,s,i,a){var c=this,u=(0,n.logger.getLogFn)(p),d=o.keyCodes;function b(o){return s.resourcejob.getServerJobQueues(o,c.paging.currentPage,c.paging.pageSize,c.serverJobsSearch).then(function(e){return c.jobNames=c.serverJobs=c.filteredServerJobs=e,c.serverJobCount&&!o||s.resourcejob.getServerJobCount().then(function(e){return c.serverJobCount=e}),c.serverJobFilteredCount=s.resourcejob.getServerJobFilteredCount(c.serverJobsSearch),e})}c.serverJob=void 0,c.job=[],c.goBack=function(){$window.history.back()},c.gotoJobDetails=function(e){console.log(e),e&&e.id&&r.path("/co/job-setup/"+e.id)},c.updateClientList=function(e){c.newClientInfo=[];var r=c.jobsetup.sector.id;angular.forEach(c.clients,function(e,o){e.sectorId==r&&c.newClientInfo.push(e)})},c.save=function(){t.id;console.log(c.jobsetup),null!==c.jobsetup.jobName||void 0!==c.jobsetup.jobName?(c.newJob={id:c.jobsetup.id,jobName:c.jobsetup.jobName+" : "+c.jobsetup.sidProduct.sidClient.name,jobNameId:c.jobsetup.jobNameId,sidSectorId:c.jobsetup.sidProduct.sidClient.sectorId,sidClientId:c.jobsetup.sidProduct.sidClientId,sidCardTypeId:c.jobsetup.sidProduct.sidCardTypeId,ServiceTypeId:c.jobsetup.serviceTypeId,quantity:c.jobsetup.quantity,jobType:"NonPerso"},console.log(c.newJob),e=c.newJob,o=i.resourceUri.co+"/job/create",a.saveResource(o,e).then(function(e){c.serverJob={},c.jobsetup={},r.path("/job-status")},function(e){console.log(e)})):(console.log("error"),c.errorMessage="No Job Selected");var e,o},c.clients=[],c.newClientInfo=[],c.jobTypes=[],c.remarks=[],c.sectors=[],c.priority=[],c.sidVariants=[],c.sidCardTypes=[],c.jobsetup={},c.jobNames=[],c.jobName=void 0,c.jobQuantity,c.serverJobs=[],c.filteredServerJobs=[],c.serverJobsSearch="",c.search=function(e){e.keyCode===d.esc&&(c.serverJobsSearch="");b()},c.serverJobCount=0,c.serverJobFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:10,pageSize:20},c.pageChanged=function(e){if(!e)return;c.paging.currentPage=e,b()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.serverJobFilteredCount/c.paging.pageSize)+1}}),c.errorMessage="",function(){e=s.lookup.lookupCachedData,c.clients=e.clients,c.serviceTypes=e.serviceTypes,c.remarks=e.remarks,c.sectors=e.sectors,c.sidCardTypes=e.sidCardTypes,c.dictionaryClientNames=e.dictionaryClientNames,c.dictionaryCardTypes=e.dictionaryCardTypes,c.dictionaryServiceTypes=e.dictionaryServiceTypes;var e;var o=[function(){var o=t.id;if(o)return s.resourcejob.getByNonPersoJobId(o).then(function(e){return c.jobsetup=e,console.log(c.jobsetup),c.jobsetup},function(e){logError("Unable to get variant "+o)})}()];n.activateController(o,p).then(function(){u("Activated Variants View")})}()}angular.module("app").controller("NonPersoJobSetupCO",e),e.$inject=["$location","$routeParams","$scope","config","common","datacontext","model","resourceService"]}();
!function(){"use strict";var v="PendingJobCO";function e(r,e,o,t,n,i,a,c,u,s){var l=this,g=(0,i.logger.getLogFn)(v),f=a.keyCodes;function p(e,r){return c.resourcejob.getServerJobQueues2(e,r,l.paging.currentPage,l.paging.pageSize,l.serverJobsSearch).then(function(e){return console.log(e),l.serverJobs=l.filteredServerJobs=e,l.serverJobCount&&!r||c.resourcejob.getServerJobCount().then(function(e){return l.serverJobCount=e}),l.serverJobFilteredCount=c.resourcejob.getServerJobFilteredCount(l.serverJobsSearch),e})}l.fileType="asc",l.jobFiles=function(){l.fileType="asc",p(l.fileType)},l.sortingFiles=function(){l.fileType="xls",p(l.fileType)},l.otherFiles=function(){l.fileType="*",p(l.fileType)},l.auth=n.authentication,l.gotoJobDetails=function(e){e&&e.id&&"CardOps"===l.currnetRole&&r.path("/co/job-setup/"+e.id)},l.roles=[],l.currnetRole=void 0,l.refresh=function(){p(l.fileType,!0)},l.markTreated=function(e){r={id:e.id,jobName:e.jobName},o=u.resourceUri.co+"/serverjob/delete",s.updateResource(o,r).then(function(e){p(l.fileType)},function(e){console.log(e),t.message="Failed to save resource due to:"});var r,o},l.serverJobs=[],l.filteredServerJobs=[],l.serverJobsSearch="",l.search=function(e){e.keyCode===f.esc&&(l.serverJobsSearch="");p(l.fileType)},l.serverJobCount=0,l.serverJobFilteredCount=0,l.paging={currentPage:1,maxPagesToShow:10,pageSize:10},l.pageChanged=function(e){if(!e)return;l.paging.currentPage=e,p(l.fileType)},Object.defineProperty(l.paging,"pageCount",{get:function(){return Math.floor(l.serverJobFilteredCount/l.paging.pageSize)+1}}),function(){!function(){var e=n.authentication;if(""!==e.roles){var r=e.page;l.currnetRole=r}}();var e=[p(l.fileType),(r=n.authentication.page,void(l.currnetRole=r))];var r;i.activateController(e,v).then(function(){g("Activated Dashboard View")})}()}angular.module("app").controller("PendingJobCO",e),e.$inject=["$location","$route","$rootScope","$scope","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var v="DeletedJobCO";function e(r,e,o,t,n,i,a,c,u,s){var l=this,g=(0,i.logger.getLogFn)(v),f=a.keyCodes;function p(e,r){return c.resourcejob.getDeletedServerJobQueues(e,r,l.paging.currentPage,l.paging.pageSize,l.serverJobsSearch).then(function(e){return console.log(e),l.serverJobs=l.filteredServerJobs=e,l.serverJobCount&&!r||c.resourcejob.getServerJobCount().then(function(e){return l.serverJobCount=e}),l.serverJobFilteredCount=c.resourcejob.getServerJobFilteredCount(l.serverJobsSearch),e})}l.fileType="asc",l.jobFiles=function(){l.fileType="asc",p(l.fileType)},l.sortingFiles=function(){l.fileType="xls",p(l.fileType)},l.otherFiles=function(){l.fileType="*",p(l.fileType)},l.auth=n.authentication,l.gotoJobDetails=function(e){e&&e.id&&"CardOps"===l.currnetRole&&r.path("/co/job-setup/"+e.id)},l.roles=[],l.currnetRole=void 0,l.refresh=function(){getServerJobs(l.fileType,!0)},l.markUnTreated=function(e){r={id:e.id,jobName:e.jobName},o=u.resourceUri.co+"/serverjob/undelete",s.updateResource(o,r).then(function(e){p()},function(e){console.log(e),t.message="Failed to save resource due to:"});var r,o},l.serverJobs=[],l.filteredServerJobs=[],l.serverJobsSearch="",l.search=function(e){e.keyCode===f.esc&&(l.serverJobsSearch="");p(l.fileType)},l.serverJobCount=0,l.serverJobFilteredCount=0,l.paging={currentPage:1,maxPagesToShow:10,pageSize:10},l.pageChanged=function(e){if(!e)return;l.paging.currentPage=e,p(l.fileType)},Object.defineProperty(l.paging,"pageCount",{get:function(){return Math.floor(l.serverJobFilteredCount/l.paging.pageSize)+1}}),function(){!function(){var e=n.authentication;if(""!==e.roles){var r=e.page;l.currnetRole=r}}();var e=[p(l.fileType),(r=n.authentication.page,void(l.currnetRole=r))];var r;i.activateController(e,v).then(function(){g("Activated Dashboard View")})}()}angular.module("app").controller("DeletedJobCO",e),e.$inject=["$location","$route","$rootScope","$scope","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var s="CardTypeDetailCO";function e(r,n,d,e,a,c,i){var t,u=this,o=(0,e.logger.getLogFn)(s);function p(e){return a.cardopslookup.getCardTypes(e).then(function(e){return u.cardtypes=e,u.cardtypes})}u.cardtypes=[],u.cardtype=void 0,u.goBack=function(){$window.history.back()},u.gotoCardTypes=function(e){e&&e.id&&r.path("/co/lookups/card-type/"+e.id)},u.save=function(){"new"===n.id?(u.newEntity={name:u.cardtype.name},a=u.newEntity,o=c.resourceUri.lookups+"/cardtype/create",i.saveResource(o,a).then(function(e){u.cardtype={},p()},function(e){var t=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)t.push(e.data.modelState[a][o]);d.message="Failed to save resource due to:"+t.join(" ")})):(u.updateEntity={id:u.cardtype.id,name:u.cardtype.name},e=u.updateEntity,t=c.resourceUri.lookups+"/cardtype/update",i.updateResource(t,e,e.id).then(function(e){u.cardtype={},p(),r.path("co/lookups/card-types")},function(e){var t=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)t.push(e.data.modelState[a][o]);d.message="Failed to save resource due to:"+t.join(" ")}));var e,t;var a,o},t=[p(),function(){var t=n.id;if(console.log(t),t)return a.cardopslookup.getCardTypeById(t).then(function(e){u.cardtype=e,console.log(u.cardtype)},function(e){logError("Unable to get CardType "+t)})}()],e.activateController(t,s).then(function(){o("Activated CardTypeDetail View")})}angular.module("app").controller("CardTypeDetailCO",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var v="CardVariantCO";function a(e,r,i,n,o,c,d){var u=this,s=(0,n.logger.getLogFn)(v);function l(a){return o.cardopslookup.getVariants(a).then(function(a){return u.variants=a,console.log(u.variants),u.variants})}u.gotoAddVariant=function(){e.path("co/lookups/card-variant/new")},u.variants=[],u.variant=void 0,u.goBack=function(){$window.history.back()},u.gotoVariants=function(a){a&&a.id&&e.path("/co/lookups/card-variant/"+a.id)},u.save=function(){"new"===r.id?(u.newEntity={clientId:u.variant.client.id,name:u.variant.name},n=u.newEntity,o=c.resourceUri.lookups+"/variant/create",d.saveResource(o,n).then(function(a){u.variant={},l()},function(a){var t=[];for(var n in a.data.modelState)for(var o=0;o<a.data.modelState[n].length;o++)t.push(a.data.modelState[n][o]);i.message="Failed to save resource due to:"+t.join(" ")})):(u.updateEntity={id:u.variant.id,clientId:u.variant.client.id,name:u.variant.name},a=u.updateEntity,t=c.resourceUri.lookups+"/variant/update",d.updateResource(t,a,a.id).then(function(a){u.variant={},l(),e.path("co/lookups/card-variants")},function(a){var t=[];for(var n in a.data.modelState)for(var o=0;o<a.data.modelState[n].length;o++)t.push(a.data.modelState[n][o]);i.message="Failed to save resource due to:"+t.join(" ")}));var a,t;var n,o},u.clients=[],function(){a=o.lookup.lookupCachedData,u.clients=a.clients;var a;var t=[l(),function(){var t=r.id;if(t)return o.cardopslookup.getVariantById(t).then(function(a){u.variant=a,console.log(u.variant)},function(a){logError("Unable to get variant "+t)})}()];n.activateController(t,v).then(function(){s("Activated Variants View")})}()}angular.module("app").controller("CardVariantCO",a),a.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="ClientCO";function t(i,a,c,o,n,r,l){var s=this,u=(0,o.logger.getLogFn)(p);function d(t){return n.cardopslookup.getClients(t).then(function(t){return s.clients=t,console.log(s.clients),s.clients})}s.addClient=function(){i.path("co/lookups/client/new")},s.clients=[],s.client=void 0,s.goBack=function(){$window.history.back()},s.gotoCardTypes=function(t){t&&t.id&&i.path("/co/lookups/client/"+t.id)},s.save=function(){"new"===a.id?(s.newEntity={sectorId:s.client.sector.id,name:s.client.name},o=s.newEntity,n=r.resourceUri.lookups+"/client/create",l.saveResource(n,o).then(function(t){s.client={},d()},function(t){var e=[];for(var o in t.data.modelState)for(var n=0;n<t.data.modelState[o].length;n++)e.push(t.data.modelState[o][n]);c.message="Failed to save resource due to:"+e.join(" ")})):(s.updateEntity={id:s.client.id,sectorId:s.client.sector.id,name:s.client.name},t=s.updateEntity,e=r.resourceUri.lookups+"/client/update",l.updateResource(e,t,t.id).then(function(t){s.client={},d(),i.path("co/lookups/clients")},function(t){var e=[];for(var o in t.data.modelState)for(var n=0;n<t.data.modelState[o].length;n++)e.push(t.data.modelState[o][n]);c.message="Failed to save resource due to:"+e.join(" ")}));var t,e;var o,n},s.sectors=[],function(){t=n.lookup.lookupCachedData,s.sectors=t.sectors;var t;var e=[d(),function(){var e=a.id;if(e)return n.cardopslookup.getClientById(e).then(function(t){s.client=t,console.log(s.client)},function(t){logError("Unable to get client "+e)})}()];o.activateController(e,p).then(function(){u("Activated Clients View")})}()}angular.module("app").controller("ClientCO",t),t.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var C="DictionaryCO";function e(e,t,i,n,a,o,r,c){var s=this,l=(0,n.logger.getLogFn)(C),d=a.keyCodes;function u(e){return s.message="Please wait...",s.messageVisble=!0,o.cardopslookup.getClients(e,s.paging.currentPage,s.paging.pageSize,s.clientSearch).then(function(e){return s.clients=s.filteredClients=e,s.message="",s.messageVisble=!1,e})}s.products=[],s.stockrepots=[],s.gotoClientProducts=function(e){s.clientId=e.id,s.selectedClient={id:s.clientId,name:e.name},n=s.selectedClient.id,o.cardopslookup.getDictionaryClientNames(n,a).then(function(e){return s.dicClientName=s.filteredClients=e,e}),t=s.selectedClient.id,o.cardopslookup.getDictionaryServiceTypes(t,i).then(function(e){return s.dicServiceType=s.filteredClients=e,e});var t,i;var n,a},s.productId=0,s.productName="",s.clients=[],s.clientSearch="",s.filteredClients=[],s.search=function(e){e.keyCode===d.esc&&(s.clientSearch="");u()},s.clientCount=0,s.clientFilteredCount=0,s.paging={currentPage:1,maxPagesToShow:10,pageSize:10},s.pageChanged=function(e){if(!e)return;s.paging.currentPage=e,u()},Object.defineProperty(s.paging,"pageCount",{get:function(){return Math.floor(s.serverJobFilteredCount/s.paging.pageSize)+1}}),s.message="",s.messageVisble=!1,s.dicClientName=[],s.saveClientCode=function(e){s.createNewClientName=!0},s.saveServiceType=function(e){var t=r.resourceUri.co+"/dictionary/servicetype/create";c.saveResource(t,e).then(function(e){},function(e){var t=[];for(var i in e.data.modelState)for(var n=0;n<e.data.modelState[i].length;n++)t.push(e.data.modelState[i][n]);$scope.message="Failed to save resource due to:"+t.join(" ")})},s.createNewClientCode=function(){var e={sidClientId:s.selectedClient.id,clientCodeName:s.selectedClient.codeName},t=r.resourceUri.co+"/dictionary/clientname/create";c.saveResource(t,e).then(function(e){o.lookup.getAll();var t=o.lookup.lookupCachedData;s.dictionaryClientNames=t.dictionaryClientNames,console.log(s.dictionaryClientNames),console.log(s.selectedClient.name),s.dicClientName=[],angular.forEach(s.dictionaryClientNames,function(e,t){e.sidClient.name==s.selectedClient.name&&s.dicClientName.push(e)}),console.log(s.dicClientName)},function(e){var t=[];for(var i in e.data.modelState)for(var n=0;n<e.data.modelState[i].length;n++)t.push(e.data.modelState[i][n]);$scope.message="Failed to save resource due to:"+t.join(" ")})},s.createNewClientName=!1,function(){e=o.lookup.lookupCachedData,s.clients=e.clients,s.serviceTypes=e.serviceTypes,s.remarks=e.remarks,s.sectors=e.sectors,s.sidCardTypes=e.sidCardTypes,s.dictionaryClientNames=e.dictionaryClientNames,s.dictionaryCardTypes=e.dictionaryCardTypes,s.dictionaryServiceTypes=e.dictionaryServiceTypes;var e;var t=[u()];n.activateController(t,C).then(function(){l("Activated Jobs View")})}()}angular.module("app").controller("DictionaryCO",e),e.$inject=["$location","$route","$routeParams","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var m="DictionaryCO";function e(e,t,i,a,n,c,r,o,d){var s=this,l=(0,n.logger.getLogFn)(m),u=c.keyCodes;function C(e){return r.cardopslookup.getClients(e,s.paging.currentPage,s.paging.pageSize,s.clientSearch).then(function(e){return s.clients=s.filteredClients=e,e})}function v(e,t){return r.cardopslookup.getDictionaryClientNames(e,t).then(function(e){return s.dicClientName=e})}function p(e,t){return r.cardopslookup.getDictionaryServiceTypes(e,t).then(function(e){return s.dicServiceType=e,console.log(s.dicServiceType),e})}s.products=[],s.stockrepots=[],s.productId=0,s.productName="",s.clients=[],s.clientSearch="",s.filteredClients=[],s.search=function(e){e.keyCode===u.esc&&(s.clientSearch="");C()},s.clientCount=0,s.clientFilteredCount=0,s.paging={currentPage:1,maxPagesToShow:10,pageSize:10},s.pageChanged=function(e){if(!e)return;s.paging.currentPage=e,C()},Object.defineProperty(s.paging,"pageCount",{get:function(){return Math.floor(s.serverJobFilteredCount/s.paging.pageSize)+1}}),s.message="",s.messageVisble=!1,s.dicClientName=[],s.createNewClientName=!1,s.newClientCode=!1,s.updateClientCode=!1,s.gotoClientProducts=function(e){v((s.selectedClient=e).id),p(e.id),s.selectedService=e},s.saveClientCode=function(){s.createNewClientName=!0,s.createNewServiceType=!1,s.newClientCode=!0,s.updateClientCode=!1},s.createNewClientCode=function(){var e={sidClientId:s.selectedClient.id,clientCodeName:s.selectedClient.codeName},t=o.resourceUri.co+"/dictionary/clientname/create";d.saveResource(t,e).then(function(e){v(s.selectedClient.id)},function(e){var t=[];for(var i in e.data.modelState)for(var n=0;n<e.data.modelState[i].length;n++)t.push(e.data.modelState[i][n]);a.message="Failed to save resource due to:"+t.join(" ")})},s.gotoClientCodeUpdateDetails=function(e){s.createNewClientName=!0,s.newClientCode=!1,s.updateClientCode=!0,s.selectedClient={id:e.id,name:e.sidClient.name,sidClientId:e.sidClientId,codeName:e.clientCodeName}},s.gotoClientServiceUpdateDetails=function(e){s.createNewClientName=!1,s.createNewServiceType=!0,s.newServiceType=!1,s.updateServiceType=!0,s.selectedService=e,s.selectedService.name=e.sidClient.name},s.updateNewClientCode=function(){var e={id:s.selectedClient.id,sidClientId:s.selectedClient.sidClientId,clientCodeName:s.selectedClient.codeName},t=o.resourceUri.co+"/dictionary/clientname/update";d.updateResource(t,e).then(function(e){console.log(e),v(s.selectedClient.sidClientId)},function(e){var t=[];for(var i in e.data.modelState)for(var n=0;n<e.data.modelState[i].length;n++)t.push(e.data.modelState[i][n]);a.message="Failed to save resource due to:"+t.join(" ")})},s.saveServiceCode=function(){s.createNewClientName=!1,s.createNewServiceType=!0,s.newServiceType=!0,s.updateServiceType=!1},s.createNewServiceType=!1,s.saveServiceType=function(){var t={sidClientId:s.selectedService.id,sidCardTypeId:s.selectedService.sidCardType.id,serviceTypeId:s.selectedService.serviceType.id,serviceCodeName:s.selectedService.serviceCodeName},e=o.resourceUri.co+"/dictionary/servicetype/create";d.saveResource(e,t).then(function(e){p(t.sidClientId)},function(e){var t=[];for(var i in e.data.modelState)for(var n=0;n<e.data.modelState[i].length;n++)t.push(e.data.modelState[i][n]);a.message="Failed to save resource due to:"+t.join(" ")})},s.updateServiceType2=function(){var t={id:s.selectedService.id,sidClientId:s.selectedService.sidClientId,sidCardTypeId:s.selectedService.sidCardTypeId,serviceTypeId:s.selectedService.serviceTypeId,serviceCodeName:s.selectedService.serviceCodeName};console.log(t);var e=o.resourceUri.co+"/dictionary/servicetype/update";d.updateResource(e,t).then(function(e){console.log(e),p(t.sidClientId)},function(e){var t=[];for(var i in e.data.modelState)for(var n=0;n<e.data.modelState[i].length;n++)t.push(e.data.modelState[i][n]);a.message="Failed to save resource due to:"+t.join(" ")})},s.selectedService=void 0,function(){e=r.lookup.lookupCachedData,s.clients=e.clients,s.serviceTypes=e.serviceTypes,s.remarks=e.remarks,s.sectors=e.sectors,s.sidCardTypes=e.sidCardTypes,s.dictionaryClientNames=e.dictionaryClientNames,s.dictionaryCardTypes=e.dictionaryCardTypes,s.dictionaryServiceTypes=e.dictionaryServiceTypes;var e;var t=[C()];n.activateController(t,m).then(function(){l("Activated Jobs View")})}()}angular.module("app").controller("DictionaryCO",e),e.$inject=["$location","$route","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var s="RemarkCO";function e(t,n,i,e,a,u,c){var r,m=this,o=(0,e.logger.getLogFn)(s);function d(e){return a.cardopslookup.getRemarks(e).then(function(e){return m.remarks=e,m.remarks})}m.remarks=[],m.remark=void 0,m.goBack=function(){$window.history.back()},m.gotoRemarks=function(e){e&&e.id&&t.path("/co/lookups/remark/"+e.id)},m.save=function(){"new"===n.id?(m.newEntity={name:m.remark.name},a=m.newEntity,o=u.resourceUri.lookups+"/remark/create",c.saveResource(o,a).then(function(e){m.remark={},d()},function(e){var r=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)r.push(e.data.modelState[a][o]);i.message="Failed to save resource due to:"+r.join(" ")})):(m.updateEntity={id:m.remark.id,name:m.remark.name},e=m.updateEntity,r=u.resourceUri.lookups+"/remark/update",c.updateResource(r,e,e.id).then(function(e){m.remark={},d(),t.path("co/lookups/remarks")},function(e){var r=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)r.push(e.data.modelState[a][o]);i.message="Failed to save resource due to:"+r.join(" ")}));var e,r;var a,o},m.addNewRemark=function(){console.log("ok"),t.path("co/lookups/remark/new")},r=[d(),function(){var r=n.id;if(r)return a.cardopslookup.getRemarkById(r).then(function(e){m.remark=e,console.log(m.remark)},function(e){logError("Unable to get Remark "+r)})}()],e.activateController(r,s).then(function(){o("Activated Remark View")})}angular.module("app").controller("RemarkCO",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="ClientCO";function t(i,a,c,o,n,r,l){var s=this,u=(0,o.logger.getLogFn)(p);function d(t){return n.cardopslookup.getClients(t).then(function(t){return s.clients=t,console.log(s.clients),s.clients})}s.addClient=function(){i.path("co/lookups/client/new")},s.clients=[],s.client=void 0,s.goBack=function(){$window.history.back()},s.gotoCardTypes=function(t){t&&t.id&&i.path("/co/lookups/client/"+t.id)},s.save=function(){"new"===a.id?(s.newEntity={sectorId:s.client.sector.id,name:s.client.name},o=s.newEntity,n=r.resourceUri.lookups+"/client/create",l.saveResource(n,o).then(function(t){s.client={},d()},function(t){var e=[];for(var o in t.data.modelState)for(var n=0;n<t.data.modelState[o].length;n++)e.push(t.data.modelState[o][n]);c.message="Failed to save resource due to:"+e.join(" ")})):(s.updateEntity={id:s.client.id,sectorId:s.client.sector.id,name:s.client.name},t=s.updateEntity,e=r.resourceUri.lookups+"/client/update",l.updateResource(e,t,t.id).then(function(t){s.client={},d(),i.path("co/lookups/clients")},function(t){var e=[];for(var o in t.data.modelState)for(var n=0;n<t.data.modelState[o].length;n++)e.push(t.data.modelState[o][n]);c.message="Failed to save resource due to:"+e.join(" ")}));var t,e;var o,n},s.sectors=[],function(){t=n.lookup.lookupCachedData,s.sectors=t.sectors;var t;var e=[d(),function(){var e=a.id;if(e)return n.cardopslookup.getClientById(e).then(function(t){s.client=t,console.log(s.client)},function(t){logError("Unable to get client "+e)})}()];o.activateController(e,p).then(function(){u("Activated Clients View")})}()}angular.module("app").controller("ClientCO",t),t.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJobCS";function e(e,r,o,n,c,i){var t,a,s,u=this,g=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Customer Service",e).then(function(e){return u.incomingPrints=e,u.incomingPrints})}u.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return u.jobs=e,u.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return u.jobTrackers=e,u.jobTrackers})],o.activateController(t,d).then(function(){g("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobCS",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJob";function e(e,r,o,n,c,i){var t,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Card Ops",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(t,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJob",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var b="ClientJobDP";function e(t,i,o,e,n,c,a){var r,l,s,d,u,v=this,f=(0,e.logger.getLogFn)(b);function y(e){var r=i.clientId;return n.dispatchjob.getDispatchDelivery(r,e).then(function(e){return v.dispatchDelivery=e,v.dispatchDelivery})}function p(e){var r=i.clientId;return n.resourcejob.getDPCardDeliveryLogByClientId(r,e).then(function(e){return v.carddelivery=e,v.carddelivery})}v.confirmMADelivery=function(e){v.newEntity={cardDeliveryLogId:e.id,sidClientId:i.clientId,jobTrackerId:e.jobTrackerId,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo},r=v.newEntity,t=c.resourceUri.inventory+"/DispatchDelivery/create",a.saveResource(t,r).then(function(e){p(),y()},function(e){});var r,t},v.carddelivery=[],v.dispatchDelivery=[],v.prepareNote=function(){var t;angular.forEach(o.selection.objects,function(e,r){t=e.jobTracker.job}),v.prepareDeliveryNote=!1,v.generateDeliveryNote=!0,v.delivery={client:t.sidClient.name},e=t.sidClientId,n.dispatchjob.getDeliveryProfiles(e,r).then(function(e){return v.deliveryprofiles=e,v.deliveryprofiles});var e,r},v.generateNote=function(){var n=[];void 0===v.delivery.template&&(v.delivery.template=!1);angular.forEach(o.selection.objects,function(e,r){var t={dispatchDeliveryId:e.id,sidClientId:i.clientId,jobTrackerId:e.jobTrackerId,rangeFrom:e.rangeFrom,rangeTo:e.rangeTo,jobId:e.jobTracker.jobId,hasTemplate:v.delivery.template,deliveryProfileId:v.delivery.profile.id,description:v.delivery.description};n.push(t)}),e=n,r=c.resourceUri.inventory+"/GenerateDeliveryNote/create",a.saveResource(r,e).then(function(e){t.path("/in/dispatch/incoming-jobs")},function(e){o.message="Failed to save resource due to:"});var e,r},v.prepareDeliveryNote=!0,v.generateDeliveryNote=!1,r=[p(),n.inventaccount.getProductionStaffs(u).then(function(e){return v.users=e,v.users}),y(),n.resourcejob.getAllJobTrackers(d).then(function(e){return v.allJobTrackers=e,v.allJobTrackers}),n.resourcejob.getDispatchJobTracker(s).then(function(e){return v.jobTrackers=e,v.jobTrackers}),n.inventjob.getJobs(l).then(function(e){return v.jobs=e,v.jobs})],e.activateController(r,b).then(function(){f("Activated Jobs View")}),o.selection={ids:{},objects:[{}]},o.$watch(function(){return o.selection.ids},function(e){o.selection.objects=[],angular.forEach(o.selection.ids,function(e,r){e&&o.selection.objects.push(function(e){for(var r=0;r<v.dispatchDelivery.length;r++)if(v.dispatchDelivery[r].id==e)return v.dispatchDelivery[r]}(r))})},!0)}angular.module("app").controller("ClientJobDP",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="ConfirmReceiptDPIN";function o(t,a,c,o,e,n,r){var i,s,d,b=this,h=(0,o.logger.getLogFn)(l);b.jobBatchTrackers=void 0,b.gotoJobDetails=function(o){o&&o.id&&t.path("/in/dispatch/receive-job/"+o.job.id)},b.jobs=[],b.incomingJobs=[],b.save=function(){console.log(b.jobBatchTrackers);a.id,a.batchId;b.newEntity={jobBatchTrackerId:b.jobBatchTrackers.id,cardIssuanceLogId:b.jobBatchTrackers.cardIssuanceLogId,jobId:b.jobBatchTrackers.jobId},console.log(b.newEntity),function(o){a.batchId;var e=n.resourceUri.inventory+"/DispatchJobReceipt/create";r.saveResource(e,o).then(function(o){t.path("/in/dispatch/incoming-jobs")},function(o){console.log(o);var e=[];for(var t in o.data.modelState)for(var a=0;a<o.data.modelState[t].length;a++)e.push(o.data.modelState[t][a]);c.message="Failed to save resource due to:"+e.join(" ")})}(b.newEntity)},i=[(d=a.id,e.dispatchjob.getJobBatchTrackerById(d).then(function(o){b.jobBatchTrackers=o,console.log(b.jobBatchTrackers)},function(o){logError("Unable to get JobBatchTracker "+d)})),e.inventjob.getJobs(s).then(function(o){return b.jobs=o,b.jobs})],o.activateController(i,l).then(function(){h("Activated Jobs View")})}angular.module("app").controller("ConfirmReceiptDPIN",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var v="DeliveryNoteIN";function e(t,l,e,s,n,r){var o,i,a=this,c=(0,e.logger.getLogFn)(v);function d(e){return s.dispatchjob.getDeliveryNotes(e).then(function(e){return a.incomingJobs=e,a.incomingJobs})}a.jobs=[],a.incomingJobs=[],a.deliveryprofiles=[],a.generateNote=function(){var i=[];void 0===a.delivery.template&&(a.delivery.template=!1);angular.forEach(l.selection.objects,function(e,o){var t={sidDispatchId:e.id,jobBatchTrackerId:e.jobBatchTrackerId,jobId:e.jobId,deliveryProfileId:a.delivery.profile.id,hasTemplate:a.delivery.template,description:a.delivery.description};i.push(t)}),console.log(i),e=i,o=n.resourceUri.inventory+"/GenerateDeliveryNote/create",r.saveResource(o,e).then(function(e){d(),t.path("/in/dispatch/incoming-jobs")},function(e){console.log(e),l.message="Failed to save resource due to:"});var e,o},a.jobNote={},a.delivery=void 0,a.prepareDeliveryNote=!0,a.generateDeliveryNote=!1,a.prepareNote=function(){var e,i,n=[];console.log(l.selection.objects.length),angular.forEach(l.selection.objects,function(e,o){var t=e.job.sidClientId;n.push(t),i=e.job}),0!==n.length&&(t=(o=n)[0],e=o.every(function(e){return e===t}));var o,t;1==e?(a.prepareDeliveryNote=!1,a.generateDeliveryNote=!0,a.delivery={client:i.sidClient.name},r=i.sidClientId,s.dispatchjob.getDeliveryProfiles(r,c).then(function(e){return a.deliveryprofiles=e,a.deliveryprofiles})):(a.prepareDeliveryNote=!0,a.generateDeliveryNote=!1);var r,c},o=[d(),s.inventjob.getJobs(i).then(function(e){return a.jobs=e,a.jobs})],e.activateController(o,v).then(function(){c("Activated Jobs View")}),l.selection={ids:{},objects:[{}]},l.$watch(function(){return l.selection.ids},function(e){l.selection.objects=[],angular.forEach(l.selection.ids,function(e,o){e&&l.selection.objects.push(function(e){for(var o=0;o<a.incomingJobs.length;o++)if(a.incomingJobs[o].id==e)return a.incomingJobs[o]}(o))})},!0)}angular.module("app").controller("DeliveryNoteIN",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var s="IncomingDeleveryIN";function n(o,n,t){var i,e,c,g=this,r=(0,n.logger.getLogFn)(s);g.gotoJobDetails=function(n){n&&n.id&&o.path("/in/card-setup/"+n.job.id)},g.jobs=[],g.incomingJobs=[],i=[t.inventjob.getIncomingJobs(c).then(function(n){return g.incomingJobs=n,console.log(g.incomingJobs),g.incomingJobs}),t.inventjob.getJobs(e).then(function(n){return g.jobs=n,g.jobs})],n.activateController(i,s).then(function(){r("Activated Jobs View")})}angular.module("app").controller("IncomingDeleveryIN",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var a="DeliveryReportIN";function e(t,e,o,r){var n,i,c,s=this,l=(0,o.logger.getLogFn)(a);s.gotoJobDetails=function(e){e&&e.id&&t.path("in/dispatch/delivery-report/"+e.id)},s.deliveryreports=[],s.incomingJobs=[],n=[r.dispatchjob.getDeliveryReports(c).then(function(e){return s.deliveryreports=e,console.log(s.deliveryreports),s.deliveryreports}),r.inventaccount.getProductionStaffs(i).then(function(e){return s.users=e,console.log(s.users),s.users})],o.activateController(n,a).then(function(){l("Activated Jobs View")})}angular.module("app").controller("DeliveryReportIN",e),e.$inject=["$location","$window","common","datacontext"]}();
!function(){"use strict";var v="DeliveryReportDetailIN";function e(o,e,t,n,l){var r,i,c,s,d,a=this,u=(0,n.logger.getLogFn)(v);a.deliveryNote=void 0,a.deliveryProfile=void 0,a.deliveryNoteLogs=[],a.gotoJobDetails=function(e){e&&e.id&&o.path("/in/card-setup/"+e.job.id)},r=[(d=e.id,console.log(d),l.dispatchjob.getDeliveryNoteById(d).then(function(e){var o,t,n,r,i;a.deliveryNote=e,o=a.deliveryNote.sidClientId,l.dispatchjob.getDispatchDelivery(o,t).then(function(e){return a.dispatchDelivery=e,console.log(a.dispatchDelivery),a.dispatchDelivery}),n=a.deliveryNote.deliveryProfileId,l.dispatchjob.getDeliveryProfileById(n).then(function(e){a.deliveryProfile=e,console.log(a.deliveryProfile)},function(e){logError("Unable to get deliveryProfile "+n)}),r=a.deliveryNote.id,l.dispatchjob.getDeliveryNoteLogByNoteId(r,i).then(function(e){return a.deliveryNoteLogs=e,console.log(a.deliveryNoteLogs),a.deliveryNoteLogs})},function(e){logError("Unable to get deliveryNote "+d)})),l.resourcejob.getJobTrackers(s).then(function(e){return a.jobTrackers=e,console.log(a.jobTrackers),a.jobTrackers}),l.resourcejob.getJobs(c).then(function(e){return a.jobs=e,console.log(a.jobs),a.jobs}),l.inventaccount.getProductionStaffs(i).then(function(e){return a.staffs=e,console.log(a.staffs),a.staffs})],n.activateController(r,v).then(function(){u("Activated Jobs View")}),t.printToCart=function(e){var o=document.getElementById(e).innerHTML,t=window.open("","_blank","width=800,height=700,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no");t.document.open(),t.document.write('<html><head><link rel="stylesheet" type="text/css" href="style.css" /></head><body onload="window.print()">'+o+"</html>"),t.document.close()}}angular.module("app").controller("DeliveryReportDetailIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var m="IncomingDeliveryIN";function o(n,o,i,t,e,c){var r,a,l,s=this,g=(0,i.logger.getLogFn)(m);s.gotoJobDetails=function(o){o&&o.id&&n.path("/in/dispatch/client-jobs/"+o.id)},s.jobs=[],s.incomingJobs=[],r=[(l=o.clientId,t.dispatchjob.getClientIncomingJobs(l,a).then(function(o){return s.incomingJobs=o,console.log(s.incomingJobs),s.incomingJobs}))],i.activateController(r,m).then(function(){g("Activated Jobs View")})}angular.module("app").controller("IncomingDeliveryIN",o),o.$inject=["$location","$routeParams","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJobIN";function e(e,r,o,n,c,i){var t,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Inventory",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(t,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobIN",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="InventCardReceiptIN";function e(e,t,n,r){var c,a,i=this,o=(0,n.logger.getLogFn)(d);i.addCardReceipt=function(){e.path("in/inventory/card-receipt/new")},i.cardreceipts=[],c=[r.inventory.getEmbedCardReceipts(a).then(function(e){return i.cardreceipts=e,console.log(i.cardreceipts),i.cardreceipts})],n.activateController(c,d).then(function(){o("Activated Jobs View")})}angular.module("app").controller("InventCardReceiptIN",e),e.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var o="InventCardReceiptDetailIN";function e(e,n,t,r){var i,c=this,a=(0,t.logger.getLogFn)(o);c.cardreceipts=[],i=[function(){var t=n.id;if(void 0!==t&&"new"!==t&&!Number.isInteger(t))return r.inventory.getCardReceiptById(t).then(function(e){c.cardreceipt=e},function(e){logError("Unable to get cardreceipt "+t)})}()],t.activateController(i,o).then(function(){a("Activated cardreceipt View")})}angular.module("app").controller("InventCardReceiptDetailIN",e),e.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var g="InventCardReceiptLogIN";function e(t,n,e,o,r){var i,c=this,a=(0,o.logger.getLogFn)(g);c.addCardReceipt=function(){var e=n.id;t.path("/in/inventory/card-request/"+e+"/receiptlog/new")},c.goBack=function(){e.history.back()},c.receiptlog=[],i=[function(){var t=n.id;if(void 0!==t&&"new"!==t&&!Number.isInteger(t))return r.inventory.getReceiptLogByRequestId(t).then(function(e){c.receiptlog=e,console.log(c.receiptlog)},function(e){logError("Unable to get cardreceiptlog "+t)})}(),function(){var t=n.id;if(void 0!==t&&"new"!==t)return r.inventory.getSCMCardRequestById(t).then(function(e){c.cardrequest=e},function(e){logError("Unable to get cardrequest "+t)})}()],o.activateController(i,g).then(function(){a("Activated InventCardReceiptLog View")})}angular.module("app").controller("InventCardReceiptLogIN",e),e.$inject=["$location","$routeParams","$window","common","datacontext"]}();
!function(){"use strict";var s="InventCardReceiptLogDetailIN";function e(n,a,c,e,r,i,d,l){var u=this,o=(0,r.logger.getLogFn)(s);u.addCardReceipt=function(){var e=a.id;n.path("/in/inventory/card-request/"+e+"/receiptlog/new")},u.goBack=function(){e.history.back()},u.cardreceipts=[],u.cardreceipt=void 0,u.vendors=[],u.save=function(){var e=a.id;u.newEntity={vendorId:u.cardreceipt.vendor.id,supplierName:u.cardreceipt.deliverBy,sIDReceiverId:u.cardreceipt.deliverBy,embedCardRequestId:e,lotNumber:u.cardreceipt.lotNumber,quantity:u.cardreceipt.quantity,timeOfReceipt:u.cardreceipt.timeOfReceipt,remark:u.cardreceipt.remark},console.log(u.newEntity),t=u.newEntity,r=a.id,o=d.resourceUri.inventory+"/cardreceipt/create",l.saveResource(o,t).then(function(e){var t;console.log(e),u.cardreceipt={},void 0!==(t=a.id)&&"new"!==t&&i.inventory.getSCMCardRequestById(t).then(function(e){u.cardrequest=e,console.log(u.cardrequest)},function(e){logError("Unable to get cardrequest "+t)}),n.path("/in/inventory/card-request/"+r+"/receiptlogs")},function(e){var t=[];for(var r in e.data.modelState)for(var o=0;o<e.data.modelState[r].length;o++)t.push(e.data.modelState[r][o]);c.message="Failed to save resource due to:"+t.join(" ")});var t,r,o},function(){e=i.lookup.lookupCachedData,console.log(e),u.vendors=e.vendors,console.log(u.vendors);var e;var t=[function(){var t=a.id;if(void 0!==t&&"new"!==t)return i.inventory.getSCMCardRequestById(t).then(function(e){u.cardreceipt=e,console.log(u.cardreceipt)},function(e){logError("Unable to get cardrequest "+t)})}()];r.activateController(t,s).then(function(){o("Activated InventCardReceiptLog View")})}()}angular.module("app").controller("InventCardReceiptLogDetailIN",e),e.$inject=["$location","$routeParams","$scope","$window","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="InventoryCardRequestIN";function e(t,n,e,r,o,s,i,a){var c=this,d=(0,o.logger.getLogFn)(u);c.addCardRequest=function(){t.path("in/inventory/card-request/new")},c.cardrequests=[],c.cardrequest=void 0,c.goBack=function(){r.history.back()},c.gotoCardReceiptLogs=function(e){e&&e.id&&t.path("/in/inventory/card-request/"+e.id+"/receiptlogs")},c.gotoCardRequests=function(e){e&&e.id&&t.path("/in/inventory/card-request/"+e.id)},c.sectors=[],c.clients=[],c.sidCardTypes=[],c.sidVariants=[],c.sidChipTypes=[],function(){e=s.lookup.lookupCachedData,console.log(e),c.sectors=e.sectors,c.clients=e.clients,c.sidVariants=e.sidVariants,c.sidCardTypes=e.sidCardTypes,c.sidChipTypes=e.sidChipTypes,console.log(c.sidChipTypes);var e;var t=[s.inventory.getEmbedCardRequests(r).then(function(e){return c.cardrequests=e,c.cardrequests}),function(){var t=n.id;if(t)return s.inventory.getSCMCardRequestById(t).then(function(e){c.cardrequest=e,console.log(c.cardrequest)},function(e){logError("Unable to get cardrequest "+t)})}()];var r;o.activateController(t,u).then(function(){d("Activated Clients View")})}()}angular.module("app").controller("InventoryCardRequestIN",e),e.$inject=["$location","$routeParams","$scope","$window","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="InventoryCardRequestDetailIN";function e(i,s,o,e,r,a,d,c){var u=this,n=(0,r.logger.getLogFn)(p);function l(e){return a.inventory.getEmbedCardRequests(e).then(function(e){return u.cardrequests=e,u.cardrequests})}u.addCardRequest=function(){i.path("in/inventory/card-request/new")},u.cardrequests=[],u.cardrequest=void 0,u.goBack=function(){e.history.back()},u.gotoCardRequests=function(e){e&&e.id&&i.path("/in/inventory/card-request/"+e.id)},u.save=function(){var e=s.id;"new"===e?(u.newEntity={sidVariantId:u.cardrequest.variant.id,sidChipTypeId:u.cardrequest.chiptype.id,totalBatchQty:u.cardrequest.quantity},a=u.newEntity,n=d.resourceUri.inventory+"/cardrequest/create",c.saveResource(n,a).then(function(e){u.cardrequest={},l(),i.path("/in/inventory/card-requests")},function(e){var t=[];for(var r in e.data.modelState)for(var a=0;a<e.data.modelState[r].length;a++)t.push(e.data.modelState[r][a]);o.message="Failed to save resource due to:"+t.join(" ")})):Number.isInteger(e)||(u.updateEntity={id:u.cardrequest.id,sidVariantId:u.cardrequest.variant.id,sidChipTypeId:u.cardrequest.chiptype.id,totalBatchQty:u.cardrequest.quantity},console.log(u.updateEntity),t=u.updateEntity,r=d.resourceUri.inventory+"/cardrequest/update",c.updateResource(r,t,t.id).then(function(e){u.cardrequest={},l(),i.path("in/inventory/card-requests")},function(e){var t=[];for(var r in e.data.modelState)for(var a=0;a<e.data.modelState[r].length;a++)t.push(e.data.modelState[r][a]);o.message="Failed to save resource due to:"+t.join(" ")}));var t,r;var a,n},u.sectors=[],u.clients=[],u.sidCardTypes=[],u.sidVariants=[],u.sidChipTypes=[],function(){e=a.lookup.lookupCachedData,console.log(e),u.sectors=e.sectors,u.clients=e.clients,u.sidVariants=e.sidVariants,u.sidCardTypes=e.sidCardTypes,u.sidChipTypes=e.sidChipTypes,console.log(u.sidChipTypes);var e;var t=[l(),function(){var t=s.id;if(void 0!==t&&"new"!==t)return a.inventory.getSCMCardRequestById(t).then(function(e){u.cardrequest=e,console.log(u.cardrequest)},function(e){logError("Unable to get cardrequest "+t)})}()];r.activateController(t,p).then(function(){n("Activated Clients View")})}()}angular.module("app").controller("InventoryCardRequestDetailIN",e),e.$inject=["$location","$routeParams","$scope","$window","common","datacontext","model","resourceService"]}();
!function(){"use strict";var a="InventStationaryReceiptIN";function t(t,n,e){var o=(0,n.logger.getLogFn)(a);n.activateController([],a).then(function(){o("Activated Jobs View")})}angular.module("app").controller("InventStationaryReceiptIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="InventStationaryRequestIN";function o(t,o,n){var e,a,i=this,c=(0,o.logger.getLogFn)(r);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,r).then(function(){c("Activated Jobs View")})}angular.module("app").controller("InventStationaryRequestIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="CardIssuanceLogInventIN";function n(t,e,n,o,s){var a,i,c,r,u=this,d=(0,o.logger.getLogFn)(l);u.cardissuances=[],u.gotoCardLogDetails=function(n){n&&n.id&&t.path("/in/card-issuance-log/"+n.id)},u.jobTracker=void 0,u.stateCheck=void 0,u.goBack=function(){$window.history.back()},u.save=function(){var n=e.id;u.newEntity={jobId:n,totalQuantity:u.cardrequest.chiptype.id,totalQuantityIssued:u.cardrequest.quantity,sidLientId:u.cardrequest.quantity}},a=[s.inventaccount.getInventoryUsers(r).then(function(n){return u.invusers=n,console.log(u.invusers),u.invusers}),s.inventjob.getCardIssuances(c).then(function(n){return u.cardissuances=n,console.log(u.cardissuances),u.cardissuances}),s.inventjob.getJobs(i).then(function(n){return u.jobs=n,u.jobs})],o.activateController(a,l).then(function(){d("Activated JobDetails View")})}angular.module("app").controller("CardIssuanceLogInventIN",n),n.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var I="CardIssuanceLogDetailInventIN";function n(n,t,e,s,a,o){var c,i,r,u,d,l,g=this,v=(0,a.logger.getLogFn)(I);g.gotoPartialIssuance=function(){n.path("/in/partial-card-issuance/new")},g.cardissuances=[],g.jobTracker=void 0,g.stateCheck=void 0,g.goBack=function(){s.history.back()},g.save=function(){var n=t.id;g.newEntity={jobId:n,totalQuantity:g.cardrequest.chiptype.id,totalQuantityIssued:g.cardrequest.quantity,sidLientId:g.cardrequest.quantity}},c=[(l=t.id,o.inventjob.getCardIssuanceLogs(l,d).then(function(n){return g.cardissuancelogs=n,console.log(g.cardissuancelogs),g.cardissuancelogs})),o.inventaccount.getInventoryUsers(u).then(function(n){return g.invusers=n,console.log(g.invusers),g.invusers}),o.inventjob.getCardIssuances(r).then(function(n){return g.cardissuances=n,console.log(g.cardissuances),g.cardissuances}),o.inventjob.getJobs(i).then(function(n){return g.jobs=n,g.jobs})],a.activateController(c,I).then(function(){v("Activated JobDetails View")})}angular.module("app").controller("CardIssuanceLogDetailInventIN",n),n.$inject=["$location","$routeParams","$scope","$window","common","datacontext"]}();
!function(){"use strict";var g="CardIssuancePartialDetailInventIN";function t(t,o,n,e,r){var a,i,c,s=this,l=(0,e.logger.getLogFn)(g);function u(t){"Perso Only"===t?d():"Printing Only"===t?console.log("ok2"):"Mailing Only"===t?console.log("ok3"):"Printing And Perso"===t&&(console.log("ok4"),d())}function d(t){return r.inventaccount.getCardEngrStaffs(t).then(function(t){return s.collectors=t,s.collectors})}s.collectors=[],s.jobs=[],s.jobTracker=void 0,s.stateCheck=void 0,s.goBack=function(){$window.history.back()},s.save=function(){var t=o.id;s.newEntity={jobId:t,totalQuantity:s.cardrequest.chiptype.id,totalQuantityIssued:s.cardrequest.quantity,sidLientId:s.cardrequest.quantity}},a=[r.resourcejob.getJobs(c).then(function(t){return s.jobs=t,s.jobs}),(i=o.id,r.resourcejob.getJobById(i).then(function(t){s.job=t,u(s.job.serviceType.name)},function(t){logError("Unable to get JobTracker "+i)})),u()],e.activateController(a,g).then(function(){l("Activated JobDetails View")})}angular.module("app").controller("CardIssuancePartialDetailInventIN",t),t.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var g="CardIssuanceDetailInventIN";function e(n,r,a,e,c,i,s){var t,o,u,l=this,d=(0,e.logger.getLogFn)(g);function b(e){var t=r.trackerId;return c.inventory.getClientVaultReportByTrackerId(t,e).then(function(e){return l.clientVault=e,0==l.clientVault.length&&(l.createVault=!0),l.clientVault})}l.issuance={},l.collectors=[],l.job=void 0,l.jobs=[],l.jobTracker=void 0,l.stateCheck=void 0,l.goBack=function(){$window.history.back()},l.save=function(){var e=r.trackerId;l.newEntity={jobTrackerId:e,jobId:l.jobTracker.jobId,totalQuantity:l.jobTracker.job.quantity,totalQuantityIssued:l.issuance.quantity,collectorId:l.issuance.receiver.id},t=l.newEntity,o=i.resourceUri.inventory+"/new/cardissuance/create",s.saveResource(o,t).then(function(e){l.cardreceipt={},n.path("/in/incoming-jobs")},function(e){console.log(e),a.message="Failed to save due to: "+e.data.message});var t,o},l.selectedClientVariant=[],l.createProductVault=function(){l.newVault={sidProductId:l.jobVariants.sidProductId,openingStock:0,closingStock:0};var e=i.resourceUri.inventory+"/ClientVault/create";s.saveResource(e,l.newVault).then(function(e){b(),l.createVault=!1},function(e){console.lo(e),a.message="Failed to save due to: "+e.data.message})},a.message="",l.issuanceLogs=[],l.clientVault=[],l.createVault=!1,l.productName=!1,t=[(u=r.trackerId,c.resourcejob.getJobTrackerById(u).then(function(e){var t,o,n;l.jobTracker=e,console.log(l.jobTracker),t=l.jobTracker.jobId,c.resourcejob.getJobVariantByJobId(t,o).then(function(e){return 0!==e.length&&(l.jobVariants=e[0],l.productName=!0),l.jobVariants}),c.resourcejob.getJobs(n).then(function(e){var t;return l.jobs=e,l.jobTracker.job.serviceType.name,c.inventaccount.getCardEngrStaffs(t).then(function(e){return l.collectors=e,l.collectors}),l.issuance.quantity=l.jobTracker.job.quantity,l.jobs})},function(e){logError("Unable to get JobTracker "+u)})),b(),(o=r.trackerId,c.inventjob.getCardIssuanceLogByTrackerId(o).then(function(e){l.issuanceLogs=e},function(e){logError("Unable to get CardIssuanceLog "+o)}))],e.activateController(t,g).then(function(){d("Activated JobDetails View")})}angular.module("app").controller("CardIssuanceDetailInventIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var I="CardPartialIssuanceDetailInventIN";function e(t,o,a,e,c,r,s){var n,i,u=this,l=(0,e.logger.getLogFn)(I);function d(e){return c.inventaccount.getCardEngrStaffs(e).then(function(e){return u.collectors=e,u.collectors})}function g(e){return c.inventaccount.getProductionStaffs(e).then(function(e){return u.collectors=e,u.collectors})}u.collectors=[],u.job=void 0,u.jobs=[],u.jobTracker=void 0,u.stateCheck=void 0,u.goBack=function(){$window.history.back()},u.save=function(){var e=o.cardIssuanceId;u.newEntity={id:e,jobId:u.cardIssuance.jobId,totalQuantity:u.cardIssuance.totalQuantity,totalQuantityIssued:u.issuance.quantity,collectorId:u.issuance.receiver.id},function(e){o.trackerId;var n=r.resourceUri.inventory+"/partial/cardissuance/create";s.saveResource(n,e).then(function(e){u.cardreceipt={},t.path("/in/partial-jobs")},function(e){console.log(e),a.message="Failed to save due to: "+e.data.message})}(u.newEntity)},a.message="",u.issuanceLogs=[],u.clientVault=[],n=[(i=o.cardIssuanceId,c.inventjob.getCardIssuanceById(i).then(function(e){var n,t,o;u.cardIssuance=e,console.log(u.cardIssuance),n=u.cardIssuance.jobId,c.resourcejob.getJobVariantByJobId(n,t).then(function(e){return console.log(e),0!==e.length&&(u.jobVariants=e[0],console.log(u.jobVariants),u.productName=!0),u.jobVariants}),c.resourcejob.getJobs(o).then(function(e){var n;return u.jobs=e,"Perso Only"===(n=u.cardIssuance.job.serviceType.name)?d():"Printing Only"===n?g():"Mailing Only"===n?g():"Printing And Perso"===n?d():g(),u.jobs})},function(e){logError("Unable to get JobTracker "+i)}))],e.activateController(n,I).then(function(){l("Activated JobDetails View")})}angular.module("app").controller("CardPartialIssuanceDetailInventIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var b="CardProductSetupDetailIN";function o(e,a,o,c,n,d,i){var s=this,u=(0,c.logger.getLogFn)(b);s.cardsetup=void 0,s.issuanceLogs=[],s.collectors=[],s.job=void 0,s.jobs=[],s.jobTracker=void 0,s.stateCheck=void 0,s.goBack=function(){$window.history.back()},s.save=function(){a.trackerId;s.newEntity={id:s.jobVariant.id,jobId:s.jobTracker.jobId,sidProductId:s.cardsetup.sidProduct.id,sidVariantId:s.cardsetup.sidVariant.id},console.log(s.newEntity),o=s.newEntity,r=a.trackerId,t=d.resourceUri.inventory+"/jobvariant/update",i.updateResource(t,o).then(function(o){s.cardsetup={},console.log(o),e.path("/in/card-issuance/"+r)},function(o){console.log(o)});var o,r,t},s.selectedClientVariant=[],s.newProducts=[],s.sidProducts=[],function(){o=n.lookup.lookupCachedData,s.jobStatus=o.jobStatus,s.products=o.sidProducts,s.sidVariants=o.sidVariants;var o;var r=[(t=a.trackerId,n.resourcejob.getJobTrackerById(t).then(function(o){var r,t,e;s.jobTracker=o,t=s.jobTracker.jobId,n.resourcejob.getJobVariantByJobId(t,r).then(function(o){return s.jobVariant=o[0],s.cardsetup=o[0],console.log(s.cardsetup),s.jobVariant}),n.resourcejob.getJobs(e).then(function(o){var t,e;return s.jobs=o,console.log(s.jobs),console.log(s.jobTracker.job),s.cardsetup={cardType:s.jobTracker.job.sidCardType.name},t=s.jobTracker.job.sidClientId,e=s.jobTracker.job.sidCardType.id,angular.forEach(s.products,function(o,r){o.sidCardTypeId==e&&o.sidClientId==t&&(s.newProducts.push(o),s.sidProducts.push(o))}),s.jobs})},function(o){logError("Unable to get JobTracker "+t)}))];var t;c.activateController(r,b).then(function(){u("Activated JobDetails View")})}()}angular.module("app").controller("CardProductSetupDetailIN",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var b="CardSetupDetailIN";function o(a,n,o,t,c,i,s){var d=this,u=(0,t.logger.getLogFn)(b);d.cardsetup=void 0,d.issuanceLogs=[],d.collectors=[],d.job=void 0,d.jobs=[],d.jobTracker=void 0,d.stateCheck=void 0,d.goBack=function(){$window.history.back()},d.save=function(){n.trackerId;d.newEntity={jobId:d.jobTracker.jobId,sidProductId:d.cardsetup.product.id,sidVariantId:d.cardsetup.variant.id},o=d.newEntity,r=n.trackerId,e=i.resourceUri.inventory+"/jobvariant/create",s.saveResource(e,o).then(function(o){d.cardsetup={},console.log(o),a.path("/in/card-issuance/"+r)},function(o){console.log(o)});var o,r,e},d.selectedClientVariant=[],d.newProducts=[],function(){o=c.lookup.lookupCachedData,d.jobStatus=o.jobStatus,d.products=o.sidProducts,d.sidVariants=o.sidVariants;var o;var r=[(e=n.trackerId,c.resourcejob.getJobTrackerById(e).then(function(o){var r,e,t;d.jobTracker=o,e=d.jobTracker.jobId,c.resourcejob.getJobVariantByJobId(e,r).then(function(o){return d.jobVariant=o,0!==d.jobVariant.length&&a.path("/in/card-issuance/"+n.trackerId),d.jobVariant}),c.resourcejob.getJobs(t).then(function(o){var e,t;return d.jobs=o,console.log(d.jobs),console.log(d.jobTracker.job),d.cardsetup={cardType:d.jobTracker.job.sidCardType.name},e=d.jobTracker.job.sidClientId,t=d.jobTracker.job.sidCardType.id,angular.forEach(d.products,function(o,r){o.sidCardTypeId==t&&o.sidClientId==e&&d.newProducts.push(o)}),d.jobs})},function(o){logError("Unable to get JobTracker "+e)}))];var e;t.activateController(r,b).then(function(){u("Activated JobDetails View")})}()}angular.module("app").controller("CardSetupDetailIN",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var g="CardWasteIssuanceDetailInventIN";function t(a,t,o,e,n,s,c){var r,i,d=this,l=(0,e.logger.getLogFn)(g);function u(t){return n.inventaccount.getProductionStaffs(t).then(function(t){return d.collectors=t,d.collectors})}function u(t){return n.inventaccount.getProductionStaffs(t).then(function(t){return d.collectors=t,d.collectors})}d.issuance={},d.issuanceLogs=[],d.collectors=[],d.job=void 0,d.jobs=[],d.jobTracker=void 0,d.stateCheck=void 0,d.goBack=function(){$window.history.back()},d.save=function(){console.log(d.cardWaste),d.newEntity={id:d.cardWaste.id,jobTrackerId:d.cardWaste.jobTrackerId,JobSplitCEAnalysisId:d.cardWaste.jobSplitCEAnalysisId,QuantityBad:d.cardWaste.quantityBad,WasteErrorSourceId:d.cardWaste.wasteErrorSourceId,WasteByUnitId:d.cardWaste.wasteByUnitId},console.log(d.newEntity),t=d.newEntity,e=s.resourceUri.inventory+"/waste/cardissuance/create",c.saveResource(e,t).then(function(t){d.cardreceipt={},a.path("/in/waste-jobs")},function(t){console.log(t),o.message="Failed to save due to: "+t.data.message});var t,e},o.message="",r=[(i=t.wasteAnalysisId,console.log(i),n.resourcejob.getCardWasteAnalysisById(i).then(function(t){d.cardWaste=t,console.log(d.cardWaste),console.log(d.cardWaste.quantityBad),d.issuance.quantity=d.cardWaste.quantityBad},function(t){logError("Unable to get CardWaste "+i)})),u()],e.activateController(r,g).then(function(){l("Activated JobDetails View")})}angular.module("app").controller("CardWasteIssuanceDetailInventIN",t),t.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="HeldCardDetailIN";function e(e,n,t,o,a,i){var r,c,l=this,s=(0,t.logger.getLogFn)(u);function d(e){var t=n.id;return o.inventjob.getCESplitAnalysisHeldCard(t,e).then(function(e){return l.cardanalysis=e,console.log(l.cardanalysis),l.cardanalysis})}l.cardanalysis=[],l.confirmHeld=function(e){l.newEntity={id:e.id,quantityHeld:e.quantityHeld,jobSplitId:e.jobSplitId},t=l.newEntity,n=a.resourceUri.inventory+"/heldcard-receipt/create",i.saveResource(n,t).then(function(e){l.cardsetup={},console.log(e),d()},function(e){$scope.message="Failed to save resource due to:"+e});var t,n},r=[d(),o.inventjob.getJobs(c).then(function(e){return l.jobs=e,l.jobs})],t.activateController(r,u).then(function(){s("Activated Jobs View")})}angular.module("app").controller("HeldCardDetailIN",e),e.$inject=["$location","$routeParams","common","datacontext","model","resourceService"]}();
!function(){"use strict";var b="IncomingJobIN";function n(o,n,t){var i,c,e,g=this,s=(0,n.logger.getLogFn)(b);g.gotoJobDetails=function(n){n&&n.id&&o.path("/in/card-setup/"+n.id)},g.jobs=[],g.incomingJobs=[],i=[t.inventjob.getIncomingJobs(e).then(function(n){return g.incomingJobs=n,console.log(g.incomingJobs),g.incomingJobs}),t.inventjob.getJobs(c).then(function(n){return g.jobs=n,g.jobs})],n.activateController(i,b).then(function(){s("Activated Jobs View")})}angular.module("app").controller("IncomingJobIN",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="IncomingHeldCardIN";function e(e,t,c,a,r,s){var i=this,u=(0,c.logger.getLogFn)(l);function d(e){return a.inventjob.getIncomingHeldCards(e).then(function(e){return i.heldcards=e,console.log(i.heldcards),i.heldcards})}i.confirmHeld=function(e){o={id:e.id},n=r.resourceUri.inventory+"/heldcard-receipt/create",s.saveResource(n,o).then(function(e){console.log(e),d()},function(e){console.log(e),t.message="Failed to save resource due to:"+e});var o,n},i.heldcards=[],function(){e=a.lookup.lookupCachedData,i.departments=e.departments;var e;var o=[d(),a.inventjob.getJobs(r).then(function(e){return i.jobs=e,i.jobs}),a.resourcejob.getJobTrackers(t).then(function(e){return i.jobs=e,i.jobs}),a.inventaccount.getProductionStaffs(n).then(function(e){return i.users=e,console.log(i.users),i.users})];var n;var t;var r;c.activateController(o,l).then(function(){u("Activated Jobs View")})}()}angular.module("app").controller("IncomingHeldCardIN",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var g="IncomingHeldPrintIN";function e(e,t,n,o,r,c){var i,s,l,u=this,a=(0,n.logger.getLogFn)(g);function d(e){return o.inventjob.getIncomingHeldPrints(e).then(function(e){return u.heldcards=e,console.log(u.heldcards),u.heldcards})}u.confirmHeld=function(e){n={id:e.id},o=r.resourceUri.inventory+"/heldprint-receipt/create",c.saveResource(o,n).then(function(e){console.log(e),d()},function(e){console.log(e),t.message="Failed to save resource due to:"+e});var n,o},u.heldcards=[],i=[d(),o.inventjob.getJobs(l).then(function(e){return u.jobs=e,u.jobs}),o.inventaccount.getProductionStaffs(s).then(function(e){return u.users=e,console.log(u.users),u.users})],n.activateController(i,g).then(function(){a("Activated Jobs View")})}angular.module("app").controller("IncomingHeldPrintIN",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var s="JobListIN";function t(e,t,n,r,o){var c=this,u=(0,n.logger.getLogFn)(s),i=r.keyCodes;c.gotoclientProductDetails=function(t){t&&t.id&&e.path("/in/mis/card/client/:clientId/product/:productId/reports")},c.filteredProducts=[],c.products=[],c.productsSearch="",c.productsFilter=g,c.search=function(t){t.keyCode===i.esc?(c.productsSearch="",d(!0)):d()},c.productCount=0,c.productFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:5,pageSize:10},c.pageChanged=function(t){if(!t)return;c.paging.currentPage=t,p()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.productFilteredCount/c.paging.pageSize)+1}});var a,d=function(){};function p(e){return o.inventory.getClientProducts(1,e,c.paging.currentPage,c.paging.pageSize,c.productsSearch).then(function(t){return c.products=c.filteredProducts=t,c.productFilteredCount=o.inventory.getProductFilteredCount(c.productsSearch),c.productCount&&!e||o.inventory.getProductCount().then(function(t){return c.productCount=t}),t})}function d(){c.filteredProducts=c.products.filter(g)}function g(t){var e=n.textContains,r=c.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],n.activateController(a,s).then(function(){d=n.createSearchThrottle(c,"products"),c.productsSearch&&d(!0),u("Activated Jobs View")})}angular.module("app").controller("JobListIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var u="NonPersoJobIN";function o(o,n,e){var t,r,s,c=this,i=(0,n.logger.getLogFn)(u);c.getNonPersojobs=[],c.addNewJob=function(){o.path("/rm/clients")},t=[e.rm.getNonPersojobs(s).then(function(o){return c.nonpersojobs=o,console.log(c.nonpersojobs),c.nonpersojobs}),e.rm.getRMUsers(r).then(function(o){return c.users=o,console.log(c.users),c.users})],n.activateController(t,u).then(function(){i("Activated Jobs View")})}angular.module("app").controller("NonPersoJobIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="NonPersoDetailRM";function e(t,n,r,a,i,c,s){var u=this,d=(0,a.logger.getLogFn)(l);u.save=function(){u.newEntity={sidProductId:n.productId,quantity:u.entity.quantity,jobName:u.entity.jobName,description:u.entity.description,serviceTypeId:u.entity.serviceType.id},console.log(u.newEntity),e=u.newEntity,o=c.resourceUri.rm+"/nonpersojob/create",s.saveResource(o,e).then(function(e){t.path("/rm/nonperso-jobs")},function(e){console.log(e);var o=[];for(var t in e.data.modelState)for(var n=0;n<e.data.modelState[t].length;n++)o.push(e.data.modelState[t][n]);r.message="Failed to save resource due to:"+o.join(" ")});var e,o},u.product=void 0,r.message="",function(){e=i.lookup.lookupCachedData,u.serviceTypes=e.serviceTypes,u.remarks=e.remarks;var e;var o=[function(){var o=n.id;if(o)return i.rm.getNonPersojobs(o).then(function(e){return u.nonpersojob=e,u.nonpersojob},function(e){logError("Unable to get nonpersojob "+o)})}(),(t=n.productId,i.inventory.getProductById(t).then(function(e){u.product=e},function(e){logError("Unable to get Product "+t)}))];var t;a.activateController(o,l).then(function(){d("Activated JobDetails View")})}()}angular.module("app").controller("NonPersoDetailRM",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="PartialJobIN";function t(n,t,o){var i,a,e,r,s=this,c=(0,t.logger.getLogFn)(l);s.gotoJobDetails=function(t){t&&t.id&&n.path("/in/partial-issuance/"+t.id)},s.gotoCardLogDetails=function(t){t&&t.id&&n.path("/in/card-issuance-log/"+t.id)},s.partialJobs=[],i=[o.inventjob.getPartialJobs(r).then(function(t){return s.partialJobs=t,console.log(s.partialJobs),s.partialJobs}),o.inventjob.getJobs(e).then(function(t){return s.jobs=t,s.jobs}),o.inventaccount.getInventoryUsers(a).then(function(t){return s.invusers=t,console.log(s.invusers),s.invusers})],t.activateController(i,l).then(function(){c("Activated Jobs View")})}angular.module("app").controller("PartialJobIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var g="PrintWasteIssuanceDetailInventIN";function t(n,t,a,e,o,s,c){var r,i,l=this,u=(0,e.logger.getLogFn)(g);function d(t){return o.inventaccount.getProductionStaffs(t).then(function(t){return l.collectors=t,l.collectors})}function d(t){return o.inventaccount.getProductionStaffs(t).then(function(t){return l.collectors=t,l.collectors})}l.issuance={},l.issuanceLogs=[],l.collectors=[],l.job=void 0,l.jobs=[],l.jobTracker=void 0,l.stateCheck=void 0,l.goBack=function(){$window.history.back()},l.save=function(){console.log(l.cardWaste),l.newEntity={id:l.cardWaste.id,jobTrackerId:l.cardWaste.jobTrackerId,JobSplitPrintCEAnalysisId:l.cardWaste.jobSplitPrintCEAnalysisId,QuantityBad:l.cardWaste.quantityBad,WasteErrorSourceId:l.cardWaste.wasteErrorSourceId,WasteByUnitId:l.cardWaste.wasteByUnitId},console.log(l.newEntity),t=l.newEntity,e=s.resourceUri.inventory+"/waste/printissuance/create",c.saveResource(e,t).then(function(t){l.cardreceipt={},n.path("/in/print-waste-jobs")},function(t){console.log(t),a.message="Failed to save due to: "+t.data.message});var t,e},a.message="",r=[(i=t.wasteAnalysisId,console.log(i),o.resourcejob.getPrintWasteAnalysisById(i).then(function(t){l.cardWaste=t,console.log(l.cardWaste),console.log(l.cardWaste.quantityBad),l.issuance.quantity=l.cardWaste.quantityBad},function(t){logError("Unable to get CardWaste "+i)})),d()],e.activateController(r,g).then(function(){u("Activated JobDetails View")})}angular.module("app").controller("PrintWasteIssuanceDetailInventIN",t),t.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="PrintWasteJobIN";function t(e,t,o){var n,s,r,a,c=this,i=(0,t.logger.getLogFn)(u);c.gotoWasteIssuances=function(t){t&&t.id&&e.path("/in/print-waste-issuance/"+t.id)},c.wastejobs=[],n=[o.inventjob.getApprovedPrintWastes(a).then(function(t){return c.wastejobs=t,console.log(c.wastejobs),c.wastejobs}),o.resourcejob.getIncompleteJobs(r).then(function(t){return c.jobs=t,c.jobs}),o.resourcejob.getJobTrackers(s).then(function(t){return c.jobTrackers=t,c.jobTrackers})],t.activateController(n,u).then(function(){i("Activated Jobs View")})}angular.module("app").controller("PrintWasteJobIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="IncomingHeldCardIN";function e(e,t,c,a,r,s){var i=this,u=(0,c.logger.getLogFn)(l);function d(e){return a.inventjob.getIncomingHeldCards(e).then(function(e){return i.heldcards=e,console.log(i.heldcards),i.heldcards})}i.confirmHeld=function(e){o={id:e.id},n=r.resourceUri.inventory+"/heldcard-receipt/create",s.saveResource(n,o).then(function(e){console.log(e),d()},function(e){console.log(e),t.message="Failed to save resource due to:"+e});var o,n},i.heldcards=[],function(){e=a.lookup.lookupCachedData,i.departments=e.departments;var e;var o=[d(),a.inventjob.getJobs(r).then(function(e){return i.jobs=e,i.jobs}),a.resourcejob.getJobTrackers(t).then(function(e){return i.jobs=e,i.jobs}),a.inventaccount.getProductionStaffs(n).then(function(e){return i.users=e,console.log(i.users),i.users})];var n;var t;var r;c.activateController(o,l).then(function(){u("Activated Jobs View")})}()}angular.module("app").controller("IncomingHeldCardIN",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="WasteJobIN";function t(e,t,o){var n,s,a,r,c=this,i=(0,t.logger.getLogFn)(u);c.gotoWasteIssuances=function(t){t&&t.id&&e.path("/in/waste-issuance/"+t.id)},c.wastejobs=[],n=[o.inventjob.getApprovedCardWastes(r).then(function(t){return c.wastejobs=t,console.log(c.wastejobs),c.wastejobs}),o.resourcejob.getIncompleteJobs(a).then(function(t){return c.jobs=t,c.jobs}),o.resourcejob.getJobTrackers(s).then(function(t){return c.jobTrackers=t,c.jobTrackers})],t.activateController(n,u).then(function(){i("Activated Jobs View")})}angular.module("app").controller("WasteJobIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var b="WasteJobLogIN";function n(n,t,e,s,o,a){var c,i,r,u,d,l,g=this,v=(0,o.logger.getLogFn)(b);g.gotoPartialIssuance=function(){n.path("/in/partial-card-issuance/new")},g.cardissuances=[],g.jobTracker=void 0,g.stateCheck=void 0,g.goBack=function(){s.history.back()},g.save=function(){var n=t.id;g.newEntity={jobId:n,totalQuantity:g.cardrequest.chiptype.id,totalQuantityIssued:g.cardrequest.quantity,sidLientId:g.cardrequest.quantity}},c=[(l=t.id,a.inventjob.getCardIssuanceLogs(l,d).then(function(n){return g.cardissuancelogs=n,console.log(g.cardissuancelogs),g.cardissuancelogs})),a.inventaccount.getInventoryUsers(u).then(function(n){return g.invusers=n,console.log(g.invusers),g.invusers}),a.inventjob.getCardIssuances(r).then(function(n){return g.cardissuances=n,console.log(g.cardissuances),g.cardissuances}),a.inventjob.getJobs(i).then(function(n){return g.jobs=n,g.jobs})],o.activateController(c,b).then(function(){v("Activated JobDetails View")})}angular.module("app").controller("WasteJobLogIN",n),n.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="CardTypeDetailIN";function e(n,d,i,e,a,c,u){var t,p=this,o=(0,e.logger.getLogFn)(r);function s(e){return a.cardopslookup.getCardTypes(e).then(function(e){return p.cardtypes=e,p.cardtypes})}p.cardtypes=[],p.cardtype=void 0,p.goBack=function(){$window.history.back()},p.gotoCardTypes=function(e){e&&e.id&&n.path("/in/lookups/card-type/"+e.id)},p.save=function(){var e=d.id;"new"===e?(p.newEntity={name:p.cardtype.name},o=p.newEntity,r=c.resourceUri.lookups+"/cardtype/create",u.saveResource(r,o).then(function(e){p.cardtype={},s()},function(e){var t=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)t.push(e.data.modelState[a][o]);i.message="Failed to save resource due to:"+t.join(" ")})):Number.isInteger(e)||(p.updateEntity={id:p.cardtype.id,name:p.cardtype.name},t=p.updateEntity,a=c.resourceUri.lookups+"/cardtype/update",u.updateResource(a,t,t.id).then(function(e){p.cardtype={},s(),n.path("in/lookups/card-types")},function(e){var t=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)t.push(e.data.modelState[a][o]);i.message="Failed to save resource due to:"+t.join(" ")}));var t,a;var o,r},p.addNewCardType=function(){n.path("in/lookups/card-type/new")},t=[s(),function(){var t=d.id;if(void 0!==t&&"new"!==t)return a.cardopslookup.getCardTypeById(t).then(function(e){p.cardtype=e},function(e){logError("Unable to get CardType "+t)})}()],e.activateController(t,r).then(function(){o("Activated CardTypeDetail View")})}angular.module("app").controller("CardTypeDetailIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="CardVariantIN";function a(i,r,o,n,e,d,s){var c=this,u=(0,n.logger.getLogFn)(l);function v(a){return e.cardopslookup.getVariants(a).then(function(a){return c.variants=a,console.log(c.variants),c.variants})}c.gotoAddVariant=function(){i.path("in/lookups/card-variant/new")},c.variants=[],c.variant=void 0,c.goBack=function(){$window.history.back()},c.gotoVariants=function(a){a&&a.id&&i.path("/in/lookups/card-variant/"+a.id)},c.save=function(){"new"===r.id?(c.newEntity={sidClientId:c.variant.client.id,sidCardTypeId:c.variant.cardType.id,variantName:c.variant.name,shortCode:c.variant.shortCode},n=c.newEntity,e=d.resourceUri.lookups+"/variant/create",s.saveResource(e,n).then(function(a){console.log(a),c.variant={},v()},function(a){var t=[];for(var n in a.data.modelState)for(var e=0;e<a.data.modelState[n].length;e++)t.push(a.data.modelState[n][e]);o.message="Failed to save resource due to:"+t.join(" ")})):(c.updateEntity={id:c.variant.id,sidClientId:c.variant.client.id,sidCardTypeId:c.variant.cardType.id,variantName:c.variant.name},a=c.updateEntity,t=d.resourceUri.lookups+"/variant/update",s.updateResource(t,a,a.id).then(function(a){c.variant={},v(),i.path("in/lookups/card-variants")},function(a){var t=[];for(var n in a.data.modelState)for(var e=0;e<a.data.modelState[n].length;e++)t.push(a.data.modelState[n][e]);o.message="Failed to save resource due to:"+t.join(" ")}));var a,t;var n,e},c.clients=[],c.sidCardTypes=[],function(){a=e.lookup.lookupCachedData,c.clients=a.clients,c.sidCardTypes=a.sidCardTypes;var a;var t=[v(),function(){var t=r.id;if(void 0!==t&&"new"!==t)return e.cardopslookup.getVariantById(t).then(function(a){c.variant=a},function(a){logError("Unable to get variant "+t)})}()];n.activateController(t,l).then(function(){u("Activated Variants View")})}()}angular.module("app").controller("CardVariantIN",a),a.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="CreateProductIN";function a(i,o,r,n,e,d,s){var c=this,u=(0,n.logger.getLogFn)(l);function v(a){return e.cardopslookup.getVariants(a).then(function(a){return c.variants=a,console.log(c.variants),c.variants})}c.gotoAddVariant=function(){i.path("in/lookups/card-variant/new")},c.variants=[],c.variant=void 0,c.goBack=function(){$window.history.back()},c.gotoVariants=function(a){a&&a.id&&i.path("/in/lookups/card-variant/"+a.id)},c.save=function(){"new"===o.id?(c.newEntity={sidClientId:c.variant.client.id,sidCardTypeId:c.variant.cardType.id,variantName:c.variant.name,shortCode:c.variant.shortCode},n=c.newEntity,e=d.resourceUri.lookups+"/variant/create",s.saveResource(e,n).then(function(a){console.log(a),c.variant={},v()},function(a){var t=[];for(var n in a.data.modelState)for(var e=0;e<a.data.modelState[n].length;e++)t.push(a.data.modelState[n][e]);r.message="Failed to save resource due to:"+t.join(" ")})):(c.updateEntity={id:c.variant.id,sidClientId:c.variant.client.id,sidCardTypeId:c.variant.cardType.id,variantName:c.variant.name},a=c.updateEntity,t=d.resourceUri.lookups+"/variant/update",s.updateResource(t,a,a.id).then(function(a){c.variant={},v(),i.path("in/lookups/card-variants")},function(a){var t=[];for(var n in a.data.modelState)for(var e=0;e<a.data.modelState[n].length;e++)t.push(a.data.modelState[n][e]);r.message="Failed to save resource due to:"+t.join(" ")}));var a,t;var n,e},c.clients=[],c.sidCardTypes=[],function(){a=e.lookup.lookupCachedData,c.clients=a.clients,c.sidCardTypes=a.sidCardTypes;var a;var t=[v(),function(){var t=o.id;if(void 0!==t&&"new"!==t)return e.cardopslookup.getVariantById(t).then(function(a){c.variant=a},function(a){logError("Unable to get variant "+t)})}()];n.activateController(t,l).then(function(){u("Activated Variants View")})}()}angular.module("app").controller("CreateProductIN",a),a.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var s="RemarkIN";function e(t,n,i,e,a,u,c){var r,m=this,o=(0,e.logger.getLogFn)(s);function d(e){return a.cardopslookup.getRemarks(e).then(function(e){return m.remarks=e,m.remarks})}m.remarks=[],m.remark=void 0,m.goBack=function(){$window.history.back()},m.gotoRemarks=function(e){e&&e.id&&t.path("/co/lookups/remark/"+e.id)},m.save=function(){"new"===n.id?(m.newEntity={name:m.remark.name},a=m.newEntity,o=u.resourceUri.lookups+"/remark/create",c.saveResource(o,a).then(function(e){m.remark={},d()},function(e){var r=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)r.push(e.data.modelState[a][o]);i.message="Failed to save resource due to:"+r.join(" ")})):(m.updateEntity={id:m.remark.id,name:m.remark.name},e=m.updateEntity,r=u.resourceUri.lookups+"/remark/update",c.updateResource(r,e,e.id).then(function(e){m.remark={},d(),t.path("co/lookups/remarks")},function(e){var r=[];for(var a in e.data.modelState)for(var o=0;o<e.data.modelState[a].length;o++)r.push(e.data.modelState[a][o]);i.message="Failed to save resource due to:"+r.join(" ")}));var e,r;var a,o},m.addNewRemark=function(){console.log("ok"),t.path("co/lookups/remark/new")},r=[d(),function(){var r=n.id;if(r)return a.cardopslookup.getRemarkById(r).then(function(e){m.remark=e,console.log(m.remark)},function(e){logError("Unable to get Remark "+r)})}()],e.activateController(r,s).then(function(){o("Activated Remark View")})}angular.module("app").controller("RemarkIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="SidClientIN";function e(a,c,r,n,o,l,s){var d=this,i=(0,n.logger.getLogFn)(p);function u(e){return o.cardopslookup.getClients(e).then(function(e){return d.clients=e,console.log(d.clients),d.clients})}d.addInvClient=function(){a.path("in/lookups/client/new")},d.clients=[],d.client=void 0,d.goBack=function(){$window.history.back()},d.gotoCardTypes=function(e){e&&e.id&&a.path("/in/lookups/client/"+e.id)},d.save=function(){var e=c.id;"new"===e?(d.newEntity={sectorId:d.client.sector.id,name:d.client.name,shortCode:d.client.shortCode},o=d.newEntity,i=l.resourceUri.lookups+"/client/create",s.saveResource(i,o).then(function(e){d.client={},u()},function(e){var t=[];for(var n in e.data.modelState)for(var o=0;o<e.data.modelState[n].length;o++)t.push(e.data.modelState[n][o]);r.message="Failed to save resource due to:"+t.join(" ")})):Number.isInteger(e)||(d.updateEntity={id:d.client.id,sectorId:d.client.sector.id,name:d.client.name},t=d.updateEntity,n=l.resourceUri.lookups+"/client/update",s.updateResource(n,t,t.id).then(function(e){d.client={},u(),a.path("in/lookups/clients")},function(e){var t=[];for(var n in e.data.modelState)for(var o=0;o<e.data.modelState[n].length;o++)t.push(e.data.modelState[n][o]);r.message="Failed to save resource due to:"+t.join(" ")}));var t,n;var o,i},d.sectors=[],function(){e=o.lookup.lookupCachedData,d.sectors=e.sectors;var e;var t=[u(),function(){var t=c.id;if(void 0!==t&&"new"!==t)return o.cardopslookup.getClientById(t).then(function(e){d.client=e,console.log(d.client)},function(e){logError("Unable to get client "+t)})}()];n.activateController(t,p).then(function(){i("Activated Clients View")})}()}angular.module("app").controller("SidClientIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var p="ClientIN";function t(i,a,c,o,n,r,l){var s=this,u=(0,o.logger.getLogFn)(p);function d(t){return n.cardopslookup.getClients(t).then(function(t){return s.clients=t,console.log(s.clients),s.clients})}s.addClient=function(){i.path("co/lookups/client/new")},s.clients=[],s.client=void 0,s.goBack=function(){$window.history.back()},s.gotoCardTypes=function(t){t&&t.id&&i.path("/co/lookups/client/"+t.id)},s.save=function(){"new"===a.id?(s.newEntity={sectorId:s.client.sector.id,name:s.client.name},o=s.newEntity,n=r.resourceUri.lookups+"/client/create",l.saveResource(n,o).then(function(t){s.client={},d()},function(t){var e=[];for(var o in t.data.modelState)for(var n=0;n<t.data.modelState[o].length;n++)e.push(t.data.modelState[o][n]);c.message="Failed to save resource due to:"+e.join(" ")})):(s.updateEntity={id:s.client.id,sectorId:s.client.sector.id,name:s.client.name},t=s.updateEntity,e=r.resourceUri.lookups+"/client/update",l.updateResource(e,t,t.id).then(function(t){s.client={},d(),i.path("co/lookups/clients")},function(t){var e=[];for(var o in t.data.modelState)for(var n=0;n<t.data.modelState[o].length;n++)e.push(t.data.modelState[o][n]);c.message="Failed to save resource due to:"+e.join(" ")}));var t,e;var o,n},s.sectors=[],function(){t=n.lookup.lookupCachedData,s.sectors=t.sectors;var t;var e=[d(),function(){var e=a.id;if(e)return n.cardopslookup.getClientById(e).then(function(t){s.client=t,console.log(s.client)},function(t){logError("Unable to get client "+e)})}()];o.activateController(e,p).then(function(){u("Activated Clients View")})}()}angular.module("app").controller("ClientIN",t),t.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var a="MISCardClientListIN";function t(n,t,i){var e,o,c=this,l=(0,t.logger.getLogFn)(a);c.clients=[],c.gotoClientDetails=function(t){t&&t.id&&n.path("/in/mis/card/client/"+t.id+"/product-lists")},e=[i.inventory.getClients(o).then(function(t){return c.clients=t,console.log(c.clients),c.clients})],t.activateController(e,a).then(function(){l("Activated Jobs View")})}angular.module("app").controller("MISCardClientListIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var a="CardClientMISReportIN";function t(t,o,n){var e=(0,o.logger.getLogFn)(a);o.activateController([],a).then(function(){e("Activated Jobs View")})}angular.module("app").controller("CardClientMISReportIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var u="StockCardProductListIN";function t(o,t,n,c){var e,i,r=this,l=(0,n.logger.getLogFn)(u);r.clientProducts=[],r.gotoclientProductDetails=function(t){t&&t.id&&o.path("/in/inventory/vault-product/"+t.id)},e=[c.inventory.getAllClientProducts(i).then(function(t){return r.clientProducts=t,console.log(r.clientProducts),r.clientProducts})],n.activateController(e,u).then(function(){l("Activated Jobs View")})}angular.module("app").controller("StockCardProductListIN",t),t.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var l="StockCardProductMISIN";function t(t,o,r,e){var n,c,a,i=this,s=(0,r.logger.getLogFn)(l);i.clientProducts=[],n=[(a=o.id,e.inventory.getClientStockReports(a,c).then(function(t){return i.stockreports=t,console.log(i.stockreports),i.stockreports}))],r.activateController(n,l).then(function(){s("Activated Jobs View")})}angular.module("app").controller("StockCardProductMISIN",t),t.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var g="StockCardProductDetailIN";function t(t,e,r,o,n){var c,u,i,a,d,l,s,p=this,v=(0,o.logger.getLogFn)(g);p.vaultreport=[],p.clientstockreport=[],p.product=void 0,p.displayReceiptLog=function(t){console.log(t),(p.currentCardRequest=t)&&t.id&&(p.receiptlogView=!0,e=t.id,n.inventory.getReceiptLogByRequestId(e,r).then(function(t){return p.cardreceiptlogs=t,p.cardreceiptlogs}));var e,r},p.cardrequests=[],p.receiptlogView=!1,p.saveRequest=function(){t.path("in/inventory/vault-product/"+e.id+"/request/new")},p.saveReceipt=function(){t.path("in/inventory/vault-product/"+e.id+"/request/"+p.currentCardRequest.id+"/receipt")},p.currentCardRequest=void 0,c=[(s=e.id,n.inventory.getProductById(s,l).then(function(t){return p.product=t,console.log(p.product),p.product})),(d=e.id,n.inventory.getEmbedCardRequestByProducts(d,a).then(function(t){return p.cardrequests=t,console.log(p.cardrequests),p.cardrequests})),(i=e.id,n.inventory.getClientVaultReports(i,u).then(function(t){return p.vaultreport=t,0===p.vaultreport.length&&(p.createVault=!0,r.message="Product Vault not found, Please create a Product Vault"),console.log(p.vaultreport),p.vaultreport}))],o.activateController(c,g).then(function(){v("Activated Jobs View")})}angular.module("app").controller("StockCardProductDetailIN",t),t.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var p="StockCardProductReceiptIN";function e(o,a,u,c,n,d,l){var i=this,s=(0,c.logger.getLogFn)(p);function v(e){var t=a.id;return n.inventory.getClientVaultReports(t,e).then(function(e){return i.vaultreport=e,0===i.vaultreport.length&&(i.createVault=!0,u.message="Product Vault not found, Please create a Product Vault"),console.log(i.vaultreport),i.vaultreport})}i.cardrequest=void 0,i.vaultreport=[],i.clientstockreport=[],i.product=void 0,i.cardrequests=[],i.receiptlogView=!1,i.save=function(){if(console.log(i.vaultreport[0]),console.log(i.cardrequest),void 0===i.vaultreport[0])u.message="Product Vault not found";else{var e={clientVaultReportId:i.vaultreport[0].id,vendorId:i.cardrequest.vendor.id,sIDReceiverId:1,sidProductId:a.id,embedCardRequestId:a.requestId,supplierName:i.cardrequest.deliverBy,lotNumber:i.cardrequest.lotNumber,quantity:i.cardrequest.batchNumber};console.log(e),t=e,r=d.resourceUri.inventory+"/cardreceipt/create",l.saveResource(r,t).then(function(e){console.log(e),i.request={},o.path("/in/inventory/vault-product/"+a.id)},function(e){console.log(e.data.message),u.message=e.data.message})}var t,r},i.createProductVault=function(){i.newVault={sidProductId:a.id,openingStock:0,closingStock:0};var e=d.resourceUri.inventory+"/ClientVault/create";l.saveResource(e,i.newVault).then(function(e){v(),i.createVault=!1},function(e){u.message="Failed to save due to: "+e.data.message})},i.createVault=!1,function(){e=n.lookup.lookupCachedData,i.vendors=e.vendors;var e;var t=[(o=a.id,n.inventory.getProductById(o,r).then(function(e){return i.product=e,console.log(i.product),i.product})),v()];var r,o;c.activateController(t,p).then(function(){s("Activated Jobs View")})}()}angular.module("app").controller("StockCardProductReceiptIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var y="StockCardProductRequestIN";function e(o,c,n,e,u,a,i){var t,r,s,d,l,g,p,v=this,q=(0,e.logger.getLogFn)(y);v.request=void 0,v.vaultreport=[],v.clientstockreport=[],v.product=void 0,v.displayReceiptLog=function(e){e&&e.id&&(t=e.id,u.inventory.getReceiptLogByRequestId(t,r).then(function(e){return v.cardreceiptlogs=e,0!==v.cardreceiptlogs.length&&(v.receiptlogView=!0),console.log(v.cardreceiptlogs),v.cardreceiptlogs}));var t,r},v.cardrequests=[],v.receiptlogView=!1,v.saveRequest=function(){var e={orderNumber:v.request.orderNumber,totalBatchQty:v.request.quantity,createdById:0,sidProductId:c.id};console.log(e),t=e,r=a.resourceUri.inventory+"/cardrequest/create",i.saveResource(r,t).then(function(e){console.log(e),v.request={},o.path("/in/inventory/vault-product/"+c.id)},function(e){console.log(e),n.message="Failed to save resource due to:"});var t,r},t=[(p=c.id,u.inventory.getProductById(p,g).then(function(e){return v.product=e,console.log(v.product),v.product})),(l=c.id,u.inventory.getEmbedCardRequestByProducts(l,d).then(function(e){return v.cardrequests=e,console.log(v.cardrequests),v.cardrequests})),(s=c.id,u.inventory.getClientVaultReports(s,r).then(function(e){return v.vaultreport=e,0===v.vaultreport.length&&(v.createVault=!0,n.message="Product Vault not found, Please create a Product Vault"),console.log(v.vaultreport),v.vaultreport}))],e.activateController(t,y).then(function(){q("Activated Jobs View")})}angular.module("app").controller("StockCardProductRequestIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="StockReceiptIN";function t(e,t,o,n){var r,c,i,a=this,u=(0,o.logger.getLogFn)(d);a.cardrequests=[],a.addCardRequest=function(t){e.path("in/inventory/vault-product/1/receipt/new")},a.gotoCardReceiptLogs=function(t){t&&t.id&&e.path("in/inventory/vault-product/1/receipt/"+t.id)},r=[(i=t.id,n.inventory.getEmbedCardRequestByProducts(i,c).then(function(t){return a.cardrequests=t,console.log(a.cardrequests),a.cardrequests}))],o.activateController(r,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("StockReceiptIN",t),t.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var d="StockReceiptDetailIN";function e(t,o,n,a){var c=this,u=(0,n.logger.getLogFn)(d);c.cardrequests=[],c.addCardRequest=function(e){console.log(e),e&&e.id&&t.path("in/inventory/vault-product/1/receipt/new")},c.save=function(){console.log(c.cardrequest),c.newEntity={clientVaultReportId:1,vendorId:c.cardrequest.vendors.id,sIDReceiverId:1,embedCardRequestId:1,supplierName:c.cardrequest.deliverBy,lotNumber:c.cardrequest.lotNumber,quantity:c.cardrequest.batchNumber},console.log(c.newEntity)},c.cardrequest=void 0,function(){e=a.lookup.lookupCachedData,c.vendors=e.vendors;var e;var t=[(r=o.requestId,a.inventory.getSCMCardRequestById(r).then(function(e){c.cardrequest=e,console.log(c.cardrequest)},function(e){logError("Unable to get cardrequest "+r)}))];var r;n.activateController(t,d).then(function(){u("Activated Jobs View")})}()}angular.module("app").controller("StockReceiptDetailIN",e),e.$inject=["$location","$routeParams","common","datacontext"]}();
!function(){"use strict";var a="CardHistoryIN";function o(t,o,n){var e,i,r=this,c=(0,o.logger.getLogFn)(a);r.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},r.jobs=[],e=[n.resourcejob.getJobs(i).then(function(o){return r.jobs=o,console.log(r.jobs),r.jobs})],o.activateController(e,a).then(function(){c("Activated Jobs View")})}angular.module("app").controller("CardHistoryIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="CardItemLogIN";function o(t,o,n){var e,c,a=this,i=(0,o.logger.getLogFn)(r);a.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},a.jobs=[],e=[n.resourcejob.getJobs(c).then(function(o){return a.jobs=o,console.log(a.jobs),a.jobs})],o.activateController(e,r).then(function(){i("Activated Jobs View")})}angular.module("app").controller("CardItemLogIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="CardLowStockIN";function o(t,o,n){var e,c,a=this,i=(0,o.logger.getLogFn)(r);a.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},a.jobs=[],e=[n.resourcejob.getJobs(c).then(function(o){return a.jobs=o,console.log(a.jobs),a.jobs})],o.activateController(e,r).then(function(){i("Activated Jobs View")})}angular.module("app").controller("CardLowStockIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var c="StationaryHistoryIN";function o(t,o,n){var e,i,a=this,r=(0,o.logger.getLogFn)(c);a.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},a.jobs=[],e=[n.resourcejob.getJobs(i).then(function(o){return a.jobs=o,console.log(a.jobs),a.jobs})],o.activateController(e,c).then(function(){r("Activated Jobs View")})}angular.module("app").controller("StationaryHistoryIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="StationaryItemLogIN";function o(t,o,n){var e,a,i=this,c=(0,o.logger.getLogFn)(r);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,r).then(function(){c("Activated Jobs View")})}angular.module("app").controller("StationaryItemLogIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="StationaryLowStockIN";function o(t,o,n){var e,c,a=this,i=(0,o.logger.getLogFn)(r);a.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},a.jobs=[],e=[n.resourcejob.getJobs(c).then(function(o){return a.jobs=o,console.log(a.jobs),a.jobs})],o.activateController(e,r).then(function(){i("Activated Jobs View")})}angular.module("app").controller("StationaryLowStockIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var c="WasteCardHistoryIN";function o(t,o,n){var e,a,i=this,r=(0,o.logger.getLogFn)(c);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,c).then(function(){r("Activated Jobs View")})}angular.module("app").controller("WasteCardHistoryIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var i="WasteCardRequestIN";function o(t,o,e){var n,a,c=this,s=(0,o.logger.getLogFn)(i);c.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},c.jobs=[],n=[e.resourcejob.getJobs(a).then(function(o){return c.jobs=o,console.log(c.jobs),c.jobs})],o.activateController(n,i).then(function(){s("Activated Jobs View")})}angular.module("app").controller("WasteCardRequestIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var c="WasteStationaryHistoryIN";function o(t,o,n){var e,a,i=this,r=(0,o.logger.getLogFn)(c);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,c).then(function(){r("Activated Jobs View")})}angular.module("app").controller("WasteStationaryHistoryIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var s="WasteStationaryRequestIN";function o(t,o,e){var n,a,i=this,c=(0,o.logger.getLogFn)(s);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],n=[e.resourcejob.getJobs(a).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(n,s).then(function(){c("Activated Jobs View")})}angular.module("app").controller("WasteStationaryRequestIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var d="UnitFlaggedJobMA";function e(e,r,o,n,i,c){var t,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Mailing",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=i.resourceUri.supervisor+"/unflagjob/create",c.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(t,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobMA",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="CardDeliveryReportMA";function e(o,e,r){var t,n,c,i,a,l=this,s=(0,e.logger.getLogFn)(u);l.gotoJobDetails=function(e){e&&e.id&&o.path("/pr/print-job/"+e.id)},l.jobs=[],l.carddeliveryreports=[],t=[r.mailingjob.getMailingCardDelivery(a).then(function(e){return l.carddeliveryreports=e,console.log(l.carddeliveryreports),l.carddeliveryreports}),r.resourcejob.getJobTrackers(i).then(function(e){return l.jobTrackers=e,console.log(l.jobTrackers),l.jobTrackers}),r.inventjob.getJobs(c).then(function(e){return l.jobs=e,l.jobs}),r.inventaccount.getProductionStaffs(n).then(function(e){return l.collectors=e,l.collectors})],e.activateController(t,u).then(function(){s("Activated Jobs View")})}angular.module("app").controller("CardDeliveryReportMA",e),e.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="CardMISReportMA";function o(o,r,e,s,t,c,n,a){var i=this,u=(0,s.logger.getLogFn)(l);t.keyCodes;i.misreports=[],i.jobs=[],function(){c.lookup.lookupCachedData;var o=[c.mailingjob.getMAJobSplits(n).then(function(o){return i.misreports=o,console.log(i.misreports),i.misreports}),c.resourcejob.getCEJobSplits().then(function(o){i.jobSplits=o},function(o){logError("Unable to get JobSplit "+t)}),c.resourcejob.getJobTrackers(e).then(function(o){return i.jobTrackers=o,console.log(i.jobTrackers),i.jobTrackers}),c.resourcejob.getJobs(r).then(function(o){return i.jobs=o,i.jobs})];var r;var e;var t;var n;s.activateController(o,l).then(function(){u("Activated Job Status View")})}()}angular.module("app").controller("CardMISReportMA",o),o.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJobPR";function e(e,r,o,n,i,c){var t,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Printing",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=i.resourceUri.supervisor+"/unflagjob/create",c.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(t,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobPR",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJobQA";function e(e,r,o,n,c,i){var t,a,s,u=this,g=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Quality Assurance",e).then(function(e){return u.incomingPrints=e,u.incomingPrints})}u.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return u.jobs=e,u.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return u.jobTrackers=e,u.jobTrackers})],o.activateController(t,d).then(function(){g("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobQA",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJobQC";function e(e,r,o,n,c,i){var t,a,s,u=this,g=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Quality Control",e).then(function(e){return u.incomingPrints=e,u.incomingPrints})}u.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return u.jobs=e,u.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return u.jobTrackers=e,u.jobTrackers})],o.activateController(t,d).then(function(){g("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJobQC",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var v="AccountDetailSA";function e(e,n,o,r,t,a,u,s){var c=this,i=(0,t.logger.getLogFn)(v);function l(){var o=n.id;return a.sadminaccount.getById(o).then(function(e){var o,n;c.user=e,o=c.user.id,a.sadminaccount.getUserRoles(o,n).then(function(e){return c.userRoles=e,c.userRoles})},function(e){logError("Unable to get JobTracker "+o)})}function f(e,o){var n=u.resourceUri.accounts+"/user/"+e+"/roles";s.updateResourcePartial(n,o).then(function(e){l()},function(e){})}c.assign=void 0,c.roles=[],c.removeRole=function(n){var r=[];angular.forEach(c.userRoles,function(e,o){n.name!==e.name&&r.push(e.name)}),f(c.user.id,r)},c.saveRole=function(){var n=[];angular.forEach(c.userRoles,function(e,o){n.push(e.name)}),n.push(c.assign.role.name),f(c.user.id,n)},c.userRoles=[],r.message="",function(){e=a.lookup.lookupCachedData,c.roles=e.roles;var e;var o=[l()];t.activateController(o,v).then(function(){i("Activated JobDetails View")})}()}angular.module("app").controller("AccountDetailSA",e),e.$inject=["$location","$routeParams","$route","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="ClientListSA";function t(e,t,n,i,o,c){var l,s,r=this,a=(0,n.logger.getLogFn)(u);r.clients=[],r.gotoAccountDetails=function(t){t&&t.id&&e.path("/sa/client/"+t.id+"/userlist")},l=[i.inventory.getClients(s).then(function(t){return r.clients=t,console.log(r.clients),r.clients})],n.activateController(l,u).then(function(){a("Activated Jobs View")})}angular.module("app").controller("ClientListSA",t),t.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var v="ClientUserListSA";function e(e,t,n,o,r,s,c){var i,l,a,u,g,d=this,U=(0,o.logger.getLogFn)(v);d.clientUsers=[],d.gotoAccountCreate=function(){e.path("/sa/client/"+t.clientId+"/create/new")},i=[(g=t.clientId,console.log(g),r.inventory.getClientUsers(g,u).then(function(e){return d.clientUsers=e,console.log(d.clientUsers),d.clientUsers})),(a=t.clientId,r.inventory.getSelectedClientUsers(a,l).then(function(e){return d.users=e,console.log(d.users),d.users}))],o.activateController(i,v).then(function(){U("Activated Jobs View")})}angular.module("app").controller("ClientUserListSA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="CreateClientUserSA";function e(t,o,e,r,s,a,n){var i=this,c=(0,r.logger.getLogFn)(l);i.roles=[],i.save=function(){i.newEntity={firstName:i.user.firstName,lastName:i.user.lastName,email:i.user.email,phoneNumber:i.user.phoneNumber,userName:i.user.userName,password:i.user.password,confirmPassword:i.user.confirmPassword,sidClientId:o.clientId},e=i.newEntity,r=a.resourceUri.accounts+"/client/create",n.saveResource(r,e).then(function(e){t.path("sa/client/"+o.clientId+"/userlist")},function(e){console.log(e)});var e,r},function(){e=s.lookup.lookupCachedData,i.roles=e.roles;var e;r.activateController([],l).then(function(){c("Activated JobDetails View")})}()}angular.module("app").controller("CreateClientUserSA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="UserAccountSA";function t(c,t,o,n,e,a){var u,i,r=this,s=(0,o.logger.getLogFn)(l);r.gotoAccountCreate=function(){c.path("/sa/create-user/new")},r.gotoAccountDetails=function(t){t&&t.id&&c.path("/sa/accountdetail/"+t.id)},u=[n.sadminaccount.getAccountPatials(i).then(function(t){return r.accounts=t,console.log(r.accounts),r.accounts})],o.activateController(u,l).then(function(){s("Activated Jobs View")})}angular.module("app").controller("UserAccountSA",t),t.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var f="AccountDetailSA";function e(e,r,o,s,n,t,a,u){var c=this,i=(0,n.logger.getLogFn)(f);function l(){var o=r.id;return t.sadminaccount.getById(o).then(function(e){var o,r;c.user=e,o=c.user.id,t.sadminaccount.getUserRoles(o,r).then(function(e){return c.userRoles=e,c.userRoles})},function(e){logError("Unable to get JobTracker "+o)})}function d(e,o){var r=a.resourceUri.accounts+"/user/"+e+"/roles";u.updateResourcePartial(r,o).then(function(e){l()},function(e){})}c.assign=void 0,c.roles=[],c.removeRole=function(r){var s=[];angular.forEach(c.userRoles,function(e,o){r.name!==e.name&&s.push(e.name)}),d(c.user.id,s)},c.saveRole=function(){var r=[];angular.forEach(c.userRoles,function(e,o){r.push(e.name)}),r.push(c.assign.role.name),d(c.user.id,r)},c.resetPassword=function(){c.resetPasswordModel={userId:c.user.id};var e=a.resourceUri.accounts+"/ResetPassword";u.saveResource(e,c.resetPasswordModel).then(function(e){c.resetMessage="Reset Completed",console.log(e)})},c.resetMessage="",c.userRoles=[],s.message="",function(){e=t.lookup.lookupCachedData,c.roles=e.roles;var e;var o=[l()];n.activateController(o,f).then(function(){i("Activated JobDetails View")})}()}angular.module("app").controller("AccountDetailSA",e),e.$inject=["$location","$routeParams","$route","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var n="CreateUserSA";function e(e,r,o,a,s,u,c){var i=this,t=(0,a.logger.getLogFn)(n);i.roles=[],i.save=function(){i.newEntity={firstName:i.user.firstName,lastName:i.user.lastName,email:i.user.email,phoneNumber:i.user.phoneNumber,roleId:i.user.unit.id,roleName:i.user.unit.name,userName:i.user.userName,password:i.user.password,confirmPassword:i.user.confirmPassword},n=i.newEntity,e=u.resourceUri.accounts+"/create",c.saveResource(e,n).then(function(e){var r,o,a,s,t;console.log(e),r=e.data,o=[n.roleName],a=r.id,s=o,t=u.resourceUri.accounts+"/user/"+a+"/roles",c.updateResourcePartial(t,s).then(function(e){i.user={}},function(e){console.log(e)})},function(e){console.log(e)});var n,e},function(){e=s.lookup.lookupCachedData,i.roles=e.roles;var e;a.activateController([],n).then(function(){t("Activated JobDetails View")})}()}angular.module("app").controller("CreateUserSA",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var l="UserAccountSA";function t(c,t,o,n,e,a){var u,i,r=this,s=(0,o.logger.getLogFn)(l);r.gotoAccountCreate=function(){c.path("/sa/create-user/new")},r.gotoAccountDetails=function(t){t&&t.id&&c.path("/sa/accountdetail/"+t.id)},u=[n.sadminaccount.getAccountPatials(i).then(function(t){return r.accounts=t,console.log(r.accounts),r.accounts})],o.activateController(u,l).then(function(){s("Activated Jobs View")})}angular.module("app").controller("UserAccountSA",t),t.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var d="UnitFlaggedJob";function e(e,r,o,n,c,i){var t,a,s,g=this,u=(0,o.logger.getLogFn)(d);function l(e){return n.resourcejob.getUnitFlaggedJobs("Card Ops",e).then(function(e){return g.incomingPrints=e,g.incomingPrints})}g.unFlaggedJob=function(e){console.log(e);var o={id:e.id,jobTrackerId:e.jobTrackerId,flagTypeId:e.flagTypeId,description:e.description,recommendation:e.recommendation};console.log(o),n=o,t=c.resourceUri.supervisor+"/unflagjob/create",i.saveResource(t,n).then(function(e){l()},function(e){console.log(e),r.message="Failed to save due to: "+e.data.message});var n,t},t=[l(),n.inventjob.getJobs(s).then(function(e){return g.jobs=e,g.jobs}),n.resourcejob.getJobTrackers(a).then(function(e){return g.jobTrackers=e,g.jobTrackers})],o.activateController(t,d).then(function(){u("Activated Jobs View")})}angular.module("app").controller("UnitFlaggedJob",e),e.$inject=["$location","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="JobCOSupv";function o(t,o,n){var e,c,i=this,s=(0,o.logger.getLogFn)(u);i.gotoJobDetails=function(o){o&&o.id&&t.path("/sup/co/job-setup/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(c).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,u).then(function(){s("Activated Jobs View")})}angular.module("app").controller("JobCOSupv",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var l="JobSetupCOSupv";function e(r,n,a,e,t,i,s,d){var c=this,u=(0,t.logger.getLogFn)(l);e.keyCodes;c.serverJob=void 0,c.job=[],c.goBack=function(){$window.history.back()},c.gotoJobDetails=function(e){e&&e.id&&r.path("/co/job-setup/"+e.id)},c.updateClientList=function(e){c.newClientInfo=[];var t=c.job.sidSector.id;angular.forEach(c.clients,function(e,o){e.sectorId==t&&c.newClientInfo.push(e)})},c.save=function(){var e;n.id;if(""==document.getElementById("jobName").value||null==document.getElementById("jobName").value)return alert("Please select a valid Job Name"),!1;e=void 0===c.job.remark?"":c.job.remark2.name;null!==c.job.jobName||void 0!==c.job.jobName?(c.newJob={jobId:c.job.id,jobName:c.job.jobName,jobNameId:c.job.jobNameId,sidSectorId:c.job.sidSector.id,sidClientId:c.job.sidClient.id,sidCardTypeId:c.job.sidCardType.id,remark:e,ServiceTypeId:c.job.serviceType.id,quantity:c.job.quantity},o=c.newJob,t=s.resourceUri.supervisor+"/updatejobandtracker/create",d.saveResource(t,o).then(function(e){r.path("/sup/co/incoming-jobs")},function(e){var o=[];for(var t in e.data.modelState)for(var r=0;r<e.data.modelState[t].length;r++)o.push(e.data.modelState[t][r]);a.message="Failed to save resource due to:"+o.join(" ")})):(console.log("error"),c.errorMessage="No Job Selected");var o,t},c.clients=[],c.newClientInfo=[],c.jobTypes=[],c.remarks=[],c.sectors=[],c.priority=[],c.sidVariants=[],c.sidCardTypes=[],c.errorMessage="",function(){e=i.lookup.lookupCachedData,c.clients=e.clients,c.serviceTypes=e.serviceTypes,c.remarks=e.remarks,c.sectors=e.sectors,c.priority=e.priority,c.sidCardTypes=e.sidCardTypes;var e;var o=[function(){var o=n.id;if(o)return i.resourcejob.getJobById(o).then(function(e){return c.job=e,function(){c.newClientInfo=[];var t=c.job.sidSector.id;angular.forEach(c.clients,function(e,o){e.sectorId==t&&c.newClientInfo.push(e)})}(c.job.sidSectorId),c.job},function(e){logError("Unable to get variant "+o)})}()];t.activateController(o,l).then(function(){u("Activated Variants View")})}()}angular.module("app").controller("JobSetupCOSupv",e),e.$inject=["$location","$routeParams","$scope","config","common","datacontext","model","resourceService"]}();
!function(){"use strict";var f="JobArchiveIN";function e(e,r,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(f),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return console.log(e),u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(k)}function k(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function l(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=function(){s(!0),l(!0)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=k,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:10},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData;var e=[s(),l()];t.activateController(e,f).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("JobArchiveIN",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var b="JobDetailCO";function o(o,e,t,r,a){var c,n,i=this,l=(0,r.logger.getLogFn)(b);i.jobs=[],i.jobTracker=void 0,i.stateCheck=void 0,c=[(n=e.id,a.resourcejob.getJobTrackerByJobId(n).then(function(o){i.jobTracker=o,console.log(i.jobTracker)},function(o){logError("Unable to get JobTracker "+n)}))],r.activateController(c,b).then(function(){l("Activated JobDetails View")})}angular.module("app").controller("JobDetailCO",o),o.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var s="JobListIN";function t(e,t,n,r,o){var c=this,u=(0,n.logger.getLogFn)(s),i=r.keyCodes;c.gotoclientProductDetails=function(t){t&&t.id&&e.path("/in/mis/card/client/:clientId/product/:productId/reports")},c.filteredProducts=[],c.products=[],c.productsSearch="",c.productsFilter=g,c.search=function(t){t.keyCode===i.esc?(c.productsSearch="",d(!0)):d()},c.productCount=0,c.productFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:5,pageSize:10},c.pageChanged=function(t){if(!t)return;c.paging.currentPage=t,p()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.productFilteredCount/c.paging.pageSize)+1}});var a,d=function(){};function p(e){return o.inventory.getClientProducts(1,e,c.paging.currentPage,c.paging.pageSize,c.productsSearch).then(function(t){return c.products=c.filteredProducts=t,c.productFilteredCount=o.inventory.getProductFilteredCount(c.productsSearch),c.productCount&&!e||o.inventory.getProductCount().then(function(t){return c.productCount=t}),t})}function d(){c.filteredProducts=c.products.filter(g)}function g(t){var e=n.textContains,r=c.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],n.activateController(a,s).then(function(){d=n.createSearchThrottle(c,"products"),c.productsSearch&&d(!0),u("Activated Jobs View")})}angular.module("app").controller("JobListIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var j="JobStatusCO";function o(o,e,t,r,c,n,s){var a,u,b,i=this,l=(0,r.logger.getLogFn)(j);i.jobTrackers=[],i.jobs=[],a=[c.resourcejob.getJobTrackers(b).then(function(o){return i.jobTrackers=o,console.log(i.jobTrackers),i.jobTrackers}),c.resourcejob.getJobs(u).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],r.activateController(a,j).then(function(){l("Activated Job Status View")})}angular.module("app").controller("JobStatusCO",o),o.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var u="NonPersoJobCO";function o(n,o,e){var t,s,r,c=this,i=(0,o.logger.getLogFn)(u);c.gotoJobDetails=function(o){o&&o.id&&n.path("/co/nonperso-job/"+o.id)},c.jobs=[],t=[e.resourcejob.getNonPersoJobs(r).then(function(o){return c.jobs=o,console.log(c.jobs),c.jobs}),e.rm.getRMUsers(s).then(function(o){return c.users=o,console.log(c.users),c.users})],o.activateController(t,u).then(function(){i("Activated Jobs View")})}angular.module("app").controller("NonPersoJobCO",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var d="PendingJobCO";function e(e,r,o,t,n,a,i,u,c,s){var g=this,v=(0,a.logger.getLogFn)(d),l=i.keyCodes;function b(r){return u.resourcejob.getServerJobQueues(r,g.paging.currentPage,g.paging.pageSize,g.serverJobsSearch).then(function(e){return g.serverJobs=g.filteredServerJobs=e,g.serverJobCount&&!r||u.resourcejob.getServerJobCount().then(function(e){return g.serverJobCount=e}),g.serverJobFilteredCount=u.resourcejob.getServerJobFilteredCount(g.serverJobsSearch),e})}g.auth=n.authentication,g.gotoJobDetails=function(e){},g.roles=[],g.currnetRole=void 0,g.refresh=function(){b(!0)},g.markTreated=function(e){r={id:e.id,jobName:e.jobName},o=c.resourceUri.co+"/serverjob/delete",s.updateResource(o,r).then(function(e){console.log(e),b(!0)},function(e){console.log(e),t.message="Failed to save resource due to:"});var r,o},g.serverJobs=[],g.filteredServerJobs=[],g.serverJobsSearch="",g.search=function(e){e.keyCode===l.esc&&(g.serverJobsSearch="");b()},g.serverJobCount=0,g.serverJobFilteredCount=0,g.paging={currentPage:1,maxPagesToShow:10,pageSize:10},g.pageChanged=function(e){if(!e)return;g.paging.currentPage=e,b()},Object.defineProperty(g.paging,"pageCount",{get:function(){return Math.floor(g.serverJobFilteredCount/g.paging.pageSize)+1}}),function(){!function(){var e=n.authentication;if(""!==e.roles){var r=JSON.parse(e.roles);g.currnetRole=r[0]}}();var e=[b(!0),(r=n.authentication,o=JSON.parse(r.roles),void(g.currnetRole=o[0]))];var r,o;a.activateController(e,d).then(function(){v("Activated Dashboard View")})}()}angular.module("app").controller("PendingJobCO",e),e.$inject=["$location","$route","$rootScope","$scope","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="CompletedJobSv";function e(r,e,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(d),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(l)}function l(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function f(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}function k(){s(!0),f(!0)}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=k,u.flagJob=function(e){console.log(e),r.path("/job-flag/"+e.id)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=l,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:15},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData,k();var e=[s(!0),f(!0)];t.activateController(e,d).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("CompletedJobSv",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="OlderJobSv";function e(r,e,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(d),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(l)}function l(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function f(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}function k(){s(!0),f(!0)}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=k,u.flagJob=function(e){console.log(e),r.path("/job-flag/"+e.id)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=l,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:15},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData,k();var e=[s(!0),f(!0)];t.activateController(e,d).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("OlderJobSv",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="PendingSv";function e(r,e,o,n,t,a,c,i){var u=this,b=(0,n.logger.getLogFn)(d),g=t.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(f)}function f(e){var r=n.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function l(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}function k(){s(!0),l(!0)}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=k,u.flagJob=function(e){console.log(e),r.path("/job-flag/"+e.id)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=f,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:15},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData,k();var e=[s(!0),l(!0)];n.activateController(e,d).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("PendingSv",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var s="productsIN";function t(e,r,n,t,o){var c=this,u=(0,n.logger.getLogFn)(s),i=t.keyCodes;c.gotoclientProductDetails=function(t){t&&t.id&&e.path("/in/mis/card/client/:clientId/product/:productId/reports")},c.filteredProducts=[],c.products=[],c.productsSearch="",c.productsFilter=g,c.search=function(t){t.keyCode===i.esc?(c.productsSearch="",d(!0)):d()},c.productCount=0,c.productFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:5,pageSize:10},c.pageChanged=function(t){if(!t)return;c.paging.currentPage=t,p()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.productFilteredCount/c.paging.pageSize)+1}});var a,d=function(){};function p(e){var t=r.clientId;return o.inventory.getClientProducts(t,e,c.paging.currentPage,c.paging.pageSize,c.productsSearch).then(function(t){return c.products=c.filteredProducts=t,c.productFilteredCount=o.inventory.getProductFilteredCount(c.productsSearch),c.productCount&&!e||o.inventory.getProductCount().then(function(t){return c.productCount=t}),t})}function d(){c.filteredProducts=c.products.filter(g)}function g(t){var e=n.textContains,r=c.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],n.activateController(a,s).then(function(){d=n.createSearchThrottle(c,"products"),c.productsSearch&&d(!0),u("Activated Jobs View")})}angular.module("app").controller("productsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var a="MISCardStockMonitorIN";function o(t,o,n){var e,c,i=this,r=(0,o.logger.getLogFn)(a);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(c).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,a).then(function(){r("Activated Jobs View")})}angular.module("app").controller("MISCardStockMonitorIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var i="CardSummaryIN";function o(t,o,n){var e,a,r=this,c=(0,o.logger.getLogFn)(i);r.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},r.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return r.jobs=o,console.log(r.jobs),r.jobs})],o.activateController(e,i).then(function(){c("Activated Jobs View")})}angular.module("app").controller("MISCardSummaryIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="MISCardUsageIN";function o(t,o,n){var e,a,c=this,i=(0,o.logger.getLogFn)(r);c.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},c.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return c.jobs=o,console.log(c.jobs),c.jobs})],o.activateController(e,r).then(function(){i("Activated Jobs View")})}angular.module("app").controller("MISCardUsageIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var a="CardClientMISReportIN";function t(t,o,n){var e=(0,o.logger.getLogFn)(a);o.activateController([],a).then(function(){e("Activated Jobs View")})}angular.module("app").controller("CardClientMISReportIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="MISStationaryStockMonitorIN";function o(t,o,n){var e,i,c=this,a=(0,o.logger.getLogFn)(r);c.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},c.jobs=[],e=[n.resourcejob.getJobs(i).then(function(o){return c.jobs=o,console.log(c.jobs),c.jobs})],o.activateController(e,r).then(function(){a("Activated Jobs View")})}angular.module("app").controller("MISStationaryStockMonitorIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var c="MISStationarySummaryIN";function o(t,o,n){var a,e,i=this,r=(0,o.logger.getLogFn)(c);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],a=[n.resourcejob.getJobs(e).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(a,c).then(function(){r("Activated Jobs View")})}angular.module("app").controller("MISStationarySummaryIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var r="MISStationaryUsageIN";function o(t,o,n){var e,a,i=this,c=(0,o.logger.getLogFn)(r);i.gotoJobDetails=function(o){o&&o.id&&t.path("/co/job/"+o.id)},i.jobs=[],e=[n.resourcejob.getJobs(a).then(function(o){return i.jobs=o,console.log(i.jobs),i.jobs})],o.activateController(e,r).then(function(){c("Activated Jobs View")})}angular.module("app").controller("MISStationaryUsageIN",o),o.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var a="MISCardClientListIN";function t(n,t,i){var e,o,c=this,l=(0,t.logger.getLogFn)(a);c.clients=[],c.gotoClientDetails=function(t){t&&t.id&&n.path("/in/mis/card/client/"+t.id+"/productlists")},e=[i.inventory.getClients(o).then(function(t){return c.clients=t,console.log(c.clients),c.clients})],t.activateController(e,a).then(function(){l("Activated Jobs View")})}angular.module("app").controller("MISCardClientListIN",t),t.$inject=["$location","common","datacontext"]}();
!function(){"use strict";var u="MISCreateProductIN";function e(e,t,a,o,c,r,n){var d=this,i=(0,o.logger.getLogFn)(u);d.goBack=function(){$window.history.back()},d.save=function(){d.newEntity={sidClientId:d.client.id,sidCardTypeId:d.card.cardType.id,name:d.card.productName,shortCode:d.card.productShortCode},e=d.newEntity,t=r.resourceUri.inventory+"/product/create",n.saveResource(t,e).then(function(e){d.card.productName="",d.card.productShortCode=""},function(e){a.message="Failed to save due to: "+e.data.message});var e,t},d.selectedClientVariant=[],a.message="",d.cardTypes=[],d.createVault=!1,d.productName=!1,d.card={},d.copyText=function(){d.card.productShortCode=d.card.productName},function(){!function(){var e=c.lookup.lookupCachedData;d.sidClients=e.clients,d.cardTypes=e.sidCardTypes;var a=t.clientId;angular.forEach(d.sidClients,function(e,t){e.id==a&&(d.client=e,d.card.clientName=e.name)})}();o.activateController([],u).then(function(){i("Activated X JobDetails View")})}()}angular.module("app").controller("MISCreateProductIN",e),e.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var a="MISDeliveryNoteReportsIN";function e(e,o,t,r,n){var i,l,c=this,s=(0,t.logger.getLogFn)(a);r.keyCodes;c.deliverynotereports=[],i=[n.inventory.AllDeliveryNotes(l).then(function(e){return c.deliverynotereports=e,console.log(c.deliverynotereports),c.deliverynotereports})],t.activateController(i,a).then(function(){s("Activated Jobs View")})}angular.module("app").controller("MISDeliveryNoteReportsIN",e),e.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var h="MISDispatchReportsIN";function t(t,o,e,r,n){var c,s,a,i,p=this,u=(0,e.logger.getLogFn)(h);r.keyCodes;p.dispatchreports=[],c=[n.dispatchjob.getAllDispatchDelivery(i).then(function(t){return p.dispatchreports=t,console.log(p.dispatchreports),p.dispatchreports}),n.resourcejob.getJobTrackers(a).then(function(t){return p.jobTrackers=t,p.jobTrackers}),n.inventjob.getJobs(s).then(function(t){return p.jobs=t,p.jobs})],e.activateController(c,h).then(function(){u("Activated Jobs View")})}angular.module("app").controller("MISDispatchReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var g="MISHeldCardReportsIN";function t(r,n,o,t,c){var i=this,e=(0,o.logger.getLogFn)(g),u=t.keyCodes;i.gotoclientProductDetails=function(t){var e=n.clientId;console.log("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists"),t&&t.id&&r.path("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists")},i.filteredProducts=[],i.products=[],i.productsSearch="",i.productsFilter=s,i.search=function(t){t.keyCode===u.esc?(i.productsSearch="",d(!0)):d()},i.productCount=0,i.productFilteredCount=0,i.paging={currentPage:1,maxPagesToShow:5,pageSize:10},i.pageChanged=function(t){if(!t)return;i.paging.currentPage=t,p()},Object.defineProperty(i.paging,"pageCount",{get:function(){return Math.floor(i.productFilteredCount/i.paging.pageSize)+1}});var a,d=function(){};function p(e){var t=n.clientId;return c.inventory.getClientProducts(t,e,i.paging.currentPage,i.paging.pageSize,i.productsSearch).then(function(t){return i.products=i.filteredProducts=t,i.productFilteredCount=c.inventory.getProductFilteredCount(i.productsSearch),i.productCount&&!e||c.inventory.getProductCount().then(function(t){return i.productCount=t}),t})}function d(){i.filteredProducts=i.products.filter(s)}function s(t){var e=o.textContains,r=i.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],o.activateController(a,g).then(function(){d=o.createSearchThrottle(i,"products"),i.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("MISHeldCardReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var l="MISIssuanceReportsIN";function e(e,t,n,o,s){var r,c,a,i=this,u=(0,n.logger.getLogFn)(l);o.keyCodes;i.issuancereports=[],r=[s.inventory.getAllIssuanceReports(a).then(function(e){return i.issuancereports=e,console.log(i.issuancereports),i.issuancereports}),s.inventjob.getJobs(c).then(function(e){return i.jobs=e,i.jobs})],n.activateController(r,l).then(function(){u("Activated Jobs View")})}angular.module("app").controller("MISIssuanceReportsIN",e),e.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var g="MISReportsIN";function t(r,n,o,t,c){var i=this,e=(0,o.logger.getLogFn)(g),u=t.keyCodes;i.gotoclientProductDetails=function(t){var e=n.clientId;console.log("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists"),t&&t.id&&r.path("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists")},i.filteredProducts=[],i.products=[],i.productsSearch="",i.productsFilter=s,i.search=function(t){t.keyCode===u.esc?(i.productsSearch="",d(!0)):d()},i.productCount=0,i.productFilteredCount=0,i.paging={currentPage:1,maxPagesToShow:5,pageSize:10},i.pageChanged=function(t){if(!t)return;i.paging.currentPage=t,p()},Object.defineProperty(i.paging,"pageCount",{get:function(){return Math.floor(i.productFilteredCount/i.paging.pageSize)+1}});var a,d=function(){};function p(e){var t=n.clientId;return c.inventory.getClientProducts(t,e,i.paging.currentPage,i.paging.pageSize,i.productsSearch).then(function(t){return i.products=i.filteredProducts=t,i.productFilteredCount=c.inventory.getProductFilteredCount(i.productsSearch),i.productCount&&!e||c.inventory.getProductCount().then(function(t){return i.productCount=t}),t})}function d(){i.filteredProducts=i.products.filter(s)}function s(t){var e=o.textContains,r=i.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],o.activateController(a,g).then(function(){d=o.createSearchThrottle(i,"products"),i.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("MISReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var g="MISReportsIN";function t(r,n,o,t,c){var i=this,e=(0,o.logger.getLogFn)(g),u=t.keyCodes;i.gotoclientProductDetails=function(t){var e=n.clientId;console.log("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists"),t&&t.id&&r.path("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists")},i.filteredProducts=[],i.products=[],i.productsSearch="",i.productsFilter=s,i.search=function(t){t.keyCode===u.esc?(i.productsSearch="",d(!0)):d()},i.productCount=0,i.productFilteredCount=0,i.paging={currentPage:1,maxPagesToShow:5,pageSize:10},i.pageChanged=function(t){if(!t)return;i.paging.currentPage=t,p()},Object.defineProperty(i.paging,"pageCount",{get:function(){return Math.floor(i.productFilteredCount/i.paging.pageSize)+1}});var a,d=function(){};function p(e){var t=n.clientId;return c.inventory.getClientProducts(t,e,i.paging.currentPage,i.paging.pageSize,i.productsSearch).then(function(t){return i.products=i.filteredProducts=t,i.productFilteredCount=c.inventory.getProductFilteredCount(i.productsSearch),i.productCount&&!e||c.inventory.getProductCount().then(function(t){return i.productCount=t}),t})}function d(){i.filteredProducts=i.products.filter(s)}function s(t){var e=o.textContains,r=i.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],o.activateController(a,g).then(function(){d=o.createSearchThrottle(i,"products"),i.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("MISReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var g="MISReportsIN";function t(r,n,o,t,c){var i=this,e=(0,o.logger.getLogFn)(g),u=t.keyCodes;i.gotoclientProductDetails=function(t){var e=n.clientId;console.log("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists"),t&&t.id&&r.path("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists")},i.filteredProducts=[],i.products=[],i.productsSearch="",i.productsFilter=s,i.search=function(t){t.keyCode===u.esc?(i.productsSearch="",d(!0)):d()},i.productCount=0,i.productFilteredCount=0,i.paging={currentPage:1,maxPagesToShow:5,pageSize:10},i.pageChanged=function(t){if(!t)return;i.paging.currentPage=t,p()},Object.defineProperty(i.paging,"pageCount",{get:function(){return Math.floor(i.productFilteredCount/i.paging.pageSize)+1}});var a,d=function(){};function p(e){var t=n.clientId;return c.inventory.getClientProducts(t,e,i.paging.currentPage,i.paging.pageSize,i.productsSearch).then(function(t){return i.products=i.filteredProducts=t,i.productFilteredCount=c.inventory.getProductFilteredCount(i.productsSearch),i.productCount&&!e||c.inventory.getProductCount().then(function(t){return i.productCount=t}),t})}function d(){i.filteredProducts=i.products.filter(s)}function s(t){var e=o.textContains,r=i.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[p()],o.activateController(a,g).then(function(){d=o.createSearchThrottle(i,"products"),i.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("MISReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var p="MISClientsIN";function t(n,r,o,t,c){var i=this,e=(0,o.logger.getLogFn)(p),u=t.keyCodes;i.gotoclientProductDetails=function(t){var e=r.clientId;console.log("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists"),t&&t.id&&n.path("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists")},i.filteredProducts=[],i.products=[],i.productsSearch="",i.productsFilter=g,i.search=function(t){t.keyCode===u.esc?(i.productsSearch="",d(!0)):d()},i.productCount=0,i.productFilteredCount=0,i.paging={currentPage:1,maxPagesToShow:5,pageSize:10},i.pageChanged=function(t){if(!t)return;i.paging.currentPage=t,s()},Object.defineProperty(i.paging,"pageCount",{get:function(){return Math.floor(i.productFilteredCount/i.paging.pageSize)+1}});var a,d=function(){};function s(e){var t=r.clientId;return c.inventory.getClientProducts(t,e,i.paging.currentPage,i.paging.pageSize,i.productsSearch).then(function(t){return i.products=i.filteredProducts=t,i.productFilteredCount=c.inventory.getProductFilteredCount(i.productsSearch),i.productCount&&!e||c.inventory.getProductCount().then(function(t){return i.productCount=t}),t})}function d(){i.filteredProducts=i.products.filter(g)}function g(t){var e=o.textContains,n=i.productsSearch;return!n||(e(t.name,n)||e(t.name,n)||e(t.name,n)||e(t.name,n)||e(t.name,n))}a=[s()],o.activateController(a,p).then(function(){d=o.createSearchThrottle(i,"products"),i.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("MISClientsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var f="MISReportDetailIN";function t(t,o,n,e,r){var s,c,l,u,i,a,g,d=this,I=(0,n.logger.getLogFn)(f);e.keyCodes;d.stocklogs=[],s=[(g=o.productId,r.inventory.getClientStockLogs(g,a).then(function(t){return d.stocklogs=t,console.log(d.stocklogs),d.stocklogs})),(i=o.productId,r.inventory.getClientReturnLogs(i,u).then(function(t){return d.returnlogs=t,console.log(d.returnlogs),d.returnlogs})),r.inventory.getAllCardIssuances(l).then(function(t){return d.CardIssuances=t,d.CardIssuances}),r.resourcejob.getJobs(c).then(function(t){return d.jobs=t,d.jobs})],n.activateController(s,f).then(function(){I("Activated Jobs View")})}angular.module("app").controller("MISReportDetailIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var m="MISReportsIN";function t(t,e,o,n,r){var c,s,i,u,a=this,g=(0,o.logger.getLogFn)(m),l=n.keyCodes;function d(t){return a.message="Please wait...",a.messageVisble=!0,r.cardopslookup.getClients(t,a.paging.currentPage,a.paging.pageSize,a.clientSearch).then(function(t){return a.clients=a.filteredClients=t,a.clientId=a.clients[0].id,p(a.clients[0].name),a.serverJobCount,a.message="",a.messageVisble=!1,t})}function p(t,e){return r.cardopslookup.getProductWithPredicate(e,t).then(function(t){return a.products=t,a.productId=a.products[0].id,a.productName=a.products[0].name,f(a.products[0].id),h(a.products[0].id),a.products})}function f(t,e){return r.inventory.getClientVaultReports(t,e).then(function(t){return a.vaultrepots=t,console.log(a.vaultrepots),a.vaultrepots})}function h(t,e){return r.inventory.getClientStockReports(t,e).then(function(t){return a.stockreports=t,console.log(a.stockreports),a.stockreports})}a.products=[],a.stockrepots=[],a.gotoClientProducts=function(t){a.clientId=t.id,p(t.name)},a.gotoClientVault=function(t){a.productId=t.id,a.productName=t.name,f(t.id),h(t.id)},a.gotoStockReportLog=function(t){e=t.id,r.inventory.getClientStockLogByStockReportId(e,o).then(function(t){return a.stockreportlogs=t,console.log(a.stockreportlogs),a.stockreportlogs});var e,o},a.productId=0,a.productName="",a.clients=[],a.clientSearch="",a.filteredClients=[],a.search=function(t){t.keyCode===l.esc&&(a.clientSearch="");d()},a.clientCount=0,a.clientFilteredCount=0,a.paging={currentPage:1,maxPagesToShow:10,pageSize:10},a.pageChanged=function(t){if(!t)return;a.paging.currentPage=t,d()},Object.defineProperty(a.paging,"pageCount",{get:function(){return Math.floor(a.serverJobFilteredCount/a.paging.pageSize)+1}}),a.message="",a.messageVisble=!1,c=[d(),r.cardopslookup.getProducts(u).then(function(t){return a.products=t,a.products}),r.inventjob.getCardIssuances(i).then(function(t){return a.cardissuances=t,console.log(a.cardissuances),a.cardissuances}),r.inventjob.getJobs(s).then(function(t){return a.jobs=t,a.jobs})],o.activateController(c,m).then(function(){g("Activated Jobs View")})}angular.module("app").controller("MISReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var g="MISStockReportsIN";function t(t,o,e,n,s){var r,c,a,i=this,u=(0,e.logger.getLogFn)(g);n.keyCodes;i.products=[],i.stockrepots=[],i.gotoStockReportLog=function(t){c=t.id,s.inventory.getClientStockLogByStockReportId(c,o).then(function(t){var o,e,n,r;return i.stockreportlogs=t,o=c,s.inventory.getCardIssuanceByStockLog(o,e).then(function(t){return i.cardIssuance=t,i.cardIssuance}),n=c,s.inventory.getJobByCardIssuanceId(n,r).then(function(t){return i.jobs=t,i.jobs}),i.stockreportlogs});var c,o},r=[(a=o.productId,s.inventory.getClientStockReports(a,c).then(function(t){return i.stockrepots=t,console.log(i.stockrepots),i.stockrepots}))],e.activateController(r,g).then(function(){u("Activated Jobs View")})}angular.module("app").controller("MISStockReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var s="MISCardProductDetailIN";function t(e,r,n,t,o){var c=this,u=(0,n.logger.getLogFn)(s),a=t.keyCodes;c.gotoclientProductDetails=function(t){t&&t.id&&e.path("/in/mis/card/client/:clientId/product/:productId/reports")},c.filteredProducts=[],c.products=[],c.productsSearch="",c.productsFilter=g,c.search=function(t){t.keyCode===a.esc?(c.productsSearch="",d(!0)):d()},c.productCount=0,c.productFilteredCount=0,c.paging={currentPage:1,maxPagesToShow:5,pageSize:10},c.pageChanged=function(t){if(!t)return;c.paging.currentPage=t,p()},Object.defineProperty(c.paging,"pageCount",{get:function(){return Math.floor(c.productFilteredCount/c.paging.pageSize)+1}});var i,d=function(){};function p(e){var t=r.clientId;return o.inventory.getClientProducts(t,e,c.paging.currentPage,c.paging.pageSize,c.productsSearch).then(function(t){return c.products=c.filteredProducts=t,c.productFilteredCount=o.inventory.getProductFilteredCount(c.productsSearch),c.productCount&&!e||o.inventory.getProductCount().then(function(t){return c.productCount=t}),t})}function d(){c.filteredProducts=c.products.filter(g)}function g(t){var e=n.textContains,r=c.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}i=[p()],n.activateController(i,s).then(function(){d=n.createSearchThrottle(c,"products"),c.productsSearch&&d(!0),u("Activated Jobs View")})}angular.module("app").controller("MISCardProductDetailIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var p="MISCardProductListIN";function t(r,n,o,t,c){var i=this,e=(0,o.logger.getLogFn)(p),u=t.keyCodes;i.gotoclientProductDetails=function(t){var e=n.clientId;console.log("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists"),t&&t.id&&r.path("/in/mis/card/client/"+e+"/product/"+t.id+"/joblists")},i.filteredProducts=[],i.products=[],i.productsSearch="",i.productsFilter=g,i.search=function(t){t.keyCode===u.esc?(i.productsSearch="",d(!0)):d()},i.productCount=0,i.productFilteredCount=0,i.paging={currentPage:1,maxPagesToShow:5,pageSize:10},i.pageChanged=function(t){if(!t)return;i.paging.currentPage=t,s()},Object.defineProperty(i.paging,"pageCount",{get:function(){return Math.floor(i.productFilteredCount/i.paging.pageSize)+1}});var a,d=function(){};function s(e){var t=n.clientId;return c.inventory.getClientProducts(t,e,i.paging.currentPage,i.paging.pageSize,i.productsSearch).then(function(t){return i.products=i.filteredProducts=t,i.productFilteredCount=c.inventory.getProductFilteredCount(i.productsSearch),i.productCount&&!e||c.inventory.getProductCount().then(function(t){return i.productCount=t}),t})}function d(){i.filteredProducts=i.products.filter(g)}function g(t){var e=o.textContains,r=i.productsSearch;return!r||(e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r)||e(t.name,r))}a=[s()],o.activateController(a,p).then(function(){d=o.createSearchThrottle(i,"products"),i.productsSearch&&d(!0),e("Activated Jobs View")})}angular.module("app").controller("MISCardProductListIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var s="MISReceiptLogReportsIN";function e(e,t,o,r,n){var c,i,a=this,p=(0,o.logger.getLogFn)(s);r.keyCodes;c=[n.inventory.AllCardReceiptReports(i).then(function(e){return a.receiptrepots=e,console.log(a.receiptrepots),a.receiptrepots})],o.activateController(c,s).then(function(){p("Activated Jobs View")})}angular.module("app").controller("MISReceiptLogReportsIN",e),e.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var i="MISVaultReportsIN";function t(t,o,e,n,r){var a,l,u=this,c=(0,e.logger.getLogFn)(i);n.keyCodes;u.vaultrepots=[],a=[r.inventory.AllClientVaultReports(l).then(function(t){return u.vaultrepots=t,console.log(u.vaultrepots),u.vaultrepots})],e.activateController(a,i).then(function(){c("Activated Jobs View")})}angular.module("app").controller("MISVaultReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var u="VaultUpdateIN";function e(n,a,e,t,o,c,r){var i=this,s=(0,e.logger.getLogFn)(u);t.keyCodes;i.save=function(){var e=a.productId;i.newEntity={sidProductId:e,quantity:i.issuance.quantity},t=i.newEntity,o=c.resourceUri.inventory+"/directcard/create",r.saveResource(o,t).then(function(e){console.log(e),n.path("/in/mis/card/mis-reports")},function(e){console.lo(e),$scope.message="Failed to save due to: "+e.data.message});var t,o},e.activateController([],u).then(function(){s("Activated Jobs View")})}angular.module("app").controller("VaultUpdateIN",e),e.$inject=["$location","$routeParams","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var g="MISWasteReportsIN";function t(t,e,o,r,n){var s,a,c,i,u=this,l=(0,o.logger.getLogFn)(g);r.keyCodes;u.wastereports=[],s=[n.inventory.getAllCardWasteReports(i).then(function(t){return u.wastereports=t,console.log(u.wastereports),u.wastereports}),n.inventjob.getJobs(c).then(function(t){return u.jobs=t,u.jobs}),n.resourcejob.getJobTrackers(a).then(function(t){return u.jobTrackers=t,u.jobTrackers})],o.activateController(s,g).then(function(){l("Activated Jobs View")})}angular.module("app").controller("MISWasteReportsIN",t),t.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var d="OlderCompletedJobSv";function e(r,e,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(d),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return u.jobTrackerCount=e}),e})}function l(){u.filteredJobTrackers=u.jobTrackers.filter(j)}function j(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function f(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}function k(){s(!0),f(!0)}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=k,u.flagJob=function(e){console.log(e),r.path("/job-flag/"+e.id)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=j,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),l()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:15},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData,k();var e=[s(!0),f(!0)];t.activateController(e,d).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("OlderCompletedJobSv",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="RecentCompletedJobSv";function e(r,e,o,t,n,a,c,i){var u=this,b=(0,t.logger.getLogFn)(d),g=n.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(l)}function l(e){var r=t.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function f(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}function k(){s(!0),f(!0)}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=k,u.flagJob=function(e){console.log(e),r.path("/job-flag/"+e.id)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=l,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:15},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData,k();var e=[s(!0),f(!0)];t.activateController(e,d).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("RecentCompletedJobSv",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var d="OlderPendingJobSv";function e(r,e,o,n,t,a,c,i){var u=this,b=(0,n.logger.getLogFn)(d),g=t.keyCodes;function s(r){return a.resourcejob.getJobTrackers(r,u.paging.currentPage,u.paging.pageSize,u.jobTrackersSearch).then(function(e){return u.jobTrackers=u.filteredJobTrackers=e,u.jobTrackerFilteredCount=a.resourcejob.getJobTrackerFilteredCount(u.jobTrackersSearch),u.jobTrackerCount&&!r||a.resourcejob.getJobTrackerCount().then(function(e){return u.jobTrackerCount=e}),e})}function j(){u.filteredJobTrackers=u.jobTrackers.filter(l)}function l(e){var r=n.textContains,o=u.jobTrackersSearch;return!o||(r(e.job.jobName,o)||r(e.job.jobName,o))}function f(e){return a.resourcejob.getJobs(e).then(function(e){return u.jobs=e,u.jobs})}function k(){s(!0),f(!0)}u.jobTrackers=[],u.jobs=[],u.gotoAuditTrail=function(e){window.open("#/job/audit-trail/"+e.id,"_blank")},u.refresh=k,u.flagJob=function(e){console.log(e),r.path("/job-flag/"+e.id)},u.filteredJobTrackers=[],u.jobTrackersSearch="",u.jobTrackersFilter=l,u.search=function(e){e.keyCode===g.esc&&(u.jobTrackersSearch=""),j()},u.jobTrackerCount=0,u.jobTrackerFilteredCount=0,u.paging={currentPage:1,maxPagesToShow:10,pageSize:15},u.pageChanged=function(e){if(!e)return;u.paging.currentPage=e,s()},Object.defineProperty(u.paging,"pageCount",{get:function(){return Math.floor(u.jobTrackerFilteredCount/u.paging.pageSize)+1}}),function(){a.lookup.lookupCachedData,k();var e=[s(!0),f(!0)];n.activateController(e,d).then(function(){b("Activated Job Status View")})}()}angular.module("app").controller("OlderPendingJobSv",e),e.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var l="RecentPendingJobSv";function o(o,e,t,n,c,r,a,i){var u=this,s=(0,n.logger.getLogFn)(l);c.keyCodes;u.jobs=[],function(){r.lookup.lookupCachedData;var o=[r.resourcejob.getJobs(e).then(function(o){return u.jobs=o,u.jobs})];var e;n.activateController(o,l).then(function(){s("Activated Job Status View")})}()}angular.module("app").controller("RecentPendingJobSv",o),o.$inject=["$location","$routeParams","$scope","common","config","datacontext","model","resourceService"]}();