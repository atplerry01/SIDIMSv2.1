!function(){"use strict";var e="ChangePassword";function s(s,a,o,t,r,n,i){var l=this,c=(0,t.logger.getLogFn)(e);l.roles=[],l.save=function(){l.newEntity={oldPassword:l.user.currentPassWord,newPassword:l.user.newPassword,confirmPassword:l.user.confirmPassword},e=l.newEntity,a=n.resourceUri.accounts+"/ChangePassword",i.saveResource(a,e).then(function(e){console.log(e),o.message="",l.isSaving=!0,l.message="Please wait...",l.messageVisble=!0,s.path("/")},function(e){console.log(e),console.log(e.data),l.isSaving=!1,l.message="",l.messageVisble=!1;var s=[];for(var a in e.data.modelState)for(var t=0;t<e.data.modelState[a].length;t++)s.push(e.data.modelState[a][t]);o.message="Failed to register user due to:"+s.join(" ")});var e,a},o.message="",l.message="",l.messageVisble=!1,function(){s=r.lookup.lookupCachedData,l.roles=s.roles;var s;t.activateController([],e).then(function(){c("Activated JobDetails View")})}()}angular.module("app").controller("ChangePassword",s),s.$inject=["$location","$routeParams","$scope","common","datacontext","model","resourceService"]}();
!function(){"use strict";var o="CompletedJob";function e(e,n,t,i,c,r,s,a,g,l){var u,m,b,d=this,f=(0,r.logger.getLogFn)(o);d.gotoJobDetails=function(o){o&&o.id&&e.path("ce/first-card/"+o.id)},d.jobs=[],d.incomingPersos=[],u=[a.cardengrjob.getIncomingPersos(b).then(function(o){return d.incomingPersos=o,console.log(d.incomingPersos),d.incomingPersos}),a.inventjob.getJobs(m).then(function(o){return d.jobs=o,d.jobs})],r.activateController(u,o).then(function(){f("Activated Jobs View")})}angular.module("app").controller("CompletedJob",e),e.$inject=["$location","$route","$rootScope","$scope","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var o="PendingJob";function e(e,n,t,i,c,r,s,a,g,l){var u,d,b=this,f=(0,r.logger.getLogFn)(o);b.gotoJobDetails=function(o){o&&o.id&&e.path("ce/first-card/"+o.id)},b.jobs=[],b.incomingPersos=[],u=[a.clients.getPendingJobs(1,d).then(function(o){return b.jobs=o,console.log(b.jobs),b.jobs})],r.activateController(u,o).then(function(){f("Activated Jobs View")})}angular.module("app").controller("PendingJob",e),e.$inject=["$location","$route","$rootScope","$scope","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var e="dashboard";function r(r,o,t,n,u,c,i,a,s,g,b){var v=this,d=(0,i.logger.getLogFn)(e),f=a.keyCodes;function l(e,r){return s.resourcejob.getRecentServerJobQueues2(e,r,v.paging.currentPage,v.paging.pageSize,v.serverJobsSearch).then(function(e){return v.recentServerJobs=v.recentFilteredServerJobs=e,v.serverJobCount&&!r||h(),S(),e})}function p(e,r){return s.resourcejob.getRecentServerJobQueues(e,r,v.paging.currentPage,v.paging.pageSize,v.serverJobsSearch).then(function(e){return v.recentServerJobs=v.recentFilteredServerJobs=e,v.serverJobCount&&!r||h(),S(),e})}function h(){return s.resourcejob.getServerJobCount().then(function(e){return v.serverJobCount=e})}function S(){v.serverJobFilteredCount=s.resourcejob.getServerJobFilteredCount(v.serverJobsSearch)}v.fileType="asc",v.auth=c.authentication,v.gotoJobDetails=function(e){e&&e.id&&("CardOps"!==v.currnetRole&&"CardOps Supervisor"!==v.currnetRole||r.path("/co/job-setup/"+e.id))},v.roles=[],v.currnetRole=void 0,v.refresh=function(){l(v.fileType)},v.markTreated=function(e){r={id:e.id,jobName:e.jobName},o=g.resourceUri.co+"/serverjob/delete",b.updateResource(o,r).then(function(e){l()},function(e){n.message="Failed to save resource due to:"});var r,o},v.recentServerJobs=[],v.recentFilteredServerJobs=[],v.serverJobsSearch="",v.search=function(e){e.keyCode===f.esc&&(v.serverJobsSearch="");p(v.fileType)},v.serverJobCount=0,v.serverJobFilteredCount=0,v.paging={currentPage:1,maxPagesToShow:10,pageSize:10},v.pageChanged=function(e){if(!e)return;v.paging.currentPage=e,p(v.fileType)},Object.defineProperty(v.paging,"pageCount",{get:function(){return Math.floor(v.serverJobFilteredCount/v.paging.pageSize)+1}}),function(){!function(){var e=c.authentication;if(""!==e.roles){var r=e.page;v.currnetRole=r}}();i.activateController([],e).then(function(){d("Activated Dashboard View")})}()}angular.module("app").controller("dashboard",r),r.$inject=["$location","$route","$rootScope","$scope","$timeout","authService","common","config","datacontext","model","resourceService"]}();
!function(){"use strict";var t="ClientProduct";function o(o,e,n,c,r,i,u){var a,s,l=this,d=(0,c.logger.getLogFn)(t),g=n.authentication;l.gotoJobDetails=function(t){t&&t.id&&o.path("/mis-report/"+t.id)},l.jobs=[],l.incomingJobs=[],a=[r.clients.getProducts(g.customerId,s).then(function(t){return l.products=t,console.log(l.products),l.products})],c.activateController(a,t).then(function(){d("Activated Jobs View")})}angular.module("app").controller("ClientProduct",o),o.$inject=["$location","$routeParams","authService","common","datacontext","model","resourceService"]}();
!function(){"use strict";var e="DeliveryNoteDetail";function o(o,t,n,r,i){var l,c,s,d,a,u=this,v=(0,r.logger.getLogFn)(e);u.deliveryNote=void 0,u.deliveryProfile=void 0,u.deliveryNoteLogs=[],u.gotoJobDetails=function(e){e&&e.id&&o.path("/in/card-setup/"+e.job.id)},l=[(a=t.id,i.dispatchjob.getDeliveryNoteById(a).then(function(e){var o,t,n,r,l;u.deliveryNote=e,o=u.deliveryNote.sidClientId,i.dispatchjob.getDispatchDelivery(o,t).then(function(e){return u.dispatchDelivery=e,console.log(u.dispatchDelivery),u.dispatchDelivery}),n=u.deliveryNote.deliveryProfileId,i.dispatchjob.getDeliveryProfileById(n).then(function(e){u.deliveryProfile=e,console.log(u.deliveryProfile)},function(e){logError("Unable to get deliveryProfile "+n)}),r=u.deliveryNote.id,i.dispatchjob.getDeliveryNoteLogByNoteId(r,l).then(function(e){return u.deliveryNoteLogs=e,console.log(u.deliveryNoteLogs),u.deliveryNoteLogs})},function(e){logError("Unable to get deliveryNote "+a)})),i.resourcejob.getJobTrackers(d).then(function(e){return u.jobTrackers=e,console.log(u.jobTrackers),u.jobTrackers}),i.resourcejob.getJobs(s).then(function(e){return u.jobs=e,console.log(u.jobs),u.jobs}),i.inventaccount.getProductionStaffs(c).then(function(e){return u.staffs=e,console.log(u.staffs),u.staffs})],r.activateController(l,e).then(function(){v("Activated Jobs View")}),n.printToCart=function(e){var o=document.getElementById(e).innerHTML,t=window.open("","_blank","width=800,height=700,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no");t.document.open(),t.document.write('<html><head><link rel="stylesheet" type="text/css" href="style.css" /></head><body onload="window.print()">'+o+"</html>"),t.document.close()}}angular.module("app").controller("DeliveryNoteDetail",o),o.$inject=["$location","$routeParams","$scope","common","datacontext"]}();
!function(){"use strict";var t="DispatchNote";function e(e,o,i,n,r){var c,s,a,l=this,u=(0,i.logger.getLogFn)(t),d=n.authentication;l.gotoJobDetails=function(t){t&&t.id&&e.path("in/dispatch/delivery-report/"+t.id)},l.deliveryreports=[],l.incomingJobs=[],c=[r.clients.getDeliveryReports(d.customerId,a).then(function(t){return l.deliveryreports=t,console.log(l.deliveryreports),l.deliveryreports}),r.clients.getProductionStaffs(s).then(function(t){return l.users=t,l.users})],i.activateController(c,t).then(function(){u("Activated Jobs View")})}angular.module("app").controller("DispatchNote",e),e.$inject=["$location","$window","common","authService","datacontext"]}();
!function(){"use strict";var o="MISReport";function t(t,n,c,e){var i=this,a=(0,c.logger.getLogFn)(o);i.jobs=[],i.incomingPersos=[],i.goBack=function(){n.history.back()},c.activateController([],o).then(function(){a("Activated Jobs View")})}angular.module("app").controller("MISReport",t),t.$inject=["$location","$window","common","datacontext"]}();
!function(){"use strict";var t="MISStockReport";function o(o,e,n,c,r){var s,i,a,u=this,l=(0,n.logger.getLogFn)(t);c.keyCodes;u.products=[],u.stockrepots=[],u.gotoStockReportLog=function(t){o=t.id,r.clients.getClientStockLogByStockReportId(o,e).then(function(t){var e,n,c,s;return u.stockreportlogs=t,e=o,r.clients.getCardIssuanceByStockLog(e,n).then(function(t){return u.cardIssuance=t,u.cardIssuance}),c=o,r.clients.getJobByCardIssuanceId(c,s).then(function(t){return u.jobs=t,u.jobs}),u.stockreportlogs});var o,e},s=[(a=e.id,r.clients.getClientStockReports(a,i).then(function(t){return u.stockrepots=t,console.log(u.stockrepots),u.stockrepots}))],n.activateController(s,t).then(function(){l("Activated Jobs View")})}angular.module("app").controller("MISStockReport",o),o.$inject=["$location","$routeParams","common","config","datacontext"]}();
!function(){"use strict";var o="CompletedJob";function n(n,t,e,i,c){var r,s,a=this,l=(0,i.logger.getLogFn)(o),g=e.authentication;a.jobs=[],a.incomingPersos=[],a.goBack=function(){t.history.back()},r=[c.clients.getCompletedJobs(g.customerId,s).then(function(o){return a.incomingPersos=o,console.log(a.incomingPersos),a.incomingPersos})],i.activateController(r,o).then(function(){l("Activated Jobs View")})}angular.module("app").controller("CompletedJob",n),n.$inject=["$location","$window","authService","common","datacontext"]}();
!function(){"use strict";var n="PendingJob";function o(o,t,i,e,c){var r,s,a=this,g=(0,e.logger.getLogFn)(n),u=i.authentication;a.jobs=[],a.incomingPersos=[],a.goBack=function(){t.history.back()},r=[c.clients.getPendingJobs(u.customerId,s).then(function(n){return a.incomingPersos=n,console.log(a.incomingPersos),a.incomingPersos})],e.activateController(r,n).then(function(){g("Activated Jobs View")})}angular.module("app").controller("PendingJob",o),o.$inject=["$location","$window","authService","common","datacontext"]}();
!function(){"use strict";angular.module("app.layout",[])}();
!function(){"use strict";function t(t,o,i,n,c,a){var e=this;n.logger;e.title=void 0,e.title2=void 0,i.name="Olami",o.$on("$routeChangeSuccess",function(o,n,c){i.location=t.path();var r={};try{a.forEach(function(t){if(t.url==i.location&&(e.title=t.config.title),void 0===t)throw r})}catch(t){if(t!==r)throw t}}),o.$on("$routeChangeStart",function(o,n,c){i.location=t.path();var r={};try{a.forEach(function(t){if(t.url==i.location&&(e.title=t.config.title),void 0===t)throw r})}catch(t){if(t!==r)throw t}})}angular.module("app").controller("pagetitle",t),t.$inject=["$location","$rootScope","$scope","common","datacontext","routes"]}();
!function(){"use strict";function e(e,o){var s=this,t=e.logger;s.busyMessage="Please wait ...",s.isBusy=!0,s.showSplash=!0,t.success("CodeCamper loaded!",null),e.$timeout(function(){s.showSplash=!1},1e3)}angular.module("app.layout").controller("Shell",e),e.$inject=["common","datacontext"]}();
!function(){"use strict";function t(t,e,r,n,o,i){var a=this,s=n.keyCodes;a.clearStorage=function(){return r.deleteDialog("local storage and work in progress").then(function(){o.zStorage.clear()}).catch(function(){})},a.isCurrent=function(t){if(!t.title||!e.current||!e.current.title)return"";var r=t.title;return e.current.title.substr(0,r.length)===r?"current":""},a.routes=i.getRoutes(),a.search=function(e){if(e.keyCode===s.esc)return void(a.searchText="");if("click"===e.type||e.keyCode===s.enter){t.path("/sessions/search/"+a.searchText)}},a.searchText="",a.wip=[],a.wipChangedEvent=n.events.storage.wipChanged,a.navRoutes=a.routes.filter(function(t){return t.settings&&t.settings.nav}).sort(function(t,e){return t.settings.nav-e.settings.nav}),a.wip=o.zStorageWip.getWipSummary()}angular.module("app.layout").controller("Sidebar",t),t.$inject=["$location","$route","bootstrap.dialog","config","datacontext","routehelper"]}();
!function(){"use strict";var e="login";function t(t,o,a,l,n,r,u,i,c){(0,r.logger.getLogFn)(e),r.$q;var s=this,h=u.keyCodes,g={clientId:"",isAuth:!1,userName:"",page:"",roles:"",fullName:""};s.search=function(e){if(console.log("enter"),e.keyCode===h.esc)return void(s.searchText="");if(""===e.type||e.keyCode===h.enter){console.log("enter");t.path("products/search/"+s.searchText)}},s.switchAccount=function(e){var o=i.get("authorizationData");o&&(g.isAuth=!0,g.userName=o.userName,g.clientId=c.clientId,g.page=o.page,g.roles=o.roles,g.fullName=o.fullName);i.set("authorizationData",{clientId:o.clientId,token:o.token,userName:o.userName,roles:o.roles,page:e.name,fullName:o.fullName});i.get("authorizationData");l.location.reload(),t.path("/")},s.auth=n.authentication,s.roles=[],a.logOut=function(){n.logOut(),t.path("/login")},r.activateController([function(){if(null!=s.auth.fullName&&""!==s.auth.fullName||(console.log("empty"),o.reload()),s.auth.roles){var e=s.auth.roles;angular.forEach(e,function(e){s.roles.push({name:e})})}else o.reload()}()],e).then(function(){})}angular.module("app").controller("userInfoNavBar",t),t.$inject=["$location","$route","$scope","$window","authService","common","config","localStorageService","ngAuthSettings"]}();
!function(){"use strict";var e="login";function i(i,s,n,o,a,t,l,r,g,c){(0,g.logger.getLogFn)(e),g.$q;var u=this;u.isSaving=!1,u.message="",u.messageVisble=!1,u.login=function(){n.message="",u.isSaving=!0,u.message="Please wait...",u.messageVisble=!0,r.login(n.loginData).then(function(e){s.path("/"),t.location.reload()},function(e){console.log(e),u.isSaving=!1,u.message="",u.messageVisble=!1,n.message=e.error_description,console.log(e.error_description)})},u.clearErrorMessage=function(){n.message=""},n.showParticles=!0,n.loginData={userName:"",password:""},n.message="",Object.defineProperty(u,"canSave",{get:function(){return!u.isSaving}}),n.login=function(){o.isLoginPage=!1,o.isLightLoginPage=!1,o.isLockscreenPage=!1,o.isMainPage=!0,o.isContent=!0,o.layoutOptions={horizontalMenu:{isVisible:!1,isFixed:!0,minimal:!1,clickToExpand:!1,isMenuOpenMobile:!1},sidebar:{isVisible:!0,isCollapsed:!1,toggleOthers:!0,isFixed:!0,isRight:!1,isMenuOpenMobile:!1,userProfile:!0},chat:{isOpen:!1},settingsPane:{isOpen:!1,useAnimation:!0},container:{isBoxed:!1},skins:{sidebarMenu:"",horizontalMenu:"",userInfoNavbar:""},pageTitles:!0,userInfoNavVisible:!1},i.loadOptionsFromCookies(),r.login(n.loginData).then(function(e){accountTypeSetup(),defaultAccountType(),s.path("/")},function(e){n.message=e.error_description,console.log(n.message)})},o.isLoginPage=!0,o.isLightLoginPage=!0,o.isLockscreenPage=!1,o.isMainPage=!1,o.layoutOptions={horizontalMenu:{isVisible:!1,isFixed:!0,minimal:!1,clickToExpand:!1,isMenuOpenMobile:!1},sidebar:{isVisible:!1,isCollapsed:!1,toggleOthers:!1,isFixed:!0,isRight:!1,isMenuOpenMobile:!1,userProfile:!1},chat:{isOpen:!1},settingsPane:{isOpen:!1,useAnimation:!1},container:{isBoxed:!1},skins:{sidebarMenu:"",horizontalMenu:"",userInfoNavbar:""},pageTitles:!1,userInfoNavVisible:!1}}angular.module("app").controller("login",i),i.$inject=["$layout","$location","$scope","$rootScope","$route","$window","accountService","authService","common","localStorageService"]}();
!function(){"use strict";var o="Receivable";function t(t,n,e,c){var i=this,a=(0,e.logger.getLogFn)(o);i.jobs=[],i.incomingPersos=[],i.goBack=function(){n.history.back()},e.activateController([],o).then(function(){a("Activated Jobs View")})}angular.module("app").controller("Receivable",t),t.$inject=["$location","$window","common","datacontext"]}();
!function(){"use strict";var o="StockReport";function t(t,n,c,e){var i=this,a=(0,c.logger.getLogFn)(o);function r(){n.history.back()}i.goBack=r,i.jobs=[],i.incomingPersos=[],i.goBack=r,c.activateController([],o).then(function(){a("Activated Jobs View")})}angular.module("app").controller("StockReport",t),t.$inject=["$location","$window","common","datacontext"]}();